<%
  title "Maybe Blog"
  description "Jargon-free, in-depth articles on everything you need to know about personal finance and wealth management."
%>
<div class="max-w-[1100px] mx-auto">
  <%= image_tag("icon-maybe-color.svg", alt: "Maybe Logo", class: "w-[72px] mb-8 inline") %>
  <h1 class="text-[4.5rem] text-gray-700 max-w-[600px] leading-[calc(1em+4px)] tracking-[-0.04em] font-medium mb-2">Maybe Blog</h1>
  <p class="text-xl font-normal leading-[1.4] max-w-[520px] text-gray-400 tracking-0 mb-2">Jargon-free, in-depth articles on everything you need to know about personal finance and wealth management.</p>
  <div class="max-w-[400px] mb-12 flex flex-col gap-4">
    <%= form_with( url: signups_path) do |f| %>
      <div class="flex flex-row w-full p-1 mb-4 bg-white border shadow-xs rounded-xl mt-0">
        <%= f.email_field :email, placeholder: "Enter your email address", class: "flex-1 border-0 px-2 focus:ring-0 text-sm", required: true %>
        <%= f.submit "Subscribe", class: "py-2 px-3 font-medium text-white bg-gray-900 rounded-lg hover:bg-gray-800 border border-gray-900 text-sm" %>
      </div>
    <% end %>
    <small class="text-sm leading-[1.4] text-gray-400">Subscribe to get our latest articles in your inbox. No spam.</small>
  </div>
  <div class="max-w-6xl mx-auto px-4 py-12">
    <%# Featured (most recent) article %>
    <div class="mb-12">
      <div class="bg-white rounded-2xl border border-gray-200 overflow-hidden">
        <div class="aspect-[1.91/1] bg-gray-100">
          <%= image_tag @featured_article.meta_image_url, class: "w-full h-full object-cover" if @featured_article.meta_image_url.present? %>
        </div>
        <div class="p-6">
          <div class="flex items-center gap-1 text-xs text-gray-500 uppercase tracking-wider mb-2">
            <time datetime="<%= @featured_article.publish_at.strftime('%Y-%m-%d') %>">
              <%= @featured_article.publish_at.strftime('%B %d, %Y') %>
            </time>
            <span>•</span>
            <span><%= article_reading_time(@featured_article) %></span>
            <span>•</span>
            <span>INVESTING</span>
          </div>
          <h2 class="text-xl font-medium leading-tight mb-3">
            <%= link_to @featured_article.title, article_path(@featured_article), class: "hover:text-blue-600" %>
          </h2>
          <div class="flex flex-row items-center gap-3">
            <%= author_image_tag @featured_article.author_name, class: "w-8 h-8 rounded-full bg-gray-100" %>
            <p class="text-sm"><%= @featured_article.author_name %></p>
          </div>
        </div>
      </div>
    </div>
    <%# Grid of subsequent articles %>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
      <% @articles.each do |article| %>
        <%= link_to article, class: "block bg-white shadow-xs rounded-xl border p-1" do %>
          <%= tag.div class: "min-h-[220px] rounded-lg bg-gradient-to-b #{article_gradient(article)}" %>
          <div class="flex flex-col justify-between px-4 py-5 text-left">
            <div class="space-y-2">
              <span class="text-xs font-medium text-gray-500 uppercase">
                <%= article.publish_at.to_date.strftime("%B %-d, %Y") %> — <%= article_reading_time(article) %>
              </span>
              <h2 class="text-2xl font-medium text-gray-900"><%= article.title %></h2>
            </div>
            <% if article.author_name.present? %>
              <div class="flex flex-row items-center gap-3">
                <%= author_image_tag article.author_name, class: "w-8 h-8 rounded-full bg-gray-100" %>
                <p class="text-sm"><%= article.author_name %></p>
              </div>
            <% end %>
          </div>
        <% end %>
      <% end %>
    </div>
    <%# Pagination %>
    <div class="flex justify-center mt-12">
      <%== pagy_nav(@pagy) %>
    </div>
  </div>
</div>
