var t=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:global;var i={};var n;i,n=()=>(()=>{var i={d:(t,n)=>{for(var h in n)i.o(n,h)&&!i.o(t,h)&&Object.defineProperty(t,h,{enumerable:!0,get:n[h]})},o:(t,i)=>Object.prototype.hasOwnProperty.call(t,i)},n={};i.d(n,{default:()=>he});var h={allowedTagList:["b","caption","cite","code","const","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","input","ins","kdb","label","li","option","output","p","q","s","sample","span","strong","td","th","u"]};Object.freeze(h.allowedTagList),Object.defineProperty(h,"allowedTagList",{configurable:!1,writable:!1}),h.fromCharCodeKeyCode={0:"LaunchCalculator",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",91:"OS",92:"OSRight",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",173:"-",182:"MyComputer",183:"MyCalculator",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Meta",225:"AltGraph"},Object.freeze(h.fromCharCodeKeyCode),Object.defineProperty(h,"fromCharCodeKeyCode",{configurable:!1,writable:!1}),h.keyName={Unidentified:"Unidentified",AndroidDefault:"AndroidDefault",Alt:"Alt",AltGr:"AltGraph",CapsLock:"CapsLock",Ctrl:"Control",Fn:"Fn",FnLock:"FnLock",Hyper:"Hyper",Meta:"Meta",OSLeft:"OS",OSRight:"OS",Command:"OS",NumLock:"NumLock",ScrollLock:"ScrollLock",Shift:"Shift",Super:"Super",Symbol:"Symbol",SymbolLock:"SymbolLock",Enter:"Enter",Tab:"Tab",Space:" ",LeftArrow:"ArrowLeft",UpArrow:"ArrowUp",RightArrow:"ArrowRight",DownArrow:"ArrowDown",End:"End",Home:"Home",PageUp:"PageUp",PageDown:"PageDown",Backspace:"Backspace",Clear:"Clear",Copy:"Copy",CrSel:"CrSel",Cut:"Cut",Delete:"Delete",EraseEof:"EraseEof",ExSel:"ExSel",Insert:"Insert",Paste:"Paste",Redo:"Redo",Undo:"Undo",Accept:"Accept",Again:"Again",Attn:"Attn",Cancel:"Cancel",ContextMenu:"ContextMenu",Esc:"Escape",Execute:"Execute",Find:"Find",Finish:"Finish",Help:"Help",Pause:"Pause",Play:"Play",Props:"Props",Select:"Select",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",BrightnessDown:"BrightnessDown",BrightnessUp:"BrightnessUp",Eject:"Eject",LogOff:"LogOff",Power:"Power",PowerOff:"PowerOff",PrintScreen:"PrintScreen",Hibernate:"Hibernate",Standby:"Standby",WakeUp:"WakeUp",Compose:"Compose",Dead:"Dead",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",Print:"Print",num0:"0",num1:"1",num2:"2",num3:"3",num4:"4",num5:"5",num6:"6",num7:"7",num8:"8",num9:"9",a:"a",b:"b",c:"c",d:"d",e:"e",f:"f",g:"g",h:"h",i:"i",j:"j",k:"k",l:"l",m:"m",n:"n",o:"o",p:"p",q:"q",r:"r",s:"s",t:"t",u:"u",v:"v",w:"w",x:"x",y:"y",z:"z",A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X",Y:"Y",Z:"Z",Semicolon:";",Equal:"=",Comma:",",Hyphen:"-",Minus:"-",Plus:"+",Dot:".",Slash:"/",Backquote:"`",LeftParenthesis:"(",RightParenthesis:")",LeftBracket:"[",RightBracket:"]",Backslash:"\\",Quote:"'",numpad0:"0",numpad1:"1",numpad2:"2",numpad3:"3",numpad4:"4",numpad5:"5",numpad6:"6",numpad7:"7",numpad8:"8",numpad9:"9",NumpadDot:".",NumpadDotAlt:",",NumpadMultiply:"*",NumpadPlus:"+",NumpadMinus:"-",NumpadSubtract:"-",NumpadSlash:"/",NumpadDotObsoleteBrowsers:"Decimal",NumpadMultiplyObsoleteBrowsers:"Multiply",NumpadPlusObsoleteBrowsers:"Add",NumpadMinusObsoleteBrowsers:"Subtract",NumpadSlashObsoleteBrowsers:"Divide",_allFnKeys:["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"],_someNonPrintableKeys:["Tab","Enter","Shift","ShiftLeft","ShiftRight","Control","ControlLeft","ControlRight","Alt","AltLeft","AltRight","Pause","CapsLock","Escape"],_directionKeys:["PageUp","PageDown","End","Home","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"]},Object.freeze(h.keyName._allFnKeys),Object.freeze(h.keyName._someNonPrintableKeys),Object.freeze(h.keyName._directionKeys),Object.freeze(h.keyName),Object.defineProperty(h,"keyName",{configurable:!1,writable:!1}),Object.freeze(h);const d=h;function a(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(){return r=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&(t[h]=n[h])}return t},r.apply(this||t,arguments)}function o(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var h,d,f,w,N=[],_=!0,I=!1;try{if(f=(n=n.call(t)).next,0===i){if(Object(n)!==n)return;_=!1}else for(;!(_=(h=f.call(n)).done)&&(N.push(h.value),N.length!==i);_=!0);}catch(t){I=!0,d=t}finally{try{if(!_&&null!=n.return&&(w=n.return(),Object(w)!==w))return}finally{if(I)throw d}}return N}}(t,i)||s(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,i){if(t){if("string"==typeof t)return l(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,i):void 0}}function l(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,h=new Array(i);n<i;n++)h[n]=t[n];return h}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,i){for(var n=0;n<i.length;n++){var h=i[n];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(d=h.key,f=void 0,f=function(t,i){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var h=n.call(t,i||"default");if("object"!==u(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(d,"string"),"symbol"===u(f)?f:String(f)),h)}var d,f}var f=function(){function e(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this||t,e)}var i,n,h;return i=e,h=[{key:"isNull",value:function(t){return null===t}},{key:"isUndefined",value:function(t){return void 0===t}},{key:"isUndefinedOrNullOrEmpty",value:function(t){return null==t||""===t}},{key:"isString",value:function(t){return"string"==typeof t||t instanceof String}},{key:"isEmptyString",value:function(t){return""===t}},{key:"isBoolean",value:function(t){return"boolean"==typeof t}},{key:"isTrueOrFalseString",value:function(t){var i=String(t).toLowerCase();return"true"===i||"false"===i}},{key:"isObject",value:function(t){return"object"===u(t)&&null!==t&&!Array.isArray(t)}},{key:"isEmptyObj",value:function(t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))return!1;return!0}},{key:"isNumberStrict",value:function(t){return"number"==typeof t}},{key:"isNumber",value:function(t){return!this.isArray(t)&&!isNaN(parseFloat(t))&&isFinite(t)}},{key:"isDigit",value:function(t){return/\d/.test(t)}},{key:"isNumberOrArabic",value:function(t){var i=this.arabicToLatinNumbers(t,!1,!0,!0);return this.isNumber(i)}},{key:"isInt",value:function(t){return"number"==typeof t&&parseFloat(t)===parseInt(t,10)&&!isNaN(t)}},{key:"isFunction",value:function(t){return"function"==typeof t}},{key:"contains",value:function(t,i){return!(!this.isString(t)||!this.isString(i)||""===t||""===i)&&-1!==t.indexOf(i)}},{key:"isInArray",value:function(t,i){return!(!this.isArray(i)||i===[]||this.isUndefined(t))&&-1!==i.indexOf(t)}},{key:"isArray",value:function(t){if("[object Array]"===Object.prototype.toString.call([]))return Array.isArray(t)||"object"===u(t)&&"[object Array]"===Object.prototype.toString.call(t);throw new Error("toString message changed for Object Array")}},{key:"isElement",value:function(t){return"undefined"!=typeof Element&&t instanceof Element}},{key:"isInputElement",value:function(t){return this.isElement(t)&&"input"===t.tagName.toLowerCase()}},{key:"decimalPlaces",value:function(t){var i=o(t.split("."),2)[1];return this.isUndefined(i)?0:i.length}},{key:"indexFirstNonZeroDecimalPlace",value:function(t){var i=o(String(Math.abs(t)).split("."),2)[1];if(this.isUndefined(i))return 0;var n=i.lastIndexOf("0");return-1===n?n=0:n+=2,n}},{key:"keyCodeNumber",value:function(t){return void 0===t.which?t.keyCode:t.which}},{key:"character",value:function(t){var i;if("Unidentified"===t.key||void 0===t.key||this.isSeleniumBot()){var n=this.keyCodeNumber(t);if(229===n)return d.keyName.AndroidDefault;var h=d.fromCharCodeKeyCode[n];i=e.isUndefinedOrNullOrEmpty(h)?String.fromCharCode(n):h}else switch(t.key){case"Add":i=d.keyName.NumpadPlus;break;case"Apps":i=d.keyName.ContextMenu;break;case"Crsel":i=d.keyName.CrSel;break;case"Decimal":i=t.char?t.char:d.keyName.NumpadDot;break;case"Del":i=d.keyName.Delete;break;case"Divide":i=d.keyName.NumpadSlash;break;case"Down":i=d.keyName.DownArrow;break;case"Esc":i=d.keyName.Esc;break;case"Exsel":i=d.keyName.ExSel;break;case"Left":i=d.keyName.LeftArrow;break;case"Meta":case"Super":i=d.keyName.OSLeft;break;case"Multiply":i=d.keyName.NumpadMultiply;break;case"Right":i=d.keyName.RightArrow;break;case"Spacebar":i=d.keyName.Space;break;case"Subtract":i=d.keyName.NumpadMinus;break;case"Up":i=d.keyName.UpArrow;break;default:i=t.key}return i}},{key:"browser",value:function(){var t,i=navigator.userAgent,n=i.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"ie",version:(t=/\brv[ :]+(\d+)/g.exec(i)||[])[1]||""}:"Chrome"===n[1]&&null!==(t=i.match(/\b(OPR|Edge)\/(\d+)/))?{name:t[1].replace("OPR","opera"),version:t[2]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(t=i.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),{name:n[0].toLowerCase(),version:n[1]})}},{key:"isSeleniumBot",value:function(){return!0===window.navigator.webdriver}},{key:"isNegative",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t===i||""!==t&&(e.isNumber(t)?t<0:n?this.contains(t,i):this.isNegativeStrict(t,i))}},{key:"isNegativeStrict",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t.charAt(0)===i}},{key:"isNegativeWithBrackets",value:function(t,i,n){return t.charAt(0)===i&&this.contains(t,n)}},{key:"isZeroOrHasNoValue",value:function(t){return!/[1-9]/g.test(t)}},{key:"setRawNegativeSign",value:function(t){return this.isNegativeStrict(t,"-")?t:"-".concat(t)}},{key:"replaceCharAt",value:function(t,i,n){return"".concat(t.substr(0,i)).concat(n).concat(t.substr(i+n.length))}},{key:"clampToRangeLimits",value:function(t,i){return Math.max(i.minimumValue,Math.min(i.maximumValue,t))}},{key:"countNumberCharactersOnTheCaretLeftSide",value:function(t,i,n){for(var h=new RegExp("[0-9".concat(n,"-]")),d=0,f=0;f<i;f++)h.test(t[f])&&d++;return d}},{key:"findCaretPositionInFormattedNumber",value:function(t,i,n,h){var d,f=n.length,w=t.length,N=0;for(d=0;d<f&&N<w&&N<i;d++)(t[N]===n[d]||"."===t[N]&&n[d]===h)&&N++;return d}},{key:"countCharInText",value:function(t,i){for(var n=0,h=0;h<i.length;h++)i[h]===t&&n++;return n}},{key:"convertCharacterCountToIndexPosition",value:function(t){return Math.max(t,t-1)}},{key:"getElementSelection",value:function(t){var i,n={};try{i=this.isUndefined(t.selectionStart)}catch(t){i=!1}try{if(i){var h=window.getSelection().getRangeAt(0);n.start=h.startOffset,n.end=h.endOffset,n.length=n.end-n.start}else n.start=t.selectionStart,n.end=t.selectionEnd,n.length=n.end-n.start}catch(t){n.start=0,n.end=0,n.length=0}return n}},{key:"setElementSelection",value:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.isUndefinedOrNullOrEmpty(n)&&(n=i),this.isInputElement(t))t.setSelectionRange(i,n);else if(!e.isNull(t.firstChild)){var h=document.createRange();h.setStart(t.firstChild,i),h.setEnd(t.firstChild,n);var d=window.getSelection();d.removeAllRanges(),d.addRange(h)}}},{key:"throwError",value:function(t){throw new Error(t)}},{key:"warning",value:function(t){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&console.warn("Warning: ".concat(t))}},{key:"isWheelEvent",value:function(t){return t instanceof WheelEvent}},{key:"isWheelUpEvent",value:function(t){return this.isWheelEvent(t)&&!this.isUndefinedOrNullOrEmpty(t.deltaY)||this.throwError("The event passed as a parameter is not a valid wheel event, '".concat(t.type,"' given.")),t.deltaY<0}},{key:"isWheelDownEvent",value:function(t){return this.isWheelEvent(t)&&!this.isUndefinedOrNullOrEmpty(t.deltaY)||this.throwError("The event passed as a parameter is not a valid wheel event, '".concat(t.type,"' given.")),t.deltaY>0}},{key:"isWheelEventWithZeroDeltaY",value:function(t){return this.isWheelEvent(t)&&!this.isUndefinedOrNullOrEmpty(t.deltaY)&&0===t.deltaY}},{key:"forceDecimalPlaces",value:function(t,i){var n=o(String(t).split("."),2),h=n[0],d=n[1];return d?"".concat(h,".").concat(d.substr(0,i)):t}},{key:"roundToNearest",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return 0===t?0:(0===i&&this.throwError("The `stepPlace` used to round is equal to `0`. This value must not be equal to zero."),Math.round(t/i)*i)}},{key:"modifyAndRoundToNearestAuto",value:function(t,i,n){t=Number(this.forceDecimalPlaces(t,n));var h=Math.abs(t);if(h>=0&&h<1){var d,f=Math.pow(10,-n);if(0===t)return i?f:-f;var w,N=n,_=this.indexFirstNonZeroDecimalPlace(t);return d=_>=N-1?f:Math.pow(10,-(_+1)),w=i?t+d:t-d,this.roundToNearest(w,d)}t=parseInt(t,10);var I,M=Math.abs(t).toString().length;switch(M){case 1:I=0;break;case 2:case 3:I=1;break;case 4:case 5:I=2;break;default:I=M-3}var R,U=Math.pow(10,I);return(R=i?t+U:t-U)<=10&&R>=-10?R:this.roundToNearest(R,U)}},{key:"addAndRoundToNearestAuto",value:function(t,i){return this.modifyAndRoundToNearestAuto(t,!0,i)}},{key:"subtractAndRoundToNearestAuto",value:function(t,i){return this.modifyAndRoundToNearestAuto(t,!1,i)}},{key:"arabicToLatinNumbers",value:function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isNull(t))return t;var d=t.toString();if(""===d)return t;if(null===d.match(/[٠١٢٣٤٥٦٧٨٩۴۵۶]/g))return i&&(d=Number(d)),d;n&&(d=d.replace(/٫/,".")),h&&(d=d.replace(/٬/g,"")),d=d.replace(/[٠١٢٣٤٥٦٧٨٩]/g,(function(t){return t.charCodeAt(0)-1632})).replace(/[۰۱۲۳۴۵۶۷۸۹]/g,(function(t){return t.charCodeAt(0)-1776}));var f=Number(d);return isNaN(f)?f:(i&&(d=f),d)}},{key:"triggerEvent",value:function(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];window.CustomEvent?i=new CustomEvent(t,{detail:h,bubbles:d,cancelable:f}):(i=document.createEvent("CustomEvent")).initCustomEvent(t,d,f,{detail:h}),n.dispatchEvent(i)}},{key:"parseStr",value:function(t){var i,n,h,d,f={};if(0===t&&1/t<0&&(t="-0"),t=t.toString(),this.isNegativeStrict(t,"-")?(t=t.slice(1),f.s=-1):f.s=1,(i=t.indexOf("."))>-1&&(t=t.replace(".","")),i<0&&(i=t.length),(n=-1===t.search(/[1-9]/i)?t.length:t.search(/[1-9]/i))===(h=t.length))f.e=0,f.c=[0];else{for(d=h-1;"0"===t.charAt(d);d-=1)h-=1;for(h-=1,f.e=i-n-1,f.c=[],i=0;n<=h;n+=1)f.c[i]=+t.charAt(n),i+=1}return f}},{key:"testMinMax",value:function(t,i){var n=i.c,h=t.c,d=i.s,f=t.s,w=i.e,N=t.e;if(!n[0]||!h[0])return n[0]?d:h[0]?-f:0;if(d!==f)return d;var _=d<0;if(w!==N)return w>N^_?1:-1;for(d=-1,f=(w=n.length)<(N=h.length)?w:N,d+=1;d<f;d+=1)if(n[d]!==h[d])return n[d]>h[d]^_?1:-1;return w===N?0:w>N^_?1:-1}},{key:"randomString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return Math.random().toString(36).substr(2,t)}},{key:"domElement",value:function(t){var i;return i=e.isString(t)?document.querySelector(t):t,i}},{key:"getElementValue",value:function(t){return"input"===t.tagName.toLowerCase()?t.value:this.text(t)}},{key:"setElementValue",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"input"===t.tagName.toLowerCase()?t.value=i:t.textContent=i}},{key:"setInvalidState",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Invalid";(""===i||this.isNull(i))&&this.throwError("Cannot set the invalid state with an empty message."),t.setCustomValidity(i)}},{key:"setValidState",value:function(t){t.setCustomValidity("")}},{key:"cloneObject",value:function(t){return r({},t)}},{key:"camelize",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],h=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(this.isNull(t))return null;n&&(t=t.replace(/^data-/,""));var d=t.split(i).map((function(t){return"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1))}));return d=d.join(""),h&&(d="".concat(d.charAt(0).toLowerCase()).concat(d.slice(1))),d}},{key:"text",value:function(t){var i=t.nodeType;return i===Node.ELEMENT_NODE||i===Node.DOCUMENT_NODE||i===Node.DOCUMENT_FRAGMENT_NODE?t.textContent:i===Node.TEXT_NODE?t.nodeValue:""}},{key:"setText",value:function(t,i){var n=t.nodeType;n!==Node.ELEMENT_NODE&&n!==Node.DOCUMENT_NODE&&n!==Node.DOCUMENT_FRAGMENT_NODE||(t.textContent=i)}},{key:"filterOut",value:function(i,n){var h=this||t;return i.filter((function(t){return!h.isInArray(t,n)}))}},{key:"trimPaddedZerosFromDecimalPlaces",value:function(t){if(""===(t=String(t)))return"";var i=o(t.split("."),2),n=i[0],h=i[1];if(this.isUndefinedOrNullOrEmpty(h))return n;var d=h.replace(/0+$/g,"");return""===d?n:"".concat(n,".").concat(d)}},{key:"getHoveredElement",value:function(){var t=a(document.querySelectorAll(":hover"));return t[t.length-1]}},{key:"arrayTrim",value:function(t,i){var n=t.length;return 0===n||i>n?t:i<0?[]:(t.length=parseInt(i,10),t)}},{key:"arrayUnique",value:function(){var t;return a(new Set((t=[]).concat.apply(t,arguments)))}},{key:"mergeMaps",value:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return new Map(i.reduce((function(t,i){return t.concat(a(i))}),[]))}},{key:"objectKeyLookup",value:function(t,i){var n=Object.entries(t).find((function(t){return t[1]===i})),h=null;return void 0!==n&&(h=n[0]),h}},{key:"insertAt",value:function(t,i,n){if(n>(t=String(t)).length)throw new Error("The given index is out of the string range.");if(1!==i.length)throw new Error("The given string `char` should be only one character long.");return""===t&&0===n?i:"".concat(t.slice(0,n)).concat(i).concat(t.slice(n))}},{key:"scientificToDecimal",value:function(t){var i=Number(t);if(isNaN(i))return NaN;if(t=String(t),!this.contains(t,"e")&&!this.contains(t,"E"))return t;var n=o(t.split(/e/i),2),h=n[0],d=n[1],f=h<0;f&&(h=h.replace("-",""));var w=+d<0;w&&(d=d.replace("-",""));var N,_=o(h.split(/\./),2),I=_[0],M=_[1];return w?(N=I.length>d?this.insertAt(I,".",I.length-d):"0.".concat("0".repeat(d-I.length)).concat(I),N="".concat(N).concat(M||"")):M?(h="".concat(I).concat(M),N=d<M.length?this.insertAt(h,".",+d+I.length):"".concat(h).concat("0".repeat(d-M.length))):(h=h.replace(".",""),N="".concat(h).concat("0".repeat(Number(d)))),f&&(N="-".concat(N)),N}}],(n=null)&&c(i.prototype,n),h&&c(i,h),Object.defineProperty(i,"prototype",{writable:!1}),e}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function g(t,i){for(var n=0;n<i.length;n++){var h=i[n];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(d=h.key,f=void 0,f=function(t,i){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var h=n.call(t,i||"default");if("object"!==m(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(d,"string"),"symbol"===m(f)?f:String(f)),h)}var d,f}var w=function(){function e(i){if(function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this||t,e),null===i)throw new Error("Invalid AST")}var i,n,h;return i=e,(n=[{key:"evaluate",value:function(t){if(null==t)throw new Error("Invalid AST sub-tree");if("number"===t.type)return t.value;if("unaryMinus"===t.type)return-this.evaluate(t.left);var i=this.evaluate(t.left),n=this.evaluate(t.right);switch(t.type){case"op_+":return Number(i)+Number(n);case"op_-":return i-n;case"op_*":return i*n;case"op_/":return i/n;default:throw new Error("Invalid operator '".concat(t.type,"'"))}}}])&&g(i.prototype,n),h&&g(i,h),Object.defineProperty(i,"prototype",{writable:!1}),e}();function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function p(t,i){for(var n=0;n<i.length;n++){var h=i[n];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(d=h.key,f=void 0,f=function(t,i){if("object"!==v(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var h=n.call(t,i||"default");if("object"!==v(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(d,"string"),"symbol"===v(f)?f:String(f)),h)}var d,f}var N=function(){function e(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this||t,e)}var i,n,h;return i=e,h=[{key:"createNode",value:function(t,i,n){var h=new e;return h.type=t,h.left=i,h.right=n,h}},{key:"createUnaryNode",value:function(t){var i=new e;return i.type="unaryMinus",i.left=t,i.right=null,i}},{key:"createLeaf",value:function(t){var i=new e;return i.type="number",i.value=t,i}}],(n=null)&&p(i.prototype,n),h&&p(i,h),Object.defineProperty(i,"prototype",{writable:!1}),e}();function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function S(t,i){for(var n=0;n<i.length;n++){var h=i[n];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(d=h.key,f=void 0,f=function(t,i){if("object"!==y(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var h=n.call(t,i||"default");if("object"!==y(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(d,"string"),"symbol"===y(f)?f:String(f)),h)}var d,f}function b(t,i,n){return i&&S(t.prototype,i),n&&S(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var _=b((function e(i,n,h){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this||t,e),(this||t).type=i,(this||t).value=n,(this||t).symbol=h}));function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function O(t,i){for(var n=0;n<i.length;n++){var h=i[n];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(d=h.key,f=void 0,f=function(t,i){if("object"!==P(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var h=n.call(t,i||"default");if("object"!==P(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(d,"string"),"symbol"===P(f)?f:String(f)),h)}var d,f}var I=function(){function e(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this||t,e),(this||t).text=i,(this||t).textLength=i.length,(this||t).index=0,(this||t).token=new _("Error",0,0)}var i,n,h;return i=e,n=[{key:"_skipSpaces",value:function(){for(;" "===(this||t).text[(this||t).index]&&(this||t).index<=(this||t).textLength;)(this||t).index++}},{key:"getIndex",value:function(){return(this||t).index}},{key:"getNextToken",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".";if(this._skipSpaces(),(this||t).textLength===(this||t).index)return(this||t).token.type="EOT",(this||t).token;if(f.isDigit((this||t).text[(this||t).index]))return(this||t).token.type="num",(this||t).token.value=this._getNumber(i),(this||t).token;switch((this||t).token.type="Error",(this||t).text[(this||t).index]){case"+":(this||t).token.type="+";break;case"-":(this||t).token.type="-";break;case"*":(this||t).token.type="*";break;case"/":(this||t).token.type="/";break;case"(":(this||t).token.type="(";break;case")":(this||t).token.type=")"}if("Error"===(this||t).token.type)throw new Error("Unexpected token '".concat((this||t).token.symbol,"' at position '").concat((this||t).token.index,"' in the token function"));return(this||t).token.symbol=(this||t).text[(this||t).index],(this||t).index++,(this||t).token}},{key:"_getNumber",value:function(i){this._skipSpaces();for(var n=(this||t).index;(this||t).index<=(this||t).textLength&&f.isDigit((this||t).text[(this||t).index]);)(this||t).index++;for((this||t).text[(this||t).index]===i&&(this||t).index++;(this||t).index<=(this||t).textLength&&f.isDigit((this||t).text[(this||t).index]);)(this||t).index++;if((this||t).index===n)throw new Error("No number has been found while it was expected");return(this||t).text.substring(n,(this||t).index).replace(i,".")}}],n&&O(i.prototype,n),h&&O(i,h),Object.defineProperty(i,"prototype",{writable:!1}),e}();function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function E(t,i){for(var n=0;n<i.length;n++){var h=i[n];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,(d=h.key,f=void 0,f=function(t,i){if("object"!==k(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var h=n.call(t,i||"default");if("object"!==k(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(d,"string"),"symbol"===k(f)?f:String(f)),h)}var d,f}var M=function(){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this||t,e),(this||t).text=i,(this||t).decimalCharacter=n,(this||t).lexer=new I(i),(this||t).token=(this||t).lexer.getNextToken((this||t).decimalCharacter),this._exp()}var i,n,h;return i=e,(n=[{key:"_exp",value:function(){var t=this._term(),i=this._moreExp();return N.createNode("op_+",t,i)}},{key:"_moreExp",value:function(){var i,n;switch((this||t).token.type){case"+":return(this||t).token=(this||t).lexer.getNextToken((this||t).decimalCharacter),i=this._term(),n=this._moreExp(),N.createNode("op_+",n,i);case"-":return(this||t).token=(this||t).lexer.getNextToken((this||t).decimalCharacter),i=this._term(),n=this._moreExp(),N.createNode("op_-",n,i)}return N.createLeaf(0)}},{key:"_term",value:function(){var t=this._factor(),i=this._moreTerms();return N.createNode("op_*",t,i)}},{key:"_moreTerms",value:function(){var i,n;switch((this||t).token.type){case"*":return(this||t).token=(this||t).lexer.getNextToken((this||t).decimalCharacter),i=this._factor(),n=this._moreTerms(),N.createNode("op_*",n,i);case"/":return(this||t).token=(this||t).lexer.getNextToken((this||t).decimalCharacter),i=this._factor(),n=this._moreTerms(),N.createNode("op_/",n,i)}return N.createLeaf(1)}},{key:"_factor",value:function(){var i,n,h;switch((this||t).token.type){case"num":return h=(this||t).token.value,(this||t).token=(this||t).lexer.getNextToken((this||t).decimalCharacter),N.createLeaf(h);case"-":return(this||t).token=(this||t).lexer.getNextToken((this||t).decimalCharacter),n=this._factor(),N.createUnaryNode(n);case"(":return(this||t).token=(this||t).lexer.getNextToken((this||t).decimalCharacter),i=this._exp(),this._match(")"),i;default:throw new Error("Unexpected token '".concat((this||t).token.symbol,"' with type '").concat((this||t).token.type,"' at position '").concat((this||t).token.index,"' in the factor function"))}}},{key:"_match",value:function(i){var n=(this||t).lexer.getIndex()-1;if((this||t).text[n]!==i)throw new Error("Unexpected token '".concat((this||t).token.symbol,"' at position '").concat(n,"' in the match function"));(this||t).token=(this||t).lexer.getNextToken((this||t).decimalCharacter)}}])&&E(i.prototype,n),h&&E(i,h),Object.defineProperty(i,"prototype",{writable:!1}),e}();function C(t){return function(t){if(Array.isArray(t))return x(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||V(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var h,d,f,w,N=[],_=!0,I=!1;try{if(f=(n=n.call(t)).next,0===i){if(Object(n)!==n)return;_=!1}else for(;!(_=(h=f.call(n)).done)&&(N.push(h.value),N.length!==i);_=!0);}catch(t){I=!0,d=t}finally{try{if(!_&&null!=n.return&&(w=n.return(),Object(w)!==w))return}finally{if(I)throw d}}return N}}(t,i)||V(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(t,i){if(t){if("string"==typeof t)return x(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(t,i):void 0}}function x(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,h=new Array(i);n<i;n++)h[n]=t[n];return h}function T(){return T=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&(t[h]=n[h])}return t},T.apply(this||t,arguments)}function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function L(t,i){for(var n=0;n<i.length;n++){var h=i[n];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,B(h.key),h)}}function D(t,i,n){return(i=B(i))in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,t}function B(t){var i=function(t,i){if("object"!==A(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var h=n.call(t,i||"default");if("object"!==A(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"===A(i)?i:String(i)}var R,U=function(){function e(){var i=this||t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this||t,e);var w=e._setArgumentsValues(n,h,d),N=w.domElement,_=w.initialValue,I=w.userOptions;if((this||t).domElement=N,(this||t).defaultRawValue="",this._setSettings(I,!1),this._checkElement(),(this||t).savedCancellableValue=null,(this||t).historyTable=[],(this||t).historyTableIndex=-1,(this||t).onGoingRedo=!1,(this||t).parentForm=this._getParentForm(),!(this||t).runOnce&&(this||t).settings.formatOnPageLoad)this._formatDefaultValueOnPageLoad(_);else{var M;if(f.isNull(_))switch((this||t).settings.emptyInputBehavior){case e.options.emptyInputBehavior.min:M=(this||t).settings.minimumValue;break;case e.options.emptyInputBehavior.max:M=(this||t).settings.maximumValue;break;case e.options.emptyInputBehavior.zero:M="0";break;case e.options.emptyInputBehavior.focus:case e.options.emptyInputBehavior.press:case e.options.emptyInputBehavior.always:M="";break;case e.options.emptyInputBehavior.null:M=null;break;default:M=(this||t).settings.emptyInputBehavior}else M=_;this._setElementAndRawValue(M)}(this||t).runOnce=!0,(this||t).hasEventListeners=!1,((this||t).isInputElement||(this||t).isContentEditable)&&((this||t).settings.noEventListeners||this._createEventListeners(),this._setWritePermissions(!0)),this._saveInitialValues(_),(this||t).storageNamePrefix="AUTO_",this._setPersistentStorageName(),(this||t).validState=!0,(this||t).isFocused=!1,(this||t).isWheelEvent=!1,(this||t).isDropEvent=!1,(this||t).isEditing=!1,(this||t).rawValueOnFocus=void 0,(this||t).internalModification=!1,(this||t).attributeToWatch=this._getAttributeToWatch(),(this||t).getterSetter=Object.getOwnPropertyDescriptor((this||t).domElement.__proto__,(this||t).attributeToWatch),this._addWatcher(),(this||t).settings.createLocalList&&this._createLocalList(),(this||t).constructor._addToGlobalList(this||t),(this||t).global={set:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i.autoNumericLocalList.forEach((function(i){i.set(t,n)}))},setUnformatted:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i.autoNumericLocalList.forEach((function(i){i.setUnformatted(t,n)}))},get:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=[];return i.autoNumericLocalList.forEach((function(t){n.push(t.get())})),i._executeCallback(n,t),n},getNumericString:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=[];return i.autoNumericLocalList.forEach((function(t){n.push(t.getNumericString())})),i._executeCallback(n,t),n},getFormatted:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=[];return i.autoNumericLocalList.forEach((function(t){n.push(t.getFormatted())})),i._executeCallback(n,t),n},getNumber:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=[];return i.autoNumericLocalList.forEach((function(t){n.push(t.getNumber())})),i._executeCallback(n,t),n},getLocalized:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=[];return i.autoNumericLocalList.forEach((function(t){n.push(t.getLocalized())})),i._executeCallback(n,t),n},reformat:function(){i.autoNumericLocalList.forEach((function(t){t.reformat()}))},unformat:function(){i.autoNumericLocalList.forEach((function(t){t.unformat()}))},unformatLocalized:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;i.autoNumericLocalList.forEach((function(i){i.unformatLocalized(t)}))},update:function(){for(var t=arguments.length,n=new Array(t),h=0;h<t;h++)n[h]=arguments[h];i.autoNumericLocalList.forEach((function(t){t.update.apply(t,n)}))},isPristine:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!0;return i.autoNumericLocalList.forEach((function(i){n&&!i.isPristine(t)&&(n=!1)})),n},clear:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.autoNumericLocalList.forEach((function(i){i.clear(t)}))},remove:function(){i.autoNumericLocalList.forEach((function(t){t.remove()}))},wipe:function(){i.autoNumericLocalList.forEach((function(t){t.wipe()}))},nuke:function(){i.autoNumericLocalList.forEach((function(t){t.nuke()}))},has:function(t){return t instanceof e?i.autoNumericLocalList.has(t.node()):i.autoNumericLocalList.has(t)},addObject:function(t){var n,h;t instanceof e?(n=t.node(),h=t):(n=t,h=e.getAutoNumericElement(n)),i._hasLocalList()||i._createLocalList();var d,w=h._getLocalList();0===w.size&&(h._createLocalList(),w=h._getLocalList()),w instanceof Map?d=f.mergeMaps(i._getLocalList(),w):(i._addToLocalList(n,h),d=i._getLocalList()),d.forEach((function(t){t._setLocalList(d)}))},removeObject:function(t){var n,h,d=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t instanceof e?(n=t.node(),h=t):(n=t,h=e.getAutoNumericElement(n));var f=i.autoNumericLocalList;i.autoNumericLocalList.delete(n),f.forEach((function(t){t._setLocalList(i.autoNumericLocalList)})),d||n!==i.node()?h._createLocalList():h._setLocalList(new Map)},empty:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.autoNumericLocalList.forEach((function(i){t?i._createLocalList():i._setLocalList(new Map)}))},elements:function(){var t=[];return i.autoNumericLocalList.forEach((function(i){t.push(i.node())})),t},getList:function(){return i.autoNumericLocalList},size:function(){return i.autoNumericLocalList.size}},(this||t).options={reset:function(){return i.settings={rawValue:i.defaultRawValue},i.update(e.defaultSettings),i},allowDecimalPadding:function(t){return i.update({allowDecimalPadding:t}),i},alwaysAllowDecimalCharacter:function(t){return i.update({alwaysAllowDecimalCharacter:t}),i},caretPositionOnFocus:function(t){return i.settings.caretPositionOnFocus=t,i},createLocalList:function(t){return i.settings.createLocalList=t,i.settings.createLocalList?i._hasLocalList()||i._createLocalList():i._deleteLocalList(),i},currencySymbol:function(t){return i.update({currencySymbol:t}),i},currencySymbolPlacement:function(t){return i.update({currencySymbolPlacement:t}),i},decimalCharacter:function(t){return i.update({decimalCharacter:t}),i},decimalCharacterAlternative:function(t){return i.settings.decimalCharacterAlternative=t,i},decimalPlaces:function(t){return f.warning("Using `options.decimalPlaces()` instead of calling the specific `options.decimalPlacesRawValue()`, `options.decimalPlacesShownOnFocus()` and `options.decimalPlacesShownOnBlur()` methods will reset those options.\nPlease call the specific methods if you do not want to reset those.",i.settings.showWarnings),i.update({decimalPlaces:t}),i},decimalPlacesRawValue:function(t){return i.update({decimalPlacesRawValue:t}),i},decimalPlacesShownOnBlur:function(t){return i.update({decimalPlacesShownOnBlur:t}),i},decimalPlacesShownOnFocus:function(t){return i.update({decimalPlacesShownOnFocus:t}),i},defaultValueOverride:function(t){return i.update({defaultValueOverride:t}),i},digitalGroupSpacing:function(t){return i.update({digitalGroupSpacing:t}),i},digitGroupSeparator:function(t){return i.update({digitGroupSeparator:t}),i},divisorWhenUnfocused:function(t){return i.update({divisorWhenUnfocused:t}),i},emptyInputBehavior:function(t){return null===i.rawValue&&t!==e.options.emptyInputBehavior.null&&(f.warning("You are trying to modify the `emptyInputBehavior` option to something different than `'null'` (".concat(t,"), but the element raw value is currently set to `null`. This would result in an invalid `rawValue`. In order to fix that, the element value has been changed to the empty string `''`."),i.settings.showWarnings),i.rawValue=""),i.update({emptyInputBehavior:t}),i},eventBubbles:function(t){return i.settings.eventBubbles=t,i},eventIsCancelable:function(t){return i.settings.eventIsCancelable=t,i},failOnUnknownOption:function(t){return i.settings.failOnUnknownOption=t,i},formatOnPageLoad:function(t){return i.settings.formatOnPageLoad=t,i},formulaMode:function(t){return i.settings.formulaMode=t,i},historySize:function(t){return i.settings.historySize=t,i},invalidClass:function(t){return i.settings.invalidClass=t,i},isCancellable:function(t){return i.settings.isCancellable=t,i},leadingZero:function(t){return i.update({leadingZero:t}),i},maximumValue:function(t){return i.update({maximumValue:t}),i},minimumValue:function(t){return i.update({minimumValue:t}),i},modifyValueOnUpDownArrow:function(t){return i.settings.modifyValueOnUpDownArrow=t,i},modifyValueOnWheel:function(t){return i.settings.modifyValueOnWheel=t,i},negativeBracketsTypeOnBlur:function(t){return i.update({negativeBracketsTypeOnBlur:t}),i},negativePositiveSignPlacement:function(t){return i.update({negativePositiveSignPlacement:t}),i},negativeSignCharacter:function(t){return i.update({negativeSignCharacter:t}),i},negativePositiveSignBehavior:function(t){return i.settings.negativePositiveSignBehavior=t,i},noEventListeners:function(t){return t===e.options.noEventListeners.noEvents&&i.settings.noEventListeners===e.options.noEventListeners.addEvents&&i._removeEventListeners(),i.update({noEventListeners:t}),i},onInvalidPaste:function(t){return i.settings.onInvalidPaste=t,i},outputFormat:function(t){return i.settings.outputFormat=t,i},overrideMinMaxLimits:function(t){return i.update({overrideMinMaxLimits:t}),i},positiveSignCharacter:function(t){return i.update({positiveSignCharacter:t}),i},rawValueDivisor:function(t){return i.update({rawValueDivisor:t}),i},readOnly:function(t){return i.settings.readOnly=t,i._setWritePermissions(),i},roundingMethod:function(t){return i.update({roundingMethod:t}),i},saveValueToSessionStorage:function(t){return i.update({saveValueToSessionStorage:t}),i},symbolWhenUnfocused:function(t){return i.update({symbolWhenUnfocused:t}),i},selectNumberOnly:function(t){return i.settings.selectNumberOnly=t,i},selectOnFocus:function(t){return i.settings.selectOnFocus=t,i},serializeSpaces:function(t){return i.settings.serializeSpaces=t,i},showOnlyNumbersOnFocus:function(t){return i.update({showOnlyNumbersOnFocus:t}),i},showPositiveSign:function(t){return i.update({showPositiveSign:t}),i},showWarnings:function(t){return i.settings.showWarnings=t,i},styleRules:function(t){return i.update({styleRules:t}),i},suffixText:function(t){return i.update({suffixText:t}),i},unformatOnHover:function(t){return i.settings.unformatOnHover=t,i},unformatOnSubmit:function(t){return i.settings.unformatOnSubmit=t,i},upDownStep:function(t){return i.settings.upDownStep=t,i},valuesToStrings:function(t){return i.update({valuesToStrings:t}),i},watchExternalChanges:function(t){return i.update({watchExternalChanges:t}),i},wheelOn:function(t){return i.settings.wheelOn=t,i},wheelStep:function(t){return i.settings.wheelStep=t,i}},this._triggerEvent(e.events.initialized,(this||t).domElement,{newValue:f.getElementValue((this||t).domElement),newRawValue:(this||t).rawValue,error:null,aNElement:this||t})}var i,n,h;return i=e,n=[{key:"_saveInitialValues",value:function(i){(this||t).initialValueHtmlAttribute=f.scientificToDecimal((this||t).domElement.getAttribute("value")),f.isNull((this||t).initialValueHtmlAttribute)&&((this||t).initialValueHtmlAttribute=""),(this||t).initialValue=i,f.isNull((this||t).initialValue)&&((this||t).initialValue="")}},{key:"_createEventListeners",value:function(){var i=this||t;(this||t).formulaMode=!1,(this||t)._onFocusInFunc=function(t){i._onFocusIn(t)},(this||t)._onFocusInAndMouseEnterFunc=function(t){i._onFocusInAndMouseEnter(t)},(this||t)._onFocusFunc=function(){i._onFocus()},(this||t)._onKeydownFunc=function(t){i._onKeydown(t)},(this||t)._onKeypressFunc=function(t){i._onKeypress(t)},(this||t)._onKeyupFunc=function(t){i._onKeyup(t)},(this||t)._onFocusOutAndMouseLeaveFunc=function(t){i._onFocusOutAndMouseLeave(t)},(this||t)._onPasteFunc=function(t){i._onPaste(t)},(this||t)._onWheelFunc=function(t){i._onWheel(t)},(this||t)._onDropFunc=function(t){i._onDrop(t)},(this||t)._onKeydownGlobalFunc=function(t){i._onKeydownGlobal(t)},(this||t)._onKeyupGlobalFunc=function(t){i._onKeyupGlobal(t)},(this||t).domElement.addEventListener("focusin",(this||t)._onFocusInFunc,!1),(this||t).domElement.addEventListener("focus",(this||t)._onFocusInAndMouseEnterFunc,!1),(this||t).domElement.addEventListener("focus",(this||t)._onFocusFunc,!1),(this||t).domElement.addEventListener("mouseenter",(this||t)._onFocusInAndMouseEnterFunc,!1),(this||t).domElement.addEventListener("keydown",(this||t)._onKeydownFunc,!1),(this||t).domElement.addEventListener("keypress",(this||t)._onKeypressFunc,!1),(this||t).domElement.addEventListener("keyup",(this||t)._onKeyupFunc,!1),(this||t).domElement.addEventListener("blur",(this||t)._onFocusOutAndMouseLeaveFunc,!1),(this||t).domElement.addEventListener("mouseleave",(this||t)._onFocusOutAndMouseLeaveFunc,!1),(this||t).domElement.addEventListener("paste",(this||t)._onPasteFunc,!1),(this||t).domElement.addEventListener("wheel",(this||t)._onWheelFunc,!1),(this||t).domElement.addEventListener("drop",(this||t)._onDropFunc,!1),this._setupFormListener(),(this||t).hasEventListeners=!0,e._doesGlobalListExists()||(document.addEventListener("keydown",(this||t)._onKeydownGlobalFunc,!1),document.addEventListener("keyup",(this||t)._onKeyupGlobalFunc,!1))}},{key:"_removeEventListeners",value:function(){(this||t).domElement.removeEventListener("focusin",(this||t)._onFocusInFunc,!1),(this||t).domElement.removeEventListener("focus",(this||t)._onFocusInAndMouseEnterFunc,!1),(this||t).domElement.removeEventListener("focus",(this||t)._onFocusFunc,!1),(this||t).domElement.removeEventListener("mouseenter",(this||t)._onFocusInAndMouseEnterFunc,!1),(this||t).domElement.removeEventListener("blur",(this||t)._onFocusOutAndMouseLeaveFunc,!1),(this||t).domElement.removeEventListener("mouseleave",(this||t)._onFocusOutAndMouseLeaveFunc,!1),(this||t).domElement.removeEventListener("keydown",(this||t)._onKeydownFunc,!1),(this||t).domElement.removeEventListener("keypress",(this||t)._onKeypressFunc,!1),(this||t).domElement.removeEventListener("keyup",(this||t)._onKeyupFunc,!1),(this||t).domElement.removeEventListener("paste",(this||t)._onPasteFunc,!1),(this||t).domElement.removeEventListener("wheel",(this||t)._onWheelFunc,!1),(this||t).domElement.removeEventListener("drop",(this||t)._onDropFunc,!1),this._removeFormListener(),(this||t).hasEventListeners=!1,document.removeEventListener("keydown",(this||t)._onKeydownGlobalFunc,!1),document.removeEventListener("keyup",(this||t)._onKeyupGlobalFunc,!1)}},{key:"_updateEventListeners",value:function(){(this||t).settings.noEventListeners||(this||t).hasEventListeners||this._createEventListeners(),(this||t).settings.noEventListeners&&(this||t).hasEventListeners&&this._removeEventListeners()}},{key:"_setupFormListener",value:function(){var i=this||t;f.isNull((this||t).parentForm)||((this||t)._onFormSubmitFunc=function(){i._onFormSubmit()},(this||t)._onFormResetFunc=function(){i._onFormReset()},this._hasParentFormCounter()?this._incrementParentFormCounter():(this._initializeFormCounterToOne(),(this||t).parentForm.addEventListener("submit",(this||t)._onFormSubmitFunc,!1),(this||t).parentForm.addEventListener("reset",(this||t)._onFormResetFunc,!1),this._storeFormHandlerFunction()))}},{key:"_removeFormListener",value:function(){if(!f.isNull((this||t).parentForm)){var i=this._getParentFormCounter();1===i?((this||t).parentForm.removeEventListener("submit",this._getFormHandlerFunction().submitFn,!1),(this||t).parentForm.removeEventListener("reset",this._getFormHandlerFunction().resetFn,!1),this._removeFormDataSetInfo()):i>1?this._decrementParentFormCounter():f.throwError("The AutoNumeric object count on the form is incoherent.")}}},{key:"_hasParentFormCounter",value:function(){return"anCount"in(this||t).parentForm.dataset}},{key:"_getParentFormCounter",value:function(){return Number((this||t).parentForm.dataset.anCount)}},{key:"_initializeFormCounterToOne",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._getFormElement(t).dataset.anCount=1}},{key:"_incrementParentFormCounter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._getFormElement(t).dataset.anCount++}},{key:"_decrementParentFormCounter",value:function(){(this||t).parentForm.dataset.anCount--}},{key:"_hasFormHandlerFunction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"anFormHandler"in this._getFormElement(t).dataset}},{key:"_getFormElement",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return f.isNull(i)?(this||t).parentForm:i}},{key:"_storeFormHandlerFunction",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(this||t).constructor._doesFormHandlerListExists()||(this||t).constructor._createFormHandlerList();var n=f.randomString();this._getFormElement(i).dataset.anFormHandler=n,window.aNFormHandlerMap.set(n,{submitFn:(this||t)._onFormSubmitFunc,resetFn:(this||t)._onFormResetFunc})}},{key:"_getFormHandlerKey",value:function(){this._hasFormHandlerFunction()||f.throwError("Unable to retrieve the form handler name");var i=(this||t).parentForm.dataset.anFormHandler;return""===i&&f.throwError("The form handler name is invalid"),i}},{key:"_getFormHandlerFunction",value:function(){var t=this._getFormHandlerKey();return window.aNFormHandlerMap.get(t)}},{key:"_removeFormDataSetInfo",value:function(){this._decrementParentFormCounter(),window.aNFormHandlerMap.delete(this._getFormHandlerKey()),(this||t).parentForm.removeAttribute("data-an-count"),(this||t).parentForm.removeAttribute("data-an-form-handler")}},{key:"_setWritePermissions",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this||t).domElement.readOnly||(this||t).settings.readOnly?this._setReadOnly():this._setReadWrite()}},{key:"_setReadOnly",value:function(){(this||t).isInputElement?(this||t).domElement.readOnly=!0:(this||t).domElement.setAttribute("contenteditable",!1)}},{key:"_setReadWrite",value:function(){(this||t).isInputElement?(this||t).domElement.readOnly=!1:(this||t).domElement.setAttribute("contenteditable",!0)}},{key:"_addWatcher",value:function(){var i=this||t;if(!f.isUndefined((this||t).getterSetter)){var n=(this||t).getterSetter,h=n.set,d=n.get;Object.defineProperty((this||t).domElement,(this||t).attributeToWatch,{configurable:!0,get:function(){return d.call(i.domElement)},set:function(t){h.call(i.domElement,t),i.settings.watchExternalChanges&&!i.internalModification&&i.set(t)}})}}},{key:"_removeWatcher",value:function(){var i=this||t;if(!f.isUndefined((this||t).getterSetter)){var n=(this||t).getterSetter,h=n.set,d=n.get;Object.defineProperty((this||t).domElement,(this||t).attributeToWatch,{configurable:!0,get:function(){return d.call(i.domElement)},set:function(t){h.call(i.domElement,t)}})}}},{key:"_getAttributeToWatch",value:function(){var i;if((this||t).isInputElement)i="value";else{var n=(this||t).domElement.nodeType;n===Node.ELEMENT_NODE||n===Node.DOCUMENT_NODE||n===Node.DOCUMENT_FRAGMENT_NODE?i="textContent":n===Node.TEXT_NODE&&(i="nodeValue")}return i}},{key:"_historyTableAdd",value:function(){var i=0===(this||t).historyTable.length;if(i||(this||t).rawValue!==this._historyTableCurrentValueUsed()){var n=!0;if(!i){var h=(this||t).historyTableIndex+1;h<(this||t).historyTable.length&&(this||t).rawValue===(this||t).historyTable[h].value?n=!1:f.arrayTrim((this||t).historyTable,(this||t).historyTableIndex+1)}if((this||t).historyTableIndex++,n){var d=f.getElementSelection((this||t).domElement);(this||t).selectionStart=d.start,(this||t).selectionEnd=d.end,(this||t).historyTable.push({value:(this||t).rawValue,start:(this||t).selectionStart+1,end:(this||t).selectionEnd+1}),(this||t).historyTable.length>1&&((this||t).historyTable[(this||t).historyTableIndex-1].start=(this||t).selectionStart,(this||t).historyTable[(this||t).historyTableIndex-1].end=(this||t).selectionEnd)}(this||t).historyTable.length>(this||t).settings.historySize&&this._historyTableForget()}}},{key:"_historyTableUndoOrRedo",value:function(){var i;if(arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?(i=(this||t).historyTableIndex+1<(this||t).historyTable.length)&&(this||t).historyTableIndex++:(i=(this||t).historyTableIndex>0)&&(this||t).historyTableIndex--,i){var n=(this||t).historyTable[(this||t).historyTableIndex];this.set(n.value,null,!1),f.setElementSelection((this||t).domElement,n.start,n.end)}}},{key:"_historyTableUndo",value:function(){this._historyTableUndoOrRedo(!0)}},{key:"_historyTableRedo",value:function(){this._historyTableUndoOrRedo(!1)}},{key:"_historyTableForget",value:function(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=[],h=0;h<i;h++)n.push((this||t).historyTable.shift()),(this||t).historyTableIndex--,(this||t).historyTableIndex<0&&((this||t).historyTableIndex=0);return 1===n.length?n[0]:n}},{key:"_historyTableCurrentValueUsed",value:function(){var i=(this||t).historyTableIndex;return i<0&&(i=0),f.isUndefinedOrNullOrEmpty((this||t).historyTable[i])?"":(this||t).historyTable[i].value}},{key:"_parseStyleRules",value:function(){var i=this||t;f.isUndefinedOrNullOrEmpty((this||t).settings.styleRules)||""===(this||t).rawValue||(f.isUndefinedOrNullOrEmpty((this||t).settings.styleRules.positive)||((this||t).rawValue>=0?this._addCSSClass((this||t).settings.styleRules.positive):this._removeCSSClass((this||t).settings.styleRules.positive)),f.isUndefinedOrNullOrEmpty((this||t).settings.styleRules.negative)||((this||t).rawValue<0?this._addCSSClass((this||t).settings.styleRules.negative):this._removeCSSClass((this||t).settings.styleRules.negative)),f.isUndefinedOrNullOrEmpty((this||t).settings.styleRules.ranges)||0===(this||t).settings.styleRules.ranges.length||(this||t).settings.styleRules.ranges.forEach((function(t){i.rawValue>=t.min&&i.rawValue<t.max?i._addCSSClass(t.class):i._removeCSSClass(t.class)})),f.isUndefinedOrNullOrEmpty((this||t).settings.styleRules.userDefined)||0===(this||t).settings.styleRules.userDefined.length||(this||t).settings.styleRules.userDefined.forEach((function(t){if(f.isFunction(t.callback))if(f.isString(t.classes))t.callback(i.rawValue)?i._addCSSClass(t.classes):i._removeCSSClass(t.classes);else if(f.isArray(t.classes))if(2===t.classes.length)t.callback(i.rawValue)?(i._addCSSClass(t.classes[0]),i._removeCSSClass(t.classes[1])):(i._removeCSSClass(t.classes[0]),i._addCSSClass(t.classes[1]));else if(t.classes.length>2){var n=t.callback(i.rawValue);f.isArray(n)?t.classes.forEach((function(t,h){f.isInArray(h,n)?i._addCSSClass(t):i._removeCSSClass(t)})):f.isInt(n)?t.classes.forEach((function(t,h){h===n?i._addCSSClass(t):i._removeCSSClass(t)})):f.isNull(n)?t.classes.forEach((function(t){i._removeCSSClass(t)})):f.throwError("The callback result is not an array nor a valid array index, ".concat(A(n)," given."))}else f.throwError("The classes attribute is not valid for the `styleRules` option.");else f.isUndefinedOrNullOrEmpty(t.classes)?t.callback(i):f.throwError("The callback/classes structure is not valid for the `styleRules` option.");else f.warning("The given `styleRules` callback is not a function, ".concat(A(t.callback)," given."),i.settings.showWarnings)})))}},{key:"_addCSSClass",value:function(i){(this||t).domElement.classList.add(i)}},{key:"_removeCSSClass",value:function(i){(this||t).domElement.classList.remove(i)}},{key:"update",value:function(){for(var i=this||t,n=arguments.length,h=new Array(n),d=0;d<n;d++)h[d]=arguments[d];Array.isArray(h)&&Array.isArray(h[0])&&(h=h[0]);var w=f.cloneObject((this||t).settings),N=(this||t).rawValue,_={};f.isUndefinedOrNullOrEmpty(h)||0===h.length?_=null:h.length>=1&&h.forEach((function(t){i.constructor._isPreDefinedOptionValid(t)&&(t=i.constructor._getOptionObject(t)),T(_,t)}));try{this._setSettings(_,!0),this._setWritePermissions(),this._updateEventListeners(),this.set(N)}catch(i){return this._setSettings(w,!0),f.throwError("Unable to update the settings, those are invalid: [".concat(i,"]")),this||t}return this||t}},{key:"getSettings",value:function(){return(this||t).settings}},{key:"set",value:function(i){var n,h,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,w=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(f.isUndefined(i))return f.warning("You are trying to set an 'undefined' value ; an error could have occurred.",(this||t).settings.showWarnings),this||t;if(f.isNull(d)||this._setSettings(d,!0),null===i&&(this||t).settings.emptyInputBehavior!==e.options.emptyInputBehavior.null)return f.warning("You are trying to set the `null` value while the `emptyInputBehavior` option is set to ".concat((this||t).settings.emptyInputBehavior,". If you want to be able to set the `null` value, you need to change the 'emptyInputBehavior' option to `'null'`."),(this||t).settings.showWarnings),this||t;if(null===i)return this._setElementAndRawValue(null,null,w),this._saveValueToPersistentStorage(),this||t;if(n=(this||t).constructor._toNumericValue(i,(this||t).settings),isNaN(Number(n)))return f.warning("The value you are trying to set results in `NaN`. The element value is set to the empty string instead.",(this||t).settings.showWarnings),this.setValue("",w),this||t;if(""===n)switch((this||t).settings.emptyInputBehavior){case e.options.emptyInputBehavior.zero:n=0;break;case e.options.emptyInputBehavior.min:n=(this||t).settings.minimumValue;break;case e.options.emptyInputBehavior.max:n=(this||t).settings.maximumValue;break;default:f.isNumber((this||t).settings.emptyInputBehavior)&&(n=Number((this||t).settings.emptyInputBehavior))}if(""!==n){var N=F((this||t).constructor._checkIfInRangeWithOverrideOption(n,(this||t).settings),2),_=N[0],I=N[1];if(_&&I&&(this||t).settings.valuesToStrings&&this._checkValuesToStrings(n))return this._setElementAndRawValue((this||t).settings.valuesToStrings[n],n,w),this._saveValueToPersistentStorage(),this||t;if(f.isZeroOrHasNoValue(n)&&(n="0"),_&&I){var M=(this||t).constructor._roundRawValue(n,(this||t).settings);return M=this._trimLeadingAndTrailingZeros(M.replace((this||t).settings.decimalCharacter,".")),n=this._getRawValueToFormat(n),(this||t).isFocused?n=(this||t).constructor._roundFormattedValueShownOnFocus(n,(this||t).settings):((this||t).settings.divisorWhenUnfocused&&(n=(n/=(this||t).settings.divisorWhenUnfocused).toString()),n=(this||t).constructor._roundFormattedValueShownOnBlur(n,(this||t).settings)),n=(this||t).constructor._modifyNegativeSignAndDecimalCharacterForFormattedValue(n,(this||t).settings),n=(this||t).constructor._addGroupSeparators(n,(this||t).settings,(this||t).isFocused,(this||t).rawValue,M),!(this||t).isFocused&&(this||t).settings.symbolWhenUnfocused&&(n="".concat(n).concat((this||t).settings.symbolWhenUnfocused)),((this||t).settings.decimalPlacesShownOnFocus||(this||t).settings.divisorWhenUnfocused)&&this._saveValueToPersistentStorage(),this._setElementAndRawValue(n,M,w),this._setValidOrInvalidState(M),this||t}return this._triggerRangeEvents(_,I),f.throwError("The value [".concat(n,"] being set falls outside of the minimumValue [").concat((this||t).settings.minimumValue,"] and maximumValue [").concat((this||t).settings.maximumValue,"] range set for this element")),this._removeValueFromPersistentStorage(),this.setValue("",w),this||t}return h=(this||t).settings.emptyInputBehavior===e.options.emptyInputBehavior.always?(this||t).settings.currencySymbol:"",this._setElementAndRawValue(h,"",w),this||t}},{key:"setUnformatted",value:function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===i||f.isUndefined(i))return this||t;f.isNull(n)||this._setSettings(n,!0);var h=(this||t).constructor._removeBrackets(i,(this||t).settings),d=(this||t).constructor._stripAllNonNumberCharacters(h,(this||t).settings,!0,(this||t).isFocused);return f.isNumber(d)||f.throwError("The value is not a valid one, it's not a numeric string nor a recognized currency."),(this||t).constructor._isWithinRangeWithOverrideOption(d,(this||t).settings)?this.setValue(i):f.throwError("The value is out of the range limits [".concat((this||t).settings.minimumValue,", ").concat((this||t).settings.maximumValue,"].")),this||t}},{key:"setValue",value:function(i){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._setElementAndRawValue(i,n),this||t}},{key:"_setRawValue",value:function(i){var n=this||t,h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((this||t).rawValue!==i){var d=(this||t).rawValue;(this||t).rawValue=i,!f.isNull((this||t).settings.rawValueDivisor)&&0!==(this||t).settings.rawValueDivisor&&""!==i&&null!==i&&this._isUserManuallyEditingTheValue()&&((this||t).rawValue/=(this||t).settings.rawValueDivisor),this._triggerEvent(e.events.rawValueModified,(this||t).domElement,{oldRawValue:d,newRawValue:(this||t).rawValue,isPristine:this.isPristine(!0),error:null,aNElement:this||t}),this._parseStyleRules(),h&&window.requestAnimationFrame((function(){return n._historyTableAdd()}))}}},{key:"_setElementValue",value:function(i){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],h=f.getElementValue((this||t).domElement);return i!==h&&((this||t).internalModification=!0,f.setElementValue((this||t).domElement,i),(this||t).internalModification=!1,n&&this._triggerEvent(e.events.formatted,(this||t).domElement,{oldValue:h,newValue:i,oldRawValue:(this||t).rawValue,newRawValue:(this||t).rawValue,isPristine:this.isPristine(!1),error:null,aNElement:this||t})),this||t}},{key:"_setElementAndRawValue",value:function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,h=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return f.isNull(n)?n=i:f.isBoolean(n)&&(h=n,n=i),this._setElementValue(i),this._setRawValue(n,h),this||t}},{key:"_getRawValueToFormat",value:function(i){return f.isNull((this||t).settings.rawValueDivisor)||0===(this||t).settings.rawValueDivisor||""===i||null===i?i:i*(this||t).settings.rawValueDivisor}},{key:"_checkValuesToStrings",value:function(i){return(this||t).constructor._checkValuesToStringsArray(i,(this||t).valuesToStringsKeys)}},{key:"_isUserManuallyEditingTheValue",value:function(){return(this||t).isFocused&&(this||t).isEditing||(this||t).isDropEvent}},{key:"_executeCallback",value:function(i,n){!f.isNull(n)&&f.isFunction(n)&&n(i,this||t)}},{key:"_triggerEvent",value:function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f.triggerEvent(i,n,h,(this||t).settings.eventBubbles,(this||t).settings.eventIsCancelable)}},{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.getNumericString(t)}},{key:"getNumericString",value:function(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i=f.isNull((this||t).rawValue)?null:f.trimPaddedZerosFromDecimalPlaces((this||t).rawValue),this._executeCallback(i,n),i}},{key:"getFormatted",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;"value"in(this||t).domElement||"textContent"in(this||t).domElement||f.throwError("Unable to get the formatted string from the element.");var n=f.getElementValue((this||t).domElement);return this._executeCallback(n,i),n}},{key:"getNumber",value:function(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i=null===(this||t).rawValue?null:(this||t).constructor._toLocale(this.getNumericString(),"number",(this||t).settings),this._executeCallback(i,n),i}},{key:"getLocalized",value:function(){var i,n,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;f.isFunction(h)&&f.isNull(d)&&(d=h,h=null),""!=(i=f.isEmptyString((this||t).rawValue)?"":""+Number((this||t).rawValue))&&0===Number(i)&&(this||t).settings.leadingZero!==e.options.leadingZero.keep&&(i="0"),n=f.isNull(h)?(this||t).settings.outputFormat:h;var w=(this||t).constructor._toLocale(i,n,(this||t).settings);return this._executeCallback(w,d),w}},{key:"reformat",value:function(){return this.set((this||t).rawValue),this||t}},{key:"unformat",value:function(){return this._setElementValue(this.getNumericString()),this||t}},{key:"unformatLocalized",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._setElementValue(this.getLocalized(i)),this||t}},{key:"isPristine",value:function(){return arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?(this||t).initialValueHtmlAttribute===this.getFormatted():(this||t).initialValue===this.getNumericString()}},{key:"select",value:function(){return(this||t).settings.selectNumberOnly?this.selectNumber():this._defaultSelectAll(),this||t}},{key:"_defaultSelectAll",value:function(){f.setElementSelection((this||t).domElement,0,f.getElementValue((this||t).domElement).length)}},{key:"selectNumber",value:function(){var i,n,h=f.getElementValue((this||t).domElement),d=h.length,w=(this||t).settings.currencySymbol.length,N=(this||t).settings.currencySymbolPlacement,_=f.isNegative(h,(this||t).settings.negativeSignCharacter)?1:0,I=(this||t).settings.suffixText.length;if(i=N===e.options.currencySymbolPlacement.suffix?0:(this||t).settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.left&&1===_&&w>0?w+1:w,N===e.options.currencySymbolPlacement.prefix)n=d-I;else switch((this||t).settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.left:n=d-(I+w);break;case e.options.negativePositiveSignPlacement.right:n=w>0?d-(w+_+I):d-(w+I);break;default:n=d-(w+I)}return f.setElementSelection((this||t).domElement,i,n),this||t}},{key:"selectInteger",value:function(){var i=0,n=(this||t).rawValue>=0;(this||t).settings.currencySymbolPlacement!==e.options.currencySymbolPlacement.prefix&&((this||t).settings.currencySymbolPlacement!==e.options.currencySymbolPlacement.suffix||(this||t).settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.prefix&&(this||t).settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none)||((this||t).settings.showPositiveSign&&n||!n&&(this||t).settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&(this||t).settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.left)&&(i+=1),(this||t).settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&(i+=(this||t).settings.currencySymbol.length);var h=f.getElementValue((this||t).domElement),d=h.indexOf((this||t).settings.decimalCharacter);return-1===d&&(d=(this||t).settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix?h.length-(this||t).settings.currencySymbol.length:h.length,n||(this||t).settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.suffix&&(this||t).settings.currencySymbolPlacement!==e.options.currencySymbolPlacement.suffix||(d-=1),d-=(this||t).settings.suffixText.length),f.setElementSelection((this||t).domElement,i,d),this||t}},{key:"selectDecimal",value:function(){var i,n,h=f.getElementValue((this||t).domElement).indexOf((this||t).settings.decimalCharacter);return-1===h?(h=0,i=0):(h+=1,n=(this||t).isFocused?(this||t).settings.decimalPlacesShownOnFocus:(this||t).settings.decimalPlacesShownOnBlur,i=h+Number(n)),f.setElementSelection((this||t).domElement,h,i),this||t}},{key:"node",value:function(){return(this||t).domElement}},{key:"parent",value:function(){return(this||t).domElement.parentNode}},{key:"detach",value:function(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i=f.isNull(n)?(this||t).domElement:n.node(),this._removeFromLocalList(i),this||t}},{key:"attach",value:function(i){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._addToLocalList(i.node()),n&&i.update((this||t).settings),this||t}},{key:"formatOther",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._formatOrUnformatOther(!0,t,i)}},{key:"unformatOther",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._formatOrUnformatOther(!1,t,i)}},{key:"_formatOrUnformatOther",value:function(i,n){var h,d,w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(h=f.isNull(w)?(this||t).settings:this._cloneAndMergeSettings(w),f.isElement(n)){var N=f.getElementValue(n);return d=i?e.format(N,h):e.unformat(N,h),f.setElementValue(n,d),null}return i?e.format(n,h):e.unformat(n,h)}},{key:"init",value:function(i){var n=this||t,h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=!1,w=[];if(f.isString(i)?w=C(document.querySelectorAll(i)):f.isElement(i)?(w.push(i),d=!0):f.isArray(i)?w=i:f.throwError("The given parameters to the 'init' function are invalid."),0===w.length)return f.warning("No valid DOM elements were given hence no AutoNumeric object were instantiated.",!0),[];var N=this._getLocalList(),_=[];return w.forEach((function(t){var i=n.settings.createLocalList;h&&(n.settings.createLocalList=!1);var d=new e(t,f.getElementValue(t),n.settings);h&&(d._setLocalList(N),n._addToLocalList(t,d),n.settings.createLocalList=i),_.push(d)})),d?_[0]:_}},{key:"clear",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]){var i={emptyInputBehavior:e.options.emptyInputBehavior.focus};this.set("",i)}else this.set("");return this||t}},{key:"remove",value:function(){this._removeValueFromPersistentStorage(),this._removeEventListeners(),this._removeWatcher(),this._removeFromLocalList((this||t).domElement),(this||t).constructor._removeFromGlobalList(this||t)}},{key:"wipe",value:function(){this._setElementValue("",!1),this.remove()}},{key:"nuke",value:function(){this.remove(),(this||t).domElement.parentNode.removeChild((this||t).domElement)}},{key:"form",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||f.isUndefinedOrNullOrEmpty((this||t).parentForm)){var i=this._getParentForm();if(!f.isNull(i)&&i!==(this||t).parentForm){var n=this._getFormAutoNumericChildren((this||t).parentForm);(this||t).parentForm.dataset.anCount=n.length,this._hasFormHandlerFunction(i)?this._incrementParentFormCounter(i):(this._storeFormHandlerFunction(i),this._initializeFormCounterToOne(i))}(this||t).parentForm=i}return(this||t).parentForm}},{key:"_getFormAutoNumericChildren",value:function(i){var n=this||t,h=C(i.elements),d=this._getContenteditableElements(i);return f.arrayUnique(h,d).filter((function(t){return n.constructor.isManagedByAutoNumeric(t)}))}},{key:"_getContenteditableElements",value:function(t){if(f.isUndefinedOrNullOrEmpty(t)||!t.hasAttribute("id"))return[];var i=C(t.querySelectorAll("[contenteditable=true]")),n=C(document.querySelectorAll("*:not(input)[form=".concat(t.id,"][contenteditable=true]")));return f.arrayUnique(i,n)}},{key:"_getParentForm",value:function(){if(!f.isUndefined((this||t).domElement.form))return(this||t).domElement.form;if("body"===(this||t).domElement.tagName.toLowerCase())return null;var i,n=(this||t).domElement;do{if(n=n.parentNode,f.isNull(n))return null;if("body"===(i=n.tagName?n.tagName.toLowerCase():""))break}while("form"!==i);return"form"===i?n:null}},{key:"formNumericString",value:function(){return(this||t).constructor._serializeNumericString(this.form(),(this||t).settings.serializeSpaces)}},{key:"formFormatted",value:function(){return(this||t).constructor._serializeFormatted(this.form(),(this||t).settings.serializeSpaces)}},{key:"formLocalized",value:function(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i=f.isNull(n)?(this||t).settings.outputFormat:n,(this||t).constructor._serializeLocalized(this.form(),(this||t).settings.serializeSpaces,i)}},{key:"formArrayNumericString",value:function(){return(this||t).constructor._serializeNumericStringArray(this.form(),(this||t).settings.serializeSpaces)}},{key:"formArrayFormatted",value:function(){return(this||t).constructor._serializeFormattedArray(this.form(),(this||t).settings.serializeSpaces)}},{key:"formArrayLocalized",value:function(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i=f.isNull(n)?(this||t).settings.outputFormat:n,(this||t).constructor._serializeLocalizedArray(this.form(),(this||t).settings.serializeSpaces,i)}},{key:"formJsonNumericString",value:function(){return JSON.stringify(this.formArrayNumericString())}},{key:"formJsonFormatted",value:function(){return JSON.stringify(this.formArrayFormatted())}},{key:"formJsonLocalized",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return JSON.stringify(this.formArrayLocalized(t))}},{key:"formUnformat",value:function(){return(this||t).constructor._getChildANInputElement(this.form()).forEach((function(t){e.getAutoNumericElement(t).unformat()})),this||t}},{key:"formUnformatLocalized",value:function(){return(this||t).constructor._getChildANInputElement(this.form()).forEach((function(t){e.getAutoNumericElement(t).unformatLocalized()})),this||t}},{key:"formReformat",value:function(){return(this||t).constructor._getChildANInputElement(this.form()).forEach((function(t){e.getAutoNumericElement(t).reformat()})),this||t}},{key:"formSubmitNumericString",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return f.isNull(i)?(this.formUnformat(),this.form().submit(),this.formReformat()):f.isFunction(i)?i(this.formNumericString()):f.throwError("The given callback is not a function."),this||t}},{key:"formSubmitFormatted",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return f.isNull(i)?this.form().submit():f.isFunction(i)?i(this.formFormatted()):f.throwError("The given callback is not a function."),this||t}},{key:"formSubmitLocalized",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return f.isNull(n)?(this.formUnformatLocalized(),this.form().submit(),this.formReformat()):f.isFunction(n)?n(this.formLocalized(i)):f.throwError("The given callback is not a function."),this||t}},{key:"formSubmitArrayNumericString",value:function(i){return f.isFunction(i)?i(this.formArrayNumericString()):f.throwError("The given callback is not a function."),this||t}},{key:"formSubmitArrayFormatted",value:function(i){return f.isFunction(i)?i(this.formArrayFormatted()):f.throwError("The given callback is not a function."),this||t}},{key:"formSubmitArrayLocalized",value:function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return f.isFunction(i)?i(this.formArrayLocalized(n)):f.throwError("The given callback is not a function."),this||t}},{key:"formSubmitJsonNumericString",value:function(i){return f.isFunction(i)?i(this.formJsonNumericString()):f.throwError("The given callback is not a function."),this||t}},{key:"formSubmitJsonFormatted",value:function(i){return f.isFunction(i)?i(this.formJsonFormatted()):f.throwError("The given callback is not a function."),this||t}},{key:"formSubmitJsonLocalized",value:function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return f.isFunction(i)?i(this.formJsonLocalized(n)):f.throwError("The given callback is not a function."),this||t}},{key:"_createLocalList",value:function(){(this||t).autoNumericLocalList=new Map,this._addToLocalList((this||t).domElement)}},{key:"_deleteLocalList",value:function(){delete(this||t).autoNumericLocalList}},{key:"_setLocalList",value:function(i){(this||t).autoNumericLocalList=i}},{key:"_getLocalList",value:function(){return(this||t).autoNumericLocalList}},{key:"_hasLocalList",value:function(){return(this||t).autoNumericLocalList instanceof Map&&0!==(this||t).autoNumericLocalList.size}},{key:"_addToLocalList",value:function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;f.isNull(n)&&(n=this||t),f.isUndefined((this||t).autoNumericLocalList)?f.throwError("The local list provided does not exists when trying to add an element. [".concat((this||t).autoNumericLocalList,"] given.")):(this||t).autoNumericLocalList.set(i,n)}},{key:"_removeFromLocalList",value:function(i){f.isUndefined((this||t).autoNumericLocalList)?(this||t).settings.createLocalList&&f.throwError("The local list provided does not exists when trying to remove an element. [".concat((this||t).autoNumericLocalList,"] given.")):(this||t).autoNumericLocalList.delete(i)}},{key:"_mergeSettings",value:function(){for(var i=arguments.length,n=new Array(i),h=0;h<i;h++)n[h]=arguments[h];T.apply(void 0,[(this||t).settings].concat(n))}},{key:"_cloneAndMergeSettings",value:function(){for(var i={},n=arguments.length,h=new Array(n),d=0;d<n;d++)h[d]=arguments[d];return T.apply(void 0,[i,(this||t).settings].concat(h)),i}},{key:"_updatePredefinedOptions",value:function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return f.isNull(n)?this.update(i):(this._mergeSettings(i,n),this.update((this||t).settings)),this||t}},{key:"french",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._updatePredefinedOptions(e.getPredefinedOptions().French,i),this||t}},{key:"northAmerican",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._updatePredefinedOptions(e.getPredefinedOptions().NorthAmerican,i),this||t}},{key:"british",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._updatePredefinedOptions(e.getPredefinedOptions().British,i),this||t}},{key:"swiss",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._updatePredefinedOptions(e.getPredefinedOptions().Swiss,i),this||t}},{key:"japanese",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._updatePredefinedOptions(e.getPredefinedOptions().Japanese,i),this||t}},{key:"spanish",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._updatePredefinedOptions(e.getPredefinedOptions().Spanish,i),this||t}},{key:"chinese",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._updatePredefinedOptions(e.getPredefinedOptions().Chinese,i),this||t}},{key:"brazilian",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._updatePredefinedOptions(e.getPredefinedOptions().Brazilian,i),this||t}},{key:"_runCallbacksFoundInTheSettingsObject",value:function(){for(var i in(this||t).settings)if(Object.prototype.hasOwnProperty.call((this||t).settings,i)){var n=(this||t).settings[i];if("function"==typeof n)(this||t).settings[i]=n(this||t,i);else{var h="";i in(this||t).domElement.dataset&&(h=(this||t).domElement.dataset[i]),h=f.camelize(h),"function"==typeof(this||t).settings[h]&&((this||t).settings[i]=h(this||t,i))}}}},{key:"_setTrailingNegativeSignInfo",value:function(){(this||t).isTrailingNegative=(this||t).settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&(this||t).settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.suffix||(this||t).settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix&&((this||t).settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.left||(this||t).settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.right)}},{key:"_modifyNegativeSignAndDecimalCharacterForRawValue",value:function(i){return"."!==(this||t).settings.decimalCharacter&&(i=i.replace((this||t).settings.decimalCharacter,".")),"-"!==(this||t).settings.negativeSignCharacter&&(this||t).settings.isNegativeSignAllowed&&(i=i.replace((this||t).settings.negativeSignCharacter,"-")),i.match(/\d/)||(i+="0"),i}},{key:"_initialCaretPosition",value:function(i){f.isNull((this||t).settings.caretPositionOnFocus)&&(this||t).settings.selectOnFocus===e.options.selectOnFocus.doNotSelect&&f.throwError("`_initialCaretPosition()` should never be called when the `caretPositionOnFocus` option is `null`.");var n=(this||t).rawValue<0,h=f.isZeroOrHasNoValue(i),d=i.length,w=0,N=0,_=!1,I=0;(this||t).settings.caretPositionOnFocus!==e.options.caretPositionOnFocus.start&&(w=(i=(i=(i=i.replace((this||t).settings.negativeSignCharacter,"")).replace((this||t).settings.positiveSignCharacter,"")).replace((this||t).settings.currencySymbol,"")).length,_=f.contains(i,(this||t).settings.decimalCharacter),(this||t).settings.caretPositionOnFocus!==e.options.caretPositionOnFocus.decimalLeft&&(this||t).settings.caretPositionOnFocus!==e.options.caretPositionOnFocus.decimalRight||(_?(N=i.indexOf((this||t).settings.decimalCharacter),I=(this||t).settings.decimalCharacter.length):(N=w,I=0)));var M="";n?M=(this||t).settings.negativeSignCharacter:(this||t).settings.showPositiveSign&&!h&&(M=(this||t).settings.positiveSignCharacter);var R,U=M.length,j=(this||t).settings.currencySymbol.length;if((this||t).settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix){if((this||t).settings.caretPositionOnFocus===e.options.caretPositionOnFocus.start)if((this||t).settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&(this||t).settings.showPositiveSign&&!h))switch((this||t).settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.left:case e.options.negativePositiveSignPlacement.right:R=U+j;break;case e.options.negativePositiveSignPlacement.suffix:R=j}else R=j;else if((this||t).settings.caretPositionOnFocus===e.options.caretPositionOnFocus.end)if((this||t).settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&(this||t).settings.showPositiveSign&&!h))switch((this||t).settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.left:case e.options.negativePositiveSignPlacement.right:R=d;break;case e.options.negativePositiveSignPlacement.suffix:R=j+w}else R=d;else if((this||t).settings.caretPositionOnFocus===e.options.caretPositionOnFocus.decimalLeft)if((this||t).settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&(this||t).settings.showPositiveSign&&!h))switch((this||t).settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.left:case e.options.negativePositiveSignPlacement.right:R=U+j+N;break;case e.options.negativePositiveSignPlacement.suffix:R=j+N}else R=j+N;else if((this||t).settings.caretPositionOnFocus===e.options.caretPositionOnFocus.decimalRight)if((this||t).settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&(this||t).settings.showPositiveSign&&!h))switch((this||t).settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.left:case e.options.negativePositiveSignPlacement.right:R=U+j+N+I;break;case e.options.negativePositiveSignPlacement.suffix:R=j+N+I}else R=j+N+I}else if((this||t).settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix)if((this||t).settings.caretPositionOnFocus===e.options.caretPositionOnFocus.start)if((this||t).settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&(this||t).settings.showPositiveSign&&!h))switch((this||t).settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.suffix:case e.options.negativePositiveSignPlacement.right:case e.options.negativePositiveSignPlacement.left:R=0;break;case e.options.negativePositiveSignPlacement.prefix:R=U}else R=0;else if((this||t).settings.caretPositionOnFocus===e.options.caretPositionOnFocus.end)if((this||t).settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&(this||t).settings.showPositiveSign&&!h))switch((this||t).settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.suffix:case e.options.negativePositiveSignPlacement.right:case e.options.negativePositiveSignPlacement.left:R=w;break;case e.options.negativePositiveSignPlacement.prefix:R=U+w}else R=w;else if((this||t).settings.caretPositionOnFocus===e.options.caretPositionOnFocus.decimalLeft)if((this||t).settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&(this||t).settings.showPositiveSign&&!h))switch((this||t).settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.suffix:case e.options.negativePositiveSignPlacement.right:case e.options.negativePositiveSignPlacement.left:R=N;break;case e.options.negativePositiveSignPlacement.prefix:R=U+N}else R=N;else if((this||t).settings.caretPositionOnFocus===e.options.caretPositionOnFocus.decimalRight)if((this||t).settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&(this||t).settings.showPositiveSign&&!h))switch((this||t).settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.suffix:case e.options.negativePositiveSignPlacement.right:case e.options.negativePositiveSignPlacement.left:R=N+I;break;case e.options.negativePositiveSignPlacement.prefix:R=U+N+I}else R=N+I;return R}},{key:"_triggerRangeEvents",value:function(i,n){i||this._triggerEvent(e.events.minRangeExceeded,(this||t).domElement),n||this._triggerEvent(e.events.maxRangeExceeded,(this||t).domElement)}},{key:"_setInvalidState",value:function(){(this||t).isInputElement?f.setInvalidState((this||t).domElement):this._addCSSClass((this||t).settings.invalidClass),this._triggerEvent(e.events.invalidValue,(this||t).domElement),(this||t).validState=!1}},{key:"_setValidState",value:function(){(this||t).isInputElement?f.setValidState((this||t).domElement):this._removeCSSClass((this||t).settings.invalidClass),(this||t).validState||this._triggerEvent(e.events.correctedValue,(this||t).domElement),(this||t).validState=!0}},{key:"_setValidOrInvalidState",value:function(i){if((this||t).settings.overrideMinMaxLimits===e.options.overrideMinMaxLimits.invalid){var n=(this||t).constructor._isMinimumRangeRespected(i,(this||t).settings),h=(this||t).constructor._isMaximumRangeRespected(i,(this||t).settings);n&&h?this._setValidState():this._setInvalidState(),this._triggerRangeEvents(n,h)}}},{key:"_keepAnOriginalSettingsCopy",value:function(){(this||t).originalDigitGroupSeparator=(this||t).settings.digitGroupSeparator,(this||t).originalCurrencySymbol=(this||t).settings.currencySymbol,(this||t).originalSuffixText=(this||t).settings.suffixText}},{key:"_trimLeadingAndTrailingZeros",value:function(i){if(""===i||null===i)return i;if((this||t).settings.leadingZero!==e.options.leadingZero.keep){if(0===Number(i))return"0";i=i.replace(/^(-)?0+(?=\d)/g,"$1")}return f.contains(i,".")&&(i=i.replace(/(\.[0-9]*?)0+$/,"$1")),i.replace(/\.$/,"")}},{key:"_setPersistentStorageName",value:function(){(this||t).settings.saveValueToSessionStorage&&(""===(this||t).domElement.name||f.isUndefined((this||t).domElement.name)?(this||t).rawValueStorageName="".concat((this||t).storageNamePrefix).concat((this||t).domElement.id):(this||t).rawValueStorageName="".concat((this||t).storageNamePrefix).concat(decodeURIComponent((this||t).domElement.name)))}},{key:"_saveValueToPersistentStorage",value:function(){(this||t).settings.saveValueToSessionStorage&&sessionStorage.setItem((this||t).rawValueStorageName,(this||t).rawValue)}},{key:"_getValueFromPersistentStorage",value:function(){return(this||t).settings.saveValueToSessionStorage?sessionStorage.getItem((this||t).rawValueStorageName):(f.warning("`_getValueFromPersistentStorage()` is called but `settings.saveValueToSessionStorage` is false. There must be an error that needs fixing.",(this||t).settings.showWarnings),null)}},{key:"_removeValueFromPersistentStorage",value:function(){(this||t).settings.saveValueToSessionStorage&&sessionStorage.removeItem((this||t).rawValueStorageName)}},{key:"_getDefaultValue",value:function(t){var i=t.getAttribute("value");return f.isNull(i)?"":i}},{key:"_onFocusInAndMouseEnter",value:function(i){if((this||t).isEditing=!1,!(this||t).formulaMode&&(this||t).settings.unformatOnHover&&"mouseenter"===i.type&&i.altKey)(this||t).constructor._unformatAltHovered(this||t);else if("focus"===i.type&&((this||t).isFocused=!0,(this||t).rawValueOnFocus=(this||t).rawValue),"focus"===i.type&&(this||t).settings.unformatOnHover&&(this||t).hoveredWithAlt&&(this||t).constructor._reformatAltHovered(this||t),"focus"===i.type||"mouseenter"===i.type&&!(this||t).isFocused){var n=null;(this||t).settings.emptyInputBehavior===e.options.emptyInputBehavior.focus&&(this||t).rawValue<0&&null!==(this||t).settings.negativeBracketsTypeOnBlur&&(this||t).settings.isNegativeSignAllowed&&(n=(this||t).constructor._removeBrackets(f.getElementValue((this||t).domElement),(this||t).settings));var h=this._getRawValueToFormat((this||t).rawValue);if(""!==h){var d=(this||t).constructor._roundFormattedValueShownOnFocusOrBlur(h,(this||t).settings,(this||t).isFocused);(this||t).settings.showOnlyNumbersOnFocus===e.options.showOnlyNumbersOnFocus.onlyNumbers?((this||t).settings.digitGroupSeparator="",(this||t).settings.currencySymbol="",(this||t).settings.suffixText="",n=d.replace(".",(this||t).settings.decimalCharacter)):n=f.isNull(d)?"":(this||t).constructor._addGroupSeparators(d.replace(".",(this||t).settings.decimalCharacter),(this||t).settings,(this||t).isFocused,h)}f.isNull(n)?(this||t).valueOnFocus="":(this||t).valueOnFocus=n,(this||t).lastVal=(this||t).valueOnFocus;var w=(this||t).constructor._isElementValueEmptyOrOnlyTheNegativeSign((this||t).valueOnFocus,(this||t).settings),N=(this||t).constructor._orderValueCurrencySymbolAndSuffixText((this||t).valueOnFocus,(this||t).settings,!0),_=w&&""!==N&&(this||t).settings.emptyInputBehavior===e.options.emptyInputBehavior.focus;_&&(n=N),f.isNull(n)||this._setElementValue(n),_&&N===(this||t).settings.currencySymbol&&(this||t).settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix&&f.setElementSelection(i.target,0)}}},{key:"_onFocus",value:function(){(this||t).settings.isCancellable&&this._saveCancellableValue()}},{key:"_onFocusIn",value:function(i){(this||t).settings.selectOnFocus?this.select():f.isNull((this||t).settings.caretPositionOnFocus)||f.setElementSelection(i.target,this._initialCaretPosition(f.getElementValue((this||t).domElement)))}},{key:"_enterFormulaMode",value:function(){(this||t).settings.formulaMode&&((this||t).formulaMode=!0,f.setElementValue((this||t).domElement,"="),f.setElementSelection((this||t).domElement,1))}},{key:"_exitFormulaMode",value:function(){var i,n=f.getElementValue((this||t).domElement);n=n.replace(/^\s*=/,"");try{var h=new M(n,(this||t).settings.decimalCharacter);i=(new w).evaluate(h)}catch(i){return this._triggerEvent(e.events.invalidFormula,(this||t).domElement,{formula:n,aNElement:this||t}),this.reformat(),void((this||t).formulaMode=!1)}this._triggerEvent(e.events.validFormula,(this||t).domElement,{formula:n,result:i,aNElement:this||t}),this.set(i),(this||t).formulaMode=!1}},{key:"_acceptNonPrintableKeysInFormulaMode",value:function(){return(this||t).eventKey===d.keyName.Backspace||(this||t).eventKey===d.keyName.Delete||(this||t).eventKey===d.keyName.LeftArrow||(this||t).eventKey===d.keyName.RightArrow||(this||t).eventKey===d.keyName.Home||(this||t).eventKey===d.keyName.End}},{key:"_onKeydown",value:function(i){if((this||t).formatted=!1,(this||t).isEditing=!0,(this||t).formulaMode||(this||t).isFocused||!(this||t).settings.unformatOnHover||!i.altKey||(this||t).domElement!==f.getHoveredElement()){if(this._updateEventKeyInfo(i),(this||t).keydownEventCounter+=1,1===(this||t).keydownEventCounter&&((this||t).initialValueOnFirstKeydown=f.getElementValue(i.target),(this||t).initialRawValueOnFirstKeydown=(this||t).rawValue),(this||t).formulaMode){if((this||t).eventKey===d.keyName.Esc)return(this||t).formulaMode=!1,void this.reformat();if((this||t).eventKey===d.keyName.Enter)return void this._exitFormulaMode();if(this._acceptNonPrintableKeysInFormulaMode())return}else{if((this||t).eventKey===d.keyName.Equal)return void this._enterFormulaMode();if((this||t).settings.modifyValueOnUpDownArrow&&((this||t).eventKey===d.keyName.UpArrow||(this||t).eventKey===d.keyName.DownArrow))return void this.upDownArrowAction(i)}if((this||t).domElement.readOnly||(this||t).settings.readOnly||(this||t).domElement.disabled)(this||t).processed=!0;else{(this||t).eventKey===d.keyName.Esc&&(i.preventDefault(),(this||t).settings.isCancellable&&(this||t).rawValue!==(this||t).savedCancellableValue&&(this.set((this||t).savedCancellableValue),this._triggerEvent(e.events.native.input,i.target)),this.select());var n=f.getElementValue(i.target);if((this||t).eventKey===d.keyName.Enter&&(this||t).rawValue!==(this||t).rawValueOnFocus&&(this._triggerEvent(e.events.native.change,i.target),(this||t).valueOnFocus=n,(this||t).rawValueOnFocus=(this||t).rawValue,(this||t).settings.isCancellable&&this._saveCancellableValue()),this._updateInternalProperties(i),this._processNonPrintableKeysAndShortcuts(i))(this||t).processed=!0;else if((this||t).eventKey===d.keyName.Backspace||(this||t).eventKey===d.keyName.Delete){var h=this._processCharacterDeletion(i);if((this||t).processed=!0,!h)return void i.preventDefault();this._formatValue(i),(n=f.getElementValue(i.target))!==(this||t).lastVal&&(this||t).throwInput&&(this._triggerEvent(e.events.native.input,i.target),i.preventDefault()),(this||t).lastVal=n,(this||t).throwInput=!0}}}else(this||t).constructor._unformatAltHovered(this||t)}},{key:"_onKeypress",value:function(i){if((this||t).formulaMode){if(this._acceptNonPrintableKeysInFormulaMode())return;if((this||t).settings.formulaChars.test((this||t).eventKey))return;i.preventDefault()}else if((this||t).eventKey!==d.keyName.Insert){var n=(this||t).processed;if(this._updateInternalProperties(i),!this._processNonPrintableKeysAndShortcuts(i))if(n)i.preventDefault();else{if(this._processCharacterInsertion()){this._formatValue(i);var h=f.getElementValue(i.target);if(h!==(this||t).lastVal&&(this||t).throwInput)this._triggerEvent(e.events.native.input,i.target),i.preventDefault();else{if(((this||t).eventKey===(this||t).settings.decimalCharacter||(this||t).eventKey===(this||t).settings.decimalCharacterAlternative)&&f.getElementSelection(i.target).start===f.getElementSelection(i.target).end&&f.getElementSelection(i.target).start===h.indexOf((this||t).settings.decimalCharacter)){var w=f.getElementSelection(i.target).start+1;f.setElementSelection(i.target,w)}i.preventDefault()}return(this||t).lastVal=f.getElementValue(i.target),(this||t).throwInput=!0,void this._setValidOrInvalidState((this||t).rawValue)}i.preventDefault()}}}},{key:"_onKeyup",value:function(i){if((this||t).isEditing=!1,(this||t).keydownEventCounter=0,!(this||t).formulaMode)if((this||t).settings.isCancellable&&(this||t).eventKey===d.keyName.Esc)i.preventDefault();else{if(this._updateEventKeyInfo(i),(this||t).eventKey===d.keyName.Z||(this||t).eventKey===d.keyName.z){if(i.ctrlKey&&i.shiftKey)return i.preventDefault(),this._historyTableRedo(),this._triggerEvent(e.events.native.input,i.target),void((this||t).onGoingRedo=!0);if(i.ctrlKey&&!i.shiftKey){if(!(this||t).onGoingRedo)return i.preventDefault(),this._historyTableUndo(),void this._triggerEvent(e.events.native.input,i.target);(this||t).onGoingRedo=!1}}else if(((this||t).eventKey===d.keyName.Y||(this||t).eventKey===d.keyName.y)&&i.ctrlKey)return i.preventDefault(),this._historyTableRedo(),this._triggerEvent(e.events.native.input,i.target),void((this||t).onGoingRedo=!0);if((this||t).onGoingRedo&&(i.ctrlKey||i.shiftKey)&&((this||t).onGoingRedo=!1),(i.ctrlKey||i.metaKey)&&((this||t).eventKey===d.keyName.X||(this||t).eventKey===d.keyName.x)){var n=f.getElementSelection((this||t).domElement).start,h=(this||t).constructor._toNumericValue(f.getElementValue(i.target),(this||t).settings);this.set(h),this._setCaretPosition(n)}if((this||t).eventKey===d.keyName.Alt&&(this||t).settings.unformatOnHover&&(this||t).hoveredWithAlt)(this||t).constructor._reformatAltHovered(this||t);else if(!i.ctrlKey&&!i.metaKey||(this||t).eventKey!==d.keyName.Backspace&&(this||t).eventKey!==d.keyName.Delete){this._updateInternalProperties(i);var w=this._processNonPrintableKeysAndShortcuts(i);delete(this||t).valuePartsBeforePaste;var N=f.getElementValue(i.target);if(!(w||""===N&&""===(this||t).initialValueOnFirstKeydown)&&(N===(this||t).settings.currencySymbol?(this||t).settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix?f.setElementSelection(i.target,0):f.setElementSelection(i.target,(this||t).settings.currencySymbol.length):(this||t).eventKey===d.keyName.Tab&&f.setElementSelection(i.target,0,N.length),(N===(this||t).settings.suffixText||""===(this||t).rawValue&&""!==(this||t).settings.currencySymbol&&""!==(this||t).settings.suffixText)&&f.setElementSelection(i.target,0),null!==(this||t).settings.decimalPlacesShownOnFocus&&this._saveValueToPersistentStorage(),(this||t).formatted||this._formatValue(i),this._setValidOrInvalidState((this||t).rawValue),this._saveRawValueForAndroid(),N!==(this||t).initialValueOnFirstKeydown&&this._triggerEvent(e.events.formatted,i.target,{oldValue:(this||t).initialValueOnFirstKeydown,newValue:N,oldRawValue:(this||t).initialRawValueOnFirstKeydown,newRawValue:(this||t).rawValue,isPristine:this.isPristine(!1),error:null,aNElement:this||t}),(this||t).historyTable.length>1)){var _=f.getElementSelection((this||t).domElement);(this||t).selectionStart=_.start,(this||t).selectionEnd=_.end,(this||t).historyTable[(this||t).historyTableIndex].start=(this||t).selectionStart,(this||t).historyTable[(this||t).historyTableIndex].end=(this||t).selectionEnd}}else{var I=f.getElementValue(i.target);this._setRawValue(this._formatOrUnformatOther(!1,I))}}}},{key:"_saveRawValueForAndroid",value:function(){if((this||t).eventKey===d.keyName.AndroidDefault){var i=(this||t).constructor._stripAllNonNumberCharactersExceptCustomDecimalChar(this.getFormatted(),(this||t).settings,!0,(this||t).isFocused);i=(this||t).constructor._convertToNumericString(i,(this||t).settings),this._setRawValue(i)}}},{key:"_onFocusOutAndMouseLeave",value:function(i){if((this||t).isEditing=!1,"mouseleave"!==i.type||!(this||t).formulaMode)if((this||t).settings.unformatOnHover&&"mouseleave"===i.type&&(this||t).hoveredWithAlt)(this||t).constructor._reformatAltHovered(this||t);else if("mouseleave"===i.type&&!(this||t).isFocused||"blur"===i.type){"blur"===i.type&&(this||t).formulaMode&&this._exitFormulaMode(),this._saveValueToPersistentStorage(),(this||t).settings.showOnlyNumbersOnFocus===e.options.showOnlyNumbersOnFocus.onlyNumbers&&((this||t).settings.digitGroupSeparator=(this||t).originalDigitGroupSeparator,(this||t).settings.currencySymbol=(this||t).originalCurrencySymbol,(this||t).settings.suffixText=(this||t).originalSuffixText);var n=this._getRawValueToFormat((this||t).rawValue),h=f.isNull(n),d=F((this||t).constructor._checkIfInRangeWithOverrideOption(n,(this||t).settings),2),w=d[0],N=d[1],_=!1;if(""===n||h||(this._triggerRangeEvents(w,N),(this||t).settings.valuesToStrings&&this._checkValuesToStrings(n)&&(this._setElementValue((this||t).settings.valuesToStrings[n]),_=!0)),!_){var I;if(I=h||""===n?n:String(n),""===n||h){if(""===n)switch((this||t).settings.emptyInputBehavior){case e.options.emptyInputBehavior.zero:this._setRawValue("0"),I=(this||t).constructor._roundValue("0",(this||t).settings,0);break;case e.options.emptyInputBehavior.min:this._setRawValue((this||t).settings.minimumValue),I=(this||t).constructor._roundFormattedValueShownOnFocusOrBlur((this||t).settings.minimumValue,(this||t).settings,(this||t).isFocused);break;case e.options.emptyInputBehavior.max:this._setRawValue((this||t).settings.maximumValue),I=(this||t).constructor._roundFormattedValueShownOnFocusOrBlur((this||t).settings.maximumValue,(this||t).settings,(this||t).isFocused);break;default:f.isNumber((this||t).settings.emptyInputBehavior)&&(this._setRawValue((this||t).settings.emptyInputBehavior),I=(this||t).constructor._roundFormattedValueShownOnFocusOrBlur((this||t).settings.emptyInputBehavior,(this||t).settings,(this||t).isFocused))}}else w&&N&&!(this||t).constructor._isElementValueEmptyOrOnlyTheNegativeSign(n,(this||t).settings)?(I=this._modifyNegativeSignAndDecimalCharacterForRawValue(I),(this||t).settings.divisorWhenUnfocused&&!f.isNull(I)&&(I=(I/=(this||t).settings.divisorWhenUnfocused).toString()),I=(this||t).constructor._roundFormattedValueShownOnBlur(I,(this||t).settings),I=(this||t).constructor._modifyNegativeSignAndDecimalCharacterForFormattedValue(I,(this||t).settings)):this._triggerRangeEvents(w,N);var M=(this||t).constructor._orderValueCurrencySymbolAndSuffixText(I,(this||t).settings,!1);(this||t).constructor._isElementValueEmptyOrOnlyTheNegativeSign(I,(this||t).settings)||h&&(this||t).settings.emptyInputBehavior===e.options.emptyInputBehavior.null||(M=(this||t).constructor._addGroupSeparators(I,(this||t).settings,!1,n)),M===n&&""!==n&&(this||t).settings.allowDecimalPadding!==e.options.allowDecimalPadding.never&&(this||t).settings.allowDecimalPadding!==e.options.allowDecimalPadding.floats||((this||t).settings.symbolWhenUnfocused&&""!==n&&null!==n&&(M="".concat(M).concat((this||t).settings.symbolWhenUnfocused)),this._setElementValue(M))}this._setValidOrInvalidState((this||t).rawValue),"blur"===i.type&&this._onBlur(i)}}},{key:"_onPaste",value:function(i){if(i.preventDefault(),!((this||t).settings.readOnly||(this||t).domElement.readOnly||(this||t).domElement.disabled)){var n,h;i.clipboardData&&i.clipboardData.getData?n=i.clipboardData.getData("text/plain"):f.throwError("Unable to retrieve the pasted value. Please use a modern browser (i.e. Firefox or Chromium)."),h=i.target.tagName?i.target:i.explicitOriginalTarget;var d=f.getElementValue(h),w=h.selectionStart||0,N=h.selectionEnd||0,_=N-w;if(_===d.length){var I=this._preparePastedText(n),M=f.arabicToLatinNumbers(I,!1,!1,!1);return"."===M||""===M||"."!==M&&!f.isNumber(M)?((this||t).formatted=!0,void((this||t).settings.onInvalidPaste===e.options.onInvalidPaste.error&&f.throwError("The pasted value '".concat(n,"' is not a valid paste content.")))):(this.set(M),(this||t).formatted=!0,void this._triggerEvent(e.events.native.input,h))}var R=f.isNegativeStrict(n,(this||t).settings.negativeSignCharacter);R&&(n=n.slice(1,n.length));var U,j,K=this._preparePastedText(n);if("."!==(U="."===K?".":f.arabicToLatinNumbers(K,!1,!1,!1))&&(!f.isNumber(U)||""===U))return(this||t).formatted=!0,void((this||t).settings.onInvalidPaste===e.options.onInvalidPaste.error&&f.throwError("The pasted value '".concat(n,"' is not a valid paste content.")));var z,W,G=f.isNegativeStrict(this.getNumericString(),(this||t).settings.negativeSignCharacter);R&&!G?(G=!0,z=!0):z=!1;var H=d.slice(0,w),Z=d.slice(N,d.length);W=w!==N?this._preparePastedText(H+Z):this._preparePastedText(d),G&&(W=f.setRawNegativeSign(W)),j=f.convertCharacterCountToIndexPosition(f.countNumberCharactersOnTheCaretLeftSide(d,w,(this||t).settings.decimalCharacter)),z&&j++;var q=W.slice(0,j),$=W.slice(j,W.length),Y=!1;"."===U&&(f.contains(q,".")&&(Y=!0,q=q.replace(".","")),$=$.replace(".",""));var J=!1;switch(""===q&&"-"===$&&(q="-",$="",J=!0),(this||t).settings.onInvalidPaste){case e.options.onInvalidPaste.truncate:case e.options.onInvalidPaste.replace:for(var X=f.parseStr((this||t).settings.minimumValue),Q=f.parseStr((this||t).settings.maximumValue),ee=W,te=0,ie=q;te<U.length&&(W=(ie+=U[te])+$,(this||t).constructor._checkIfInRange(W,X,Q));)ee=W,te++;if(j+=te,J&&j++,(this||t).settings.onInvalidPaste===e.options.onInvalidPaste.truncate){W=ee,Y&&j--;break}for(var ne=j,ae=ee.length;te<U.length&&ne<ae;)if("."!==ee[ne]){if(W=f.replaceCharAt(ee,ne,U[te]),!(this||t).constructor._checkIfInRange(W,X,Q))break;ee=W,te++,ne++}else ne++;j=ne,Y&&j--,W=ee;break;case e.options.onInvalidPaste.error:case e.options.onInvalidPaste.ignore:case e.options.onInvalidPaste.clamp:default:if(W="".concat(q).concat(U).concat($),w===N)j=f.convertCharacterCountToIndexPosition(f.countNumberCharactersOnTheCaretLeftSide(d,w,(this||t).settings.decimalCharacter))+U.length;else if(""===$)j=f.convertCharacterCountToIndexPosition(f.countNumberCharactersOnTheCaretLeftSide(d,w,(this||t).settings.decimalCharacter))+U.length,J&&j++;else{var re=f.convertCharacterCountToIndexPosition(f.countNumberCharactersOnTheCaretLeftSide(d,N,(this||t).settings.decimalCharacter)),oe=f.getElementValue(h).slice(w,N);j=re-_+f.countCharInText((this||t).settings.digitGroupSeparator,oe)+U.length}z&&j++,Y&&j--}if(f.isNumber(W)&&""!==W){var se=!1,le=!1;try{this.set(W),se=!0}catch(i){var ue;switch((this||t).settings.onInvalidPaste){case e.options.onInvalidPaste.clamp:ue=f.clampToRangeLimits(W,(this||t).settings);try{this.set(ue)}catch(t){f.throwError("Fatal error: Unable to set the clamped value '".concat(ue,"'."))}le=!0,se=!0,W=ue;break;case e.options.onInvalidPaste.error:case e.options.onInvalidPaste.truncate:case e.options.onInvalidPaste.replace:f.throwError("The pasted value '".concat(n,"' results in a value '").concat(W,"' that is outside of the minimum [").concat((this||t).settings.minimumValue,"] and maximum [").concat((this||t).settings.maximumValue,"] value range."));case e.options.onInvalidPaste.ignore:default:return}}var ce,he=f.getElementValue(h);if(se)switch((this||t).settings.onInvalidPaste){case e.options.onInvalidPaste.clamp:if(le){(this||t).settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix?f.setElementSelection(h,he.length-(this||t).settings.currencySymbol.length):f.setElementSelection(h,he.length);break}case e.options.onInvalidPaste.error:case e.options.onInvalidPaste.ignore:case e.options.onInvalidPaste.truncate:case e.options.onInvalidPaste.replace:default:ce=f.findCaretPositionInFormattedNumber(W,j,he,(this||t).settings.decimalCharacter),f.setElementSelection(h,ce)}se&&d!==he&&this._triggerEvent(e.events.native.input,h)}else(this||t).settings.onInvalidPaste===e.options.onInvalidPaste.error&&f.throwError("The pasted value '".concat(n,"' would result into an invalid content '").concat(W,"'."))}}},{key:"_onBlur",value:function(i){(this||t).isFocused=!1,(this||t).isEditing=!1,f.trimPaddedZerosFromDecimalPlaces((this||t).rawValue)!==f.trimPaddedZerosFromDecimalPlaces((this||t).rawValueOnFocus)&&this._triggerEvent(e.events.native.change,i.target),(this||t).rawValueOnFocus=void 0}},{key:"_wheelAndUpDownActions",value:function(i,n,h,d){var w,N=i.target.selectionStart||0,_=i.target.selectionEnd||0,I=(this||t).rawValue;if(w=+(w=f.isUndefinedOrNullOrEmpty(I)?(this||t).settings.minimumValue>0||(this||t).settings.maximumValue<0?n?(this||t).settings.minimumValue:(this||t).settings.maximumValue:0:I),f.isNumber(d)){var M=+d;n?w+=M:h&&(w-=M)}else n?w=f.addAndRoundToNearestAuto(w,(this||t).settings.decimalPlacesRawValue):h&&(w=f.subtractAndRoundToNearestAuto(w,(this||t).settings.decimalPlacesRawValue));(w=f.clampToRangeLimits(w,(this||t).settings))!==+I&&(this.set(w),this._triggerEvent(e.events.native.input,i.target)),i.preventDefault(),this._setSelection(N,_)}},{key:"upDownArrowAction",value:function(i){if(!((this||t).formulaMode||(this||t).settings.readOnly||(this||t).domElement.readOnly||(this||t).domElement.disabled)){var n=!1,h=!1;(this||t).eventKey===d.keyName.UpArrow?n=!0:(this||t).eventKey===d.keyName.DownArrow?h=!0:f.throwError("Something has gone wrong since neither an Up or Down arrow key is detected, but the function was still called!"),this._wheelAndUpDownActions(i,n,h,(this||t).settings.upDownStep)}}},{key:"_onWheel",value:function(i){(this||t).formulaMode||(this||t).settings.readOnly||(this||t).domElement.readOnly||(this||t).domElement.disabled||(this||t).settings.modifyValueOnWheel&&((this||t).settings.wheelOn===e.options.wheelOn.focus?(this||t).isFocused?i.shiftKey||this.wheelAction(i):i.shiftKey&&this.wheelAction(i):(this||t).settings.wheelOn===e.options.wheelOn.hover?i.shiftKey?(i.preventDefault(),window.scrollBy(0,f.isNegativeStrict(String(i.deltaY))?-50:50)):this.wheelAction(i):f.throwError("Unknown `wheelOn` option."))}},{key:"wheelAction",value:function(i){(this||t).isWheelEvent=!0;var n=!1,h=!1,d=!1;f.isWheelUpEvent(i)?n=!0:f.isWheelDownEvent(i)?h=!0:f.isWheelEventWithZeroDeltaY(i)?d=!0:f.throwError("The event is not a 'wheel' event."),d||this._wheelAndUpDownActions(i,n,h,(this||t).settings.wheelStep),(this||t).isWheelEvent=!1}},{key:"_onDrop",value:function(i){if(!(this||t).formulaMode){(this||t).isDropEvent=!0,i.preventDefault();var n=i.dataTransfer.getData("text/plain"),h=this.unformatOther(n),d=(this||t).rawValue;this.set(h),(this||t).isDropEvent=!1;var w=(this||t).constructor._toNumericValue(h,(this||t).settings);isNaN(Number(w))||f.trimPaddedZerosFromDecimalPlaces(d)!==f.trimPaddedZerosFromDecimalPlaces(w)&&this._triggerEvent(e.events.native.change,(this||t).domElement)}}},{key:"_onFormSubmit",value:function(){var i=this||t;return this._getFormAutoNumericChildren((this||t).parentForm).map((function(t){return i.constructor.getAutoNumericElement(t)})).forEach((function(t){return t._unformatOnSubmit()})),!0}},{key:"_onFormReset",value:function(){var i=this||t;this._getFormAutoNumericChildren((this||t).parentForm).map((function(t){return i.constructor.getAutoNumericElement(t)})).forEach((function(t){var n=i._getDefaultValue(t.node());setTimeout((function(){return t.set(n)}),0)}))}},{key:"_unformatOnSubmit",value:function(){(this||t).settings.unformatOnSubmit&&this._setElementValue((this||t).rawValue)}},{key:"_onKeydownGlobal",value:function(i){if(f.character(i)===d.keyName.Alt){var n=f.getHoveredElement();if(e.isManagedByAutoNumeric(n)){var h=e.getAutoNumericElement(n);!h.formulaMode&&h.settings.unformatOnHover&&(this||t).constructor._unformatAltHovered(h)}}}},{key:"_onKeyupGlobal",value:function(i){if(f.character(i)===d.keyName.Alt){var n=f.getHoveredElement();if(e.isManagedByAutoNumeric(n)){var h=e.getAutoNumericElement(n);if(h.formulaMode||!h.settings.unformatOnHover)return;(this||t).constructor._reformatAltHovered(h)}}}},{key:"_isElementTagSupported",value:function(){return f.isElement((this||t).domElement)||f.throwError("The DOM element is not valid, ".concat((this||t).domElement," given.")),f.isInArray((this||t).domElement.tagName.toLowerCase(),(this||t).allowedTagList)}},{key:"_isInputElement",value:function(){return"input"===(this||t).domElement.tagName.toLowerCase()}},{key:"_isInputTypeSupported",value:function(){return"text"===(this||t).domElement.type||"hidden"===(this||t).domElement.type||"tel"===(this||t).domElement.type||f.isUndefinedOrNullOrEmpty((this||t).domElement.type)}},{key:"_checkElement",value:function(){var i=(this||t).domElement.tagName.toLowerCase();this._isElementTagSupported()||f.throwError("The <".concat(i,"> tag is not supported by autoNumeric")),this._isInputElement()?(this._isInputTypeSupported()||f.throwError('The input type "'.concat((this||t).domElement.type,'" is not supported by autoNumeric')),(this||t).isInputElement=!0):((this||t).isInputElement=!1,(this||t).isContentEditable=this._isContentEditable((this||t).domElement))}},{key:"_isContentEditable",value:function(t){return t.hasAttribute("contenteditable")&&"true"===t.getAttribute("contenteditable")}},{key:"_formatDefaultValueOnPageLoad",value:function(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,h=!0;if(f.isNull(n)?(i=f.getElementValue((this||t).domElement).trim(),(this||t).domElement.setAttribute("value",i)):i=n,(this||t).isInputElement||(this||t).isContentEditable){var d=(this||t).constructor._toNumericValue(i,(this||t).settings);if((this||t).domElement.hasAttribute("value")&&""!==(this||t).domElement.getAttribute("value")){if(null!==(this||t).settings.defaultValueOverride&&(this||t).settings.defaultValueOverride.toString()!==i||null===(this||t).settings.defaultValueOverride&&""!==i&&i!==(this||t).domElement.getAttribute("value")||""!==i&&"hidden"===(this||t).domElement.getAttribute("type")&&!f.isNumber(d)){if((this||t).settings.saveValueToSessionStorage&&(null!==(this||t).settings.decimalPlacesShownOnFocus||(this||t).settings.divisorWhenUnfocused)&&this._setRawValue(this._getValueFromPersistentStorage()),!(this||t).settings.saveValueToSessionStorage){var w=(this||t).constructor._removeBrackets(i,(this||t).settings);((this||t).settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.suffix||(this||t).settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.prefix&&(this||t).settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix)&&""!==(this||t).settings.negativeSignCharacter&&f.isNegative(i,(this||t).settings.negativeSignCharacter)?this._setRawValue("-".concat((this||t).constructor._stripAllNonNumberCharacters(w,(this||t).settings,!0,(this||t).isFocused))):this._setRawValue((this||t).constructor._stripAllNonNumberCharacters(w,(this||t).settings,!0,(this||t).isFocused))}h=!1}}else isNaN(Number(d))||Infinity===d?f.throwError("The value [".concat(i,"] used in the input is not a valid value autoNumeric can work with.")):(this.set(d),h=!1);if(""===i)switch((this||t).settings.emptyInputBehavior){case e.options.emptyInputBehavior.focus:case e.options.emptyInputBehavior.press:break;case e.options.emptyInputBehavior.always:this._setElementValue((this||t).settings.currencySymbol);break;case e.options.emptyInputBehavior.min:this.set((this||t).settings.minimumValue);break;case e.options.emptyInputBehavior.max:this.set((this||t).settings.maximumValue);break;case e.options.emptyInputBehavior.zero:this.set("0");break;case e.options.emptyInputBehavior.null:this.set(null);break;default:this.set((this||t).settings.emptyInputBehavior)}else h&&i===(this||t).domElement.getAttribute("value")&&this.set(i)}else null!==(this||t).settings.defaultValueOverride&&(this||t).settings.defaultValueOverride!==i||this.set(i)}},{key:"_calculateVMinAndVMaxIntegerSizes",value:function(){var i=F((this||t).settings.maximumValue.toString().split("."),1)[0],n=F((this||t).settings.minimumValue||0===(this||t).settings.minimumValue?(this||t).settings.minimumValue.toString().split("."):[],1)[0];i=i.replace((this||t).settings.negativeSignCharacter,""),n=n.replace((this||t).settings.negativeSignCharacter,""),(this||t).settings.mIntPos=Math.max(i.length,1),(this||t).settings.mIntNeg=Math.max(n.length,1)}},{key:"_calculateValuesToStringsKeys",value:function(){(this||t).settings.valuesToStrings?(this||t).valuesToStringsKeys=Object.keys((this||t).settings.valuesToStrings):(this||t).valuesToStringsKeys=[]}},{key:"_transformOptionsValuesToDefaultTypes",value:function(){for(var i in(this||t).settings)if(Object.prototype.hasOwnProperty.call((this||t).settings,i)){var n=(this||t).settings[i];"true"!==n&&"false"!==n||((this||t).settings[i]="true"===n),"number"==typeof n&&((this||t).settings[i]=n.toString())}}},{key:"_setSettings",value:function(i){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!n&&f.isNull(i)||(this||t).constructor._convertOldOptionsToNewOnes(i),n?("decimalPlacesRawValue"in i&&((this||t).settings.originalDecimalPlacesRawValue=i.decimalPlacesRawValue),"decimalPlaces"in i&&((this||t).settings.originalDecimalPlaces=i.decimalPlaces),(this||t).constructor._calculateDecimalPlacesOnUpdate(i,(this||t).settings),this._mergeSettings(i)):((this||t).settings={},this._mergeSettings((this||t).constructor.getDefaultConfig(),(this||t).domElement.dataset,i,{rawValue:(this||t).defaultRawValue}),(this||t).caretFix=!1,(this||t).throwInput=!0,(this||t).allowedTagList=d.allowedTagList,(this||t).runOnce=!1,(this||t).hoveredWithAlt=!1),this._transformOptionsValuesToDefaultTypes(),this._runCallbacksFoundInTheSettingsObject(),(this||t).constructor._correctNegativePositiveSignPlacementOption((this||t).settings),(this||t).constructor._correctCaretPositionOnFocusAndSelectOnFocusOptions((this||t).settings),(this||t).constructor._setNegativePositiveSignPermissions((this||t).settings),n||(f.isNull(i)||!i.decimalPlaces?(this||t).settings.originalDecimalPlaces=null:(this||t).settings.originalDecimalPlaces=i.decimalPlaces,(this||t).settings.originalDecimalPlacesRawValue=(this||t).settings.decimalPlacesRawValue,(this||t).constructor._calculateDecimalPlacesOnInit((this||t).settings)),this._calculateVMinAndVMaxIntegerSizes(),this._setTrailingNegativeSignInfo(),(this||t).regex={},(this||t).constructor._cachesUsualRegularExpressions((this||t).settings,(this||t).regex),(this||t).constructor._setBrackets((this||t).settings),this._calculateValuesToStringsKeys(),f.isEmptyObj((this||t).settings)&&f.throwError("Unable to set the settings, those are invalid ; an empty object was given."),(this||t).constructor.validate((this||t).settings,!1,i),this._keepAnOriginalSettingsCopy()}},{key:"_preparePastedText",value:function(i){return(this||t).constructor._stripAllNonNumberCharacters(i,(this||t).settings,!0,(this||t).isFocused)}},{key:"_updateInternalProperties",value:function(){(this||t).selection=f.getElementSelection((this||t).domElement),(this||t).processed=!1}},{key:"_updateEventKeyInfo",value:function(i){(this||t).eventKey=f.character(i)}},{key:"_saveCancellableValue",value:function(){(this||t).savedCancellableValue=(this||t).rawValue}},{key:"_setSelection",value:function(i,n){i=Math.max(i,0),n=Math.min(n,f.getElementValue((this||t).domElement).length),(this||t).selection={start:i,end:n,length:n-i},f.setElementSelection((this||t).domElement,i,n)}},{key:"_setCaretPosition",value:function(t){this._setSelection(t,t)}},{key:"_getLeftAndRightPartAroundTheSelection",value:function(){var i=f.getElementValue((this||t).domElement);return[i.substring(0,(this||t).selection.start),i.substring((this||t).selection.end,i.length)]}},{key:"_getUnformattedLeftAndRightPartAroundTheSelection",value:function(){var i=F(this._getLeftAndRightPartAroundTheSelection(),2),n=i[0],h=i[1];if(""===n&&""===h)return["",""];var w=!0;return(this||t).eventKey!==d.keyName.Hyphen&&(this||t).eventKey!==d.keyName.Minus||0!==Number(n)||(w=!1),(this||t).isTrailingNegative&&(f.isNegative(h,(this||t).settings.negativeSignCharacter)&&!f.isNegative(n,(this||t).settings.negativeSignCharacter)||""===h&&f.isNegative(n,(this||t).settings.negativeSignCharacter,!0))&&(n=n.replace((this||t).settings.negativeSignCharacter,""),h=h.replace((this||t).settings.negativeSignCharacter,""),n=n.replace("-",""),h=h.replace("-",""),n="-".concat(n)),[n=e._stripAllNonNumberCharactersExceptCustomDecimalChar(n,(this||t).settings,w,(this||t).isFocused),h=e._stripAllNonNumberCharactersExceptCustomDecimalChar(h,(this||t).settings,!1,(this||t).isFocused)]}},{key:"_normalizeParts",value:function(i,n){var h=!0;(this||t).eventKey!==d.keyName.Hyphen&&(this||t).eventKey!==d.keyName.Minus||0!==Number(i)||(h=!1),(this||t).isTrailingNegative&&f.isNegative(n,(this||t).settings.negativeSignCharacter)&&!f.isNegative(i,(this||t).settings.negativeSignCharacter)&&(i="-".concat(i),n=n.replace((this||t).settings.negativeSignCharacter,"")),i=e._stripAllNonNumberCharactersExceptCustomDecimalChar(i,(this||t).settings,h,(this||t).isFocused),n=e._stripAllNonNumberCharactersExceptCustomDecimalChar(n,(this||t).settings,!1,(this||t).isFocused),(this||t).settings.leadingZero!==e.options.leadingZero.deny||(this||t).eventKey!==d.keyName.num0&&(this||t).eventKey!==d.keyName.numpad0||0!==Number(i)||f.contains(i,(this||t).settings.decimalCharacter)||""===n||(i=i.substring(0,i.length-1));var w=i+n;if((this||t).settings.decimalCharacter){var N=w.match(new RegExp("^".concat((this||t).regex.aNegRegAutoStrip,"\\").concat((this||t).settings.decimalCharacter)));N&&(w=(i=i.replace(N[1],N[1]+"0"))+n)}return[i,n,w]}},{key:"_setValueParts",value:function(i,n){var h=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=F(this._normalizeParts(i,n),3),f=d[0],w=d[1],N=d[2],_=F(e._checkIfInRangeWithOverrideOption(N,(this||t).settings),2),I=_[0],M=_[1];if(I&&M){var R=e._truncateDecimalPlaces(N,(this||t).settings,h,(this||t).settings.decimalPlacesRawValue).replace((this||t).settings.decimalCharacter,".");if(""===R||R===(this||t).settings.negativeSignCharacter){var U;switch((this||t).settings.emptyInputBehavior){case e.options.emptyInputBehavior.focus:case e.options.emptyInputBehavior.press:case e.options.emptyInputBehavior.always:U="";break;case e.options.emptyInputBehavior.min:U=(this||t).settings.minimumValue;break;case e.options.emptyInputBehavior.max:U=(this||t).settings.maximumValue;break;case e.options.emptyInputBehavior.zero:U="0";break;case e.options.emptyInputBehavior.null:U=null;break;default:U=(this||t).settings.emptyInputBehavior}this._setRawValue(U)}else this._setRawValue(this._trimLeadingAndTrailingZeros(R));var j=e._truncateDecimalPlaces(N,(this||t).settings,h,(this||t).settings.decimalPlacesShownOnFocus),K=f.length;return K>j.length&&(K=j.length),1===K&&"0"===f&&(this||t).settings.leadingZero===e.options.leadingZero.deny&&(K=""===w||"0"===f&&""!==w?1:0),this._setElementValue(j,!1),this._setCaretPosition(K),!0}return this._triggerRangeEvents(I,M),!1}},{key:"_getSignPosition",value:function(){var i;if((this||t).settings.currencySymbol){var n=(this||t).settings.currencySymbol.length,h=f.getElementValue((this||t).domElement);if((this||t).settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix)i=(this||t).settings.negativeSignCharacter&&h&&h.charAt(0)===(this||t).settings.negativeSignCharacter?[1,n+1]:[0,n];else{var d=h.length;i=[d-n,d]}}else i=[1e3,-1];return i}},{key:"_expandSelectionOnSign",value:function(){var i=F(this._getSignPosition(),2),n=i[0],h=i[1],d=(this||t).selection;d.start<h&&d.end>n&&((d.start<n||d.end>h)&&f.getElementValue((this||t).domElement).substring(Math.max(d.start,n),Math.min(d.end,h)).match(/^\s*$/)?d.start<n?this._setSelection(d.start,n):this._setSelection(h,d.end):this._setSelection(Math.min(d.start,n),Math.max(d.end,h)))}},{key:"_checkPaste",value:function(){if(!(this||t).formatted&&!f.isUndefined((this||t).valuePartsBeforePaste)){var i=(this||t).valuePartsBeforePaste,n=F(this._getLeftAndRightPartAroundTheSelection(),2),h=n[0],d=n[1];delete(this||t).valuePartsBeforePaste;var w=h.substr(0,i[0].length)+e._stripAllNonNumberCharactersExceptCustomDecimalChar(h.substr(i[0].length),(this||t).settings,!0,(this||t).isFocused);this._setValueParts(w,d,!0)||(this._setElementValue(i.join(""),!1),this._setCaretPosition(i[0].length))}}},{key:"_processNonPrintableKeysAndShortcuts",value:function(i){if((i.ctrlKey||i.metaKey)&&"keyup"===i.type&&!f.isUndefined((this||t).valuePartsBeforePaste)||i.shiftKey&&(this||t).eventKey===d.keyName.Insert)return this._checkPaste(),!1;if((this||t).constructor._shouldSkipEventKey((this||t).eventKey))return!0;if((i.ctrlKey||i.metaKey)&&(this||t).eventKey===d.keyName.a)return(this||t).settings.selectNumberOnly&&(i.preventDefault(),this.selectNumber()),!0;if((i.ctrlKey||i.metaKey)&&((this||t).eventKey===d.keyName.c||(this||t).eventKey===d.keyName.v||(this||t).eventKey===d.keyName.x))return"keydown"===i.type&&this._expandSelectionOnSign(),(this||t).eventKey!==d.keyName.v&&(this||t).eventKey!==d.keyName.Insert||("keydown"===i.type||"keypress"===i.type?f.isUndefined((this||t).valuePartsBeforePaste)&&((this||t).valuePartsBeforePaste=this._getLeftAndRightPartAroundTheSelection()):this._checkPaste()),"keydown"===i.type||"keypress"===i.type||(this||t).eventKey===d.keyName.c;if(i.ctrlKey||i.metaKey)return!((this||t).eventKey===d.keyName.Z||(this||t).eventKey===d.keyName.z);if((this||t).eventKey===d.keyName.LeftArrow||(this||t).eventKey===d.keyName.RightArrow){if("keydown"===i.type&&!i.shiftKey){var n=f.getElementValue((this||t).domElement);(this||t).eventKey!==d.keyName.LeftArrow||n.charAt((this||t).selection.start-2)!==(this||t).settings.digitGroupSeparator&&n.charAt((this||t).selection.start-2)!==(this||t).settings.decimalCharacter?(this||t).eventKey!==d.keyName.RightArrow||n.charAt((this||t).selection.start+1)!==(this||t).settings.digitGroupSeparator&&n.charAt((this||t).selection.start+1)!==(this||t).settings.decimalCharacter||this._setCaretPosition((this||t).selection.start+1):this._setCaretPosition((this||t).selection.start-1)}return!0}return f.isInArray((this||t).eventKey,d.keyName._directionKeys)}},{key:"_processCharacterDeletionIfTrailingNegativeSign",value:function(i){var n=F(i,2),h=n[0],w=n[1],N=f.getElementValue((this||t).domElement),_=f.isNegative(N,(this||t).settings.negativeSignCharacter);if((this||t).settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&(this||t).settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.suffix&&((this||t).eventKey===d.keyName.Backspace?((this||t).caretFix=(this||t).selection.start>=N.indexOf((this||t).settings.suffixText)&&""!==(this||t).settings.suffixText,"-"===N.charAt((this||t).selection.start-1)?h=h.substring(1):(this||t).selection.start<=N.length-(this||t).settings.suffixText.length&&(h=h.substring(0,h.length-1))):((this||t).caretFix=(this||t).selection.start>=N.indexOf((this||t).settings.suffixText)&&""!==(this||t).settings.suffixText,(this||t).selection.start>=N.indexOf((this||t).settings.currencySymbol)+(this||t).settings.currencySymbol.length&&(w=w.substring(1,w.length)),f.isNegative(h,(this||t).settings.negativeSignCharacter)&&"-"===N.charAt((this||t).selection.start)&&(h=h.substring(1)))),(this||t).settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix)switch((this||t).settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.left:(this||t).caretFix=(this||t).selection.start>=N.indexOf((this||t).settings.negativeSignCharacter)+(this||t).settings.negativeSignCharacter.length,(this||t).eventKey===d.keyName.Backspace?(this||t).selection.start===N.indexOf((this||t).settings.negativeSignCharacter)+(this||t).settings.negativeSignCharacter.length&&_?h=h.substring(1):"-"!==h&&((this||t).selection.start<=N.indexOf((this||t).settings.negativeSignCharacter)||!_)&&(h=h.substring(0,h.length-1)):("-"===h[0]&&(w=w.substring(1)),(this||t).selection.start===N.indexOf((this||t).settings.negativeSignCharacter)&&_&&(h=h.substring(1)));break;case e.options.negativePositiveSignPlacement.right:(this||t).caretFix=(this||t).selection.start>=N.indexOf((this||t).settings.negativeSignCharacter)+(this||t).settings.negativeSignCharacter.length,(this||t).eventKey===d.keyName.Backspace?(this||t).selection.start===N.indexOf((this||t).settings.negativeSignCharacter)+(this||t).settings.negativeSignCharacter.length?h=h.substring(1):"-"!==h&&(this||t).selection.start<=N.indexOf((this||t).settings.negativeSignCharacter)-(this||t).settings.currencySymbol.length?h=h.substring(0,h.length-1):""===h||_||(h=h.substring(0,h.length-1)):((this||t).caretFix=(this||t).selection.start>=N.indexOf((this||t).settings.currencySymbol)&&""!==(this||t).settings.currencySymbol,(this||t).selection.start===N.indexOf((this||t).settings.negativeSignCharacter)&&(h=h.substring(1)),w=w.substring(1))}return[h,w]}},{key:"_processCharacterDeletion",value:function(i){var n,h;if((this||t).selection.length){this._expandSelectionOnSign();var w=F(this._getUnformattedLeftAndRightPartAroundTheSelection(),2);n=w[0],h=w[1]}else{var N=F(this._getUnformattedLeftAndRightPartAroundTheSelection(),2);if(n=N[0],h=N[1],""===n&&""===h&&((this||t).throwInput=!1),(this||t).isTrailingNegative&&f.isNegative(f.getElementValue((this||t).domElement),(this||t).settings.negativeSignCharacter)){var _=F(this._processCharacterDeletionIfTrailingNegativeSign([n,h]),2);n=_[0],h=_[1]}else(this||t).eventKey===d.keyName.Backspace?n=n.substring(0,n.length-1):h=h.substring(1,h.length)}return!!(this||t).constructor._isWithinRangeWithOverrideOption("".concat(n).concat(h),(this||t).settings)&&f.getElementValue(i.target)!==(this||t).settings.currencySymbol&&(this._setValueParts(n,h),!0)}},{key:"_isDecimalCharacterInsertionAllowed",value:function(){return String((this||t).settings.decimalPlacesShownOnFocus)!==String(e.options.decimalPlacesShownOnFocus.none)&&String((this||t).settings.decimalPlaces)!==String(e.options.decimalPlaces.none)}},{key:"_processCharacterInsertion",value:function(){var i=F(this._getUnformattedLeftAndRightPartAroundTheSelection(),2),n=i[0],h=i[1];if((this||t).eventKey!==d.keyName.AndroidDefault&&((this||t).throwInput=!0),(this||t).eventKey===(this||t).settings.decimalCharacter||(this||t).settings.decimalCharacterAlternative&&(this||t).eventKey===(this||t).settings.decimalCharacterAlternative){if(!this._isDecimalCharacterInsertionAllowed()||!(this||t).settings.decimalCharacter)return!1;if((this||t).settings.alwaysAllowDecimalCharacter)n=n.replace((this||t).settings.decimalCharacter,""),h=h.replace((this||t).settings.decimalCharacter,"");else{if(f.contains(n,(this||t).settings.decimalCharacter))return!0;if(h.indexOf((this||t).settings.decimalCharacter)>0)return!0;0===h.indexOf((this||t).settings.decimalCharacter)&&(h=h.substr(1))}return(this||t).settings.negativeSignCharacter&&f.contains(h,(this||t).settings.negativeSignCharacter)&&(n="".concat((this||t).settings.negativeSignCharacter).concat(n),h=h.replace((this||t).settings.negativeSignCharacter,"")),this._setValueParts(n+(this||t).settings.decimalCharacter,h),!0}if(("-"===(this||t).eventKey||"+"===(this||t).eventKey)&&(this||t).settings.isNegativeSignAllowed)return""===n&&f.contains(h,"-")?((this||t).settings.negativePositiveSignBehavior||!(this||t).settings.negativePositiveSignBehavior&&"+"===(this||t).eventKey)&&(h=h.replace("-","")):f.isNegativeStrict(n,"-")?((this||t).settings.negativePositiveSignBehavior||!(this||t).settings.negativePositiveSignBehavior&&"+"===(this||t).eventKey)&&(n=n.replace("-","")):((this||t).settings.negativePositiveSignBehavior||!(this||t).settings.negativePositiveSignBehavior&&"-"===(this||t).eventKey)&&(n="".concat((this||t).settings.negativeSignCharacter).concat(n)),this._setValueParts(n,h),!0;var w=Number((this||t).eventKey);return w>=0&&w<=9?((this||t).settings.isNegativeSignAllowed&&""===n&&f.contains(h,"-")&&(n="-",h=h.substring(1,h.length)),(this||t).settings.maximumValue<=0&&(this||t).settings.minimumValue<(this||t).settings.maximumValue&&!f.contains(f.getElementValue((this||t).domElement),(this||t).settings.negativeSignCharacter)&&"0"!==(this||t).eventKey&&(n="-".concat(n)),this._setValueParts("".concat(n).concat((this||t).eventKey),h),!0):((this||t).throwInput=!1,!1)}},{key:"_formatValue",value:function(i){var n=f.getElementValue((this||t).domElement),h=F(this._getUnformattedLeftAndRightPartAroundTheSelection(),1)[0];if((""===(this||t).settings.digitGroupSeparator||""!==(this||t).settings.digitGroupSeparator&&!f.contains(n,(this||t).settings.digitGroupSeparator))&&(""===(this||t).settings.currencySymbol||""!==(this||t).settings.currencySymbol&&!f.contains(n,(this||t).settings.currencySymbol))){var w=F(n.split((this||t).settings.decimalCharacter),1)[0],N="";f.isNegative(w,(this||t).settings.negativeSignCharacter)&&(N=(this||t).settings.negativeSignCharacter,w=w.replace((this||t).settings.negativeSignCharacter,""),h=h.replace("-","")),""===N&&w.length>(this||t).settings.mIntPos&&"0"===h.charAt(0)&&(h=h.slice(1)),N===(this||t).settings.negativeSignCharacter&&w.length>(this||t).settings.mIntNeg&&"0"===h.charAt(0)&&(h=h.slice(1)),(this||t).isTrailingNegative||(h="".concat(N).concat(h))}var _=(this||t).constructor._addGroupSeparators(n,(this||t).settings,(this||t).isFocused,(this||t).rawValue),I=_.length;if(_){var M,R=h.split("");if(((this||t).settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.suffix||(this||t).settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.prefix&&(this||t).settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix)&&R[0]===(this||t).settings.negativeSignCharacter&&!(this||t).settings.isNegativeSignAllowed&&(R.shift(),((this||t).eventKey===d.keyName.Backspace||(this||t).eventKey===d.keyName.Delete)&&(this||t).caretFix&&(((this||t).settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix&&(this||t).settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.left||(this||t).settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&(this||t).settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.suffix)&&(R.push((this||t).settings.negativeSignCharacter),(this||t).caretFix="keydown"===i.type),(this||t).settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix&&(this||t).settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.right))){var U=(this||t).settings.currencySymbol.split(""),j=["\\","^","$",".","|","?","*","+","(",")","["],K=[];U.forEach((function(t,i){i=U[t],f.isInArray(i,j)?K.push("\\"+i):K.push(i)})),(this||t).eventKey===d.keyName.Backspace&&"-"===(this||t).settings.negativeSignCharacter&&K.push("-"),R.push(K.join("")),(this||t).caretFix="keydown"===i.type}for(var z=0;z<R.length;z++)R[z].match("\\d")||(R[z]="\\"+R[z]);M=(this||t).settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix?new RegExp("^.*?".concat(R.join(".*?"))):new RegExp("^.*?[".concat((this||t).settings.currencySymbol,"]*").concat(R.join(".*?")));var W=_.match(M);W?(I=W[0].length,(this||t).settings.showPositiveSign&&(0===I&&W.input.charAt(0)===(this||t).settings.positiveSignCharacter&&(I=1===W.input.indexOf((this||t).settings.currencySymbol)?(this||t).settings.currencySymbol.length+1:1),0===I&&W.input.charAt((this||t).settings.currencySymbol.length)===(this||t).settings.positiveSignCharacter&&(I=(this||t).settings.currencySymbol.length+1)),(0===I&&_.charAt(0)!==(this||t).settings.negativeSignCharacter||1===I&&_.charAt(0)===(this||t).settings.negativeSignCharacter)&&(this||t).settings.currencySymbol&&(this||t).settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&(I=(this||t).settings.currencySymbol.length+(f.isNegativeStrict(_,(this||t).settings.negativeSignCharacter)?1:0))):((this||t).settings.currencySymbol&&(this||t).settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix&&(I-=(this||t).settings.currencySymbol.length),(this||t).settings.suffixText&&(I-=(this||t).settings.suffixText.length))}_!==n&&(this._setElementValue(_,!1),this._setCaretPosition(I)),(this||t).formatted=!0}}],h=[{key:"version",value:function(){return"4.10.5"}},{key:"_setArgumentsValues",value:function(t,i,n){f.isNull(t)&&f.throwError("At least one valid parameter is needed in order to initialize an AutoNumeric object");var h,d,w,N=f.isElement(t),_=f.isString(t),I=f.isObject(i),M=Array.isArray(i)&&i.length>0,R=f.isNumberOrArabic(i)||""===i,U=this._isPreDefinedOptionValid(i),j=f.isNull(i),K=f.isEmptyString(i),z=f.isObject(n),W=Array.isArray(n)&&n.length>0,G=f.isNull(n),H=this._isPreDefinedOptionValid(n);return N&&j&&G?(h=t,w=null,d=null):N&&R&&G?(h=t,w=i,d=null):N&&I&&G?(h=t,w=null,d=i):N&&U&&G?(h=t,w=null,d=this._getOptionObject(i)):N&&M&&G?(h=t,w=null,d=this.mergeOptions(i)):N&&(j||K)&&z?(h=t,w=null,d=n):N&&(j||K)&&W?(h=t,w=null,d=this.mergeOptions(n)):_&&j&&G?(h=document.querySelector(t),w=null,d=null):_&&I&&G?(h=document.querySelector(t),w=null,d=i):_&&U&&G?(h=document.querySelector(t),w=null,d=this._getOptionObject(i)):_&&M&&G?(h=document.querySelector(t),w=null,d=this.mergeOptions(i)):_&&(j||K)&&z?(h=document.querySelector(t),w=null,d=n):_&&(j||K)&&W?(h=document.querySelector(t),w=null,d=this.mergeOptions(n)):_&&R&&G?(h=document.querySelector(t),w=i,d=null):_&&R&&z?(h=document.querySelector(t),w=i,d=n):_&&R&&H?(h=document.querySelector(t),w=i,d=this._getOptionObject(n)):_&&R&&W?(h=document.querySelector(t),w=i,d=this.mergeOptions(n)):N&&R&&z?(h=t,w=i,d=n):N&&R&&H?(h=t,w=i,d=this._getOptionObject(n)):N&&R&&W?(h=t,w=i,d=this.mergeOptions(n)):f.throwError("The parameters given to the AutoNumeric object are not valid, '".concat(t,"', '").concat(i,"' and '").concat(n,"' given.")),f.isNull(h)&&f.throwError("The selector '".concat(t,"' did not select any valid DOM element. Please check on which element you called AutoNumeric.")),{domElement:h,initialValue:w,userOptions:d}}},{key:"mergeOptions",value:function(i){var n=this||t,h={};return i.forEach((function(t){T(h,n._getOptionObject(t))})),h}},{key:"_isPreDefinedOptionValid",value:function(t){return Object.prototype.hasOwnProperty.call(e.predefinedOptions,t)}},{key:"_getOptionObject",value:function(t){var i;return f.isString(t)?null==(i=e.getPredefinedOptions()[t])&&f.warning("The given pre-defined option [".concat(t,"] is not recognized by autoNumeric. Please check that pre-defined option name."),!0):i=t,i}},{key:"_doesFormHandlerListExists",value:function(){var t=A(window.aNFormHandlerMap);return"undefined"!==t&&"object"===t}},{key:"_createFormHandlerList",value:function(){window.aNFormHandlerMap=new Map}},{key:"_checkValuesToStringsArray",value:function(t,i){return f.isInArray(String(t),i)}},{key:"_checkValuesToStringsSettings",value:function(t,i){return this._checkValuesToStringsArray(t,Object.keys(i.valuesToStrings))}},{key:"_checkStringsToValuesSettings",value:function(t,i){return this._checkValuesToStringsArray(t,Object.values(i.valuesToStrings))}},{key:"_unformatAltHovered",value:function(t){t.hoveredWithAlt=!0,t.unformat()}},{key:"_reformatAltHovered",value:function(t){t.hoveredWithAlt=!1,t.reformat()}},{key:"_getChildANInputElement",value:function(i){var n=this||t,h=i.getElementsByTagName("input"),d=[];return Array.prototype.slice.call(h,0).forEach((function(t){n.test(t)&&d.push(t)})),d}},{key:"test",value:function(t){return this._isInGlobalList(f.domElement(t))}},{key:"_createWeakMap",value:function(t){window[t]=new WeakMap}},{key:"_createGlobalList",value:function(){(this||t).autoNumericGlobalListName="autoNumericGlobalList",this._createWeakMap((this||t).autoNumericGlobalListName)}},{key:"_doesGlobalListExists",value:function(){var i=A(window[(this||t).autoNumericGlobalListName]);return"undefined"!==i&&"object"===i}},{key:"_addToGlobalList",value:function(i){this._doesGlobalListExists()||this._createGlobalList();var n=i.node();if(this._isInGlobalList(n)){if(this._getFromGlobalList(n)===(this||t))return;f.warning("A reference to the DOM element you just initialized already exists in the global AutoNumeric element list. Please make sure to not initialize the same DOM element multiple times.",i.getSettings().showWarnings)}window[(this||t).autoNumericGlobalListName].set(n,i)}},{key:"_removeFromGlobalList",value:function(i){this._doesGlobalListExists()&&window[(this||t).autoNumericGlobalListName].delete(i.node())}},{key:"_getFromGlobalList",value:function(i){return this._doesGlobalListExists()?window[(this||t).autoNumericGlobalListName].get(i):null}},{key:"_isInGlobalList",value:function(i){return!!this._doesGlobalListExists()&&window[(this||t).autoNumericGlobalListName].has(i)}},{key:"validate",value:function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!f.isUndefinedOrNullOrEmpty(t)&&f.isObject(t)||f.throwError("The userOptions are invalid ; it should be a valid object, [".concat(t,"] given."));var h,d=f.isObject(n);d||f.isNull(n)||f.throwError("The 'originalOptions' parameter is invalid ; it should either be a valid option object or `null`, [".concat(t,"] given.")),f.isNull(t)||this._convertOldOptionsToNewOnes(t),h=i?T({},this.getDefaultConfig(),t):t,f.isTrueOrFalseString(h.showWarnings)||f.isBoolean(h.showWarnings)||f.throwError("The debug option 'showWarnings' is invalid ; it should be either 'true' or 'false', [".concat(h.showWarnings,"] given."));var w,N=/^[0-9]+$/,_=/[0-9]+/,I=/^-?[0-9]+(\.?[0-9]+)?$/,M=/^[0-9]+(\.?[0-9]+)?$/;f.isTrueOrFalseString(h.allowDecimalPadding)||f.isBoolean(h.allowDecimalPadding)||h.allowDecimalPadding===e.options.allowDecimalPadding.floats||f.isNumber(h.allowDecimalPadding)&&h.allowDecimalPadding>0||f.throwError("The decimal padding option 'allowDecimalPadding' is invalid ; it should either be `false`, `true`, `'floats'` or a positive integer superior to 0, [".concat(h.allowDecimalPadding,"] given.")),f.isNumber(h.allowDecimalPadding)&&h.allowDecimalPadding>h.decimalPlaces&&f.warning("Setting 'allowDecimalPadding' to a number [".concat(h.allowDecimalPadding,"] superior to the current 'decimalPlaces' settings [").concat(h.decimalPlaces,"] is useless, since the padding will not be shown."),h.showWarnings),h.allowDecimalPadding!==e.options.allowDecimalPadding.never&&"false"!==h.allowDecimalPadding||h.decimalPlaces===e.options.decimalPlaces.none&&h.decimalPlacesShownOnBlur===e.options.decimalPlacesShownOnBlur.none&&h.decimalPlacesShownOnFocus===e.options.decimalPlacesShownOnFocus.none||f.warning("Setting 'allowDecimalPadding' to [".concat(h.allowDecimalPadding,"] will override the current 'decimalPlaces*' settings [").concat(h.decimalPlaces,", ").concat(h.decimalPlacesShownOnBlur," and ").concat(h.decimalPlacesShownOnFocus,"]."),h.showWarnings),f.isTrueOrFalseString(h.alwaysAllowDecimalCharacter)||f.isBoolean(h.alwaysAllowDecimalCharacter)||f.throwError("The option 'alwaysAllowDecimalCharacter' is invalid ; it should either be `true` or `false`, [".concat(h.alwaysAllowDecimalCharacter,"] given.")),f.isNull(h.caretPositionOnFocus)||f.isInArray(h.caretPositionOnFocus,[e.options.caretPositionOnFocus.start,e.options.caretPositionOnFocus.end,e.options.caretPositionOnFocus.decimalLeft,e.options.caretPositionOnFocus.decimalRight])||f.throwError("The display on empty string option 'caretPositionOnFocus' is invalid ; it should either be `null`, 'focus', 'press', 'always' or 'zero', [".concat(h.caretPositionOnFocus,"] given.")),w=d?n:this._correctCaretPositionOnFocusAndSelectOnFocusOptions(t),f.isNull(w)||w.caretPositionOnFocus===e.options.caretPositionOnFocus.doNoForceCaretPosition||w.selectOnFocus!==e.options.selectOnFocus.select||f.warning("The 'selectOnFocus' option is set to 'select', which is in conflict with the 'caretPositionOnFocus' which is set to '".concat(w.caretPositionOnFocus,"'. As a result, if this has been called when instantiating an AutoNumeric object, the 'selectOnFocus' option is forced to 'doNotSelect'."),h.showWarnings),f.isInArray(h.digitGroupSeparator,[e.options.digitGroupSeparator.comma,e.options.digitGroupSeparator.dot,e.options.digitGroupSeparator.normalSpace,e.options.digitGroupSeparator.thinSpace,e.options.digitGroupSeparator.narrowNoBreakSpace,e.options.digitGroupSeparator.noBreakSpace,e.options.digitGroupSeparator.noSeparator,e.options.digitGroupSeparator.apostrophe,e.options.digitGroupSeparator.arabicThousandsSeparator,e.options.digitGroupSeparator.dotAbove,e.options.digitGroupSeparator.privateUseTwo])||f.throwError("The thousand separator character option 'digitGroupSeparator' is invalid ; it should be ',', '.', '٬', '˙', \"'\", '', ' ', ' ', ' ', ' ' or empty (''), [".concat(h.digitGroupSeparator,"] given.")),f.isTrueOrFalseString(h.showOnlyNumbersOnFocus)||f.isBoolean(h.showOnlyNumbersOnFocus)||f.throwError("The 'showOnlyNumbersOnFocus' option is invalid ; it should be either 'true' or 'false', [".concat(h.showOnlyNumbersOnFocus,"] given.")),f.isInArray(h.digitalGroupSpacing,[e.options.digitalGroupSpacing.two,e.options.digitalGroupSpacing.twoThree,e.options.digitalGroupSpacing.twoScaled,e.options.digitalGroupSpacing.three,e.options.digitalGroupSpacing.four])||h.digitalGroupSpacing>=2&&h.digitalGroupSpacing<=4||f.throwError("The grouping separator option for thousands 'digitalGroupSpacing' is invalid ; it should be '2', '2t', '2s', '3', or '4', [".concat(h.digitalGroupSpacing,"] given.")),f.isInArray(h.decimalCharacter,[e.options.decimalCharacter.comma,e.options.decimalCharacter.dot,e.options.decimalCharacter.middleDot,e.options.decimalCharacter.arabicDecimalSeparator,e.options.decimalCharacter.decimalSeparatorKeySymbol])||f.throwError("The decimal separator character option 'decimalCharacter' is invalid ; it should be '.', ',', '·', '⎖' or '٫', [".concat(h.decimalCharacter,"] given.")),h.decimalCharacter===h.digitGroupSeparator&&f.throwError("autoNumeric will not function properly when the decimal character 'decimalCharacter' [".concat(h.decimalCharacter,"] and the thousand separator 'digitGroupSeparator' [").concat(h.digitGroupSeparator,"] are the same character.")),f.isNull(h.decimalCharacterAlternative)||f.isString(h.decimalCharacterAlternative)||f.throwError("The alternate decimal separator character option 'decimalCharacterAlternative' is invalid ; it should be a string, [".concat(h.decimalCharacterAlternative,"] given.")),""===h.currencySymbol||f.isString(h.currencySymbol)||f.throwError("The currency symbol option 'currencySymbol' is invalid ; it should be a string, [".concat(h.currencySymbol,"] given.")),f.isInArray(h.currencySymbolPlacement,[e.options.currencySymbolPlacement.prefix,e.options.currencySymbolPlacement.suffix])||f.throwError("The placement of the currency sign option 'currencySymbolPlacement' is invalid ; it should either be 'p' (prefix) or 's' (suffix), [".concat(h.currencySymbolPlacement,"] given.")),f.isInArray(h.negativePositiveSignPlacement,[e.options.negativePositiveSignPlacement.prefix,e.options.negativePositiveSignPlacement.suffix,e.options.negativePositiveSignPlacement.left,e.options.negativePositiveSignPlacement.right,e.options.negativePositiveSignPlacement.none])||f.throwError("The placement of the negative sign option 'negativePositiveSignPlacement' is invalid ; it should either be 'p' (prefix), 's' (suffix), 'l' (left), 'r' (right) or 'null', [".concat(h.negativePositiveSignPlacement,"] given.")),f.isTrueOrFalseString(h.showPositiveSign)||f.isBoolean(h.showPositiveSign)||f.throwError("The show positive sign option 'showPositiveSign' is invalid ; it should be either 'true' or 'false', [".concat(h.showPositiveSign,"] given.")),(!f.isString(h.suffixText)||""!==h.suffixText&&(f.isNegative(h.suffixText,h.negativeSignCharacter)||_.test(h.suffixText)))&&f.throwError("The additional suffix option 'suffixText' is invalid ; it should not contains the negative sign '".concat(h.negativeSignCharacter,"' nor any numerical characters, [").concat(h.suffixText,"] given.")),(!f.isString(h.negativeSignCharacter)||1!==h.negativeSignCharacter.length||f.isUndefinedOrNullOrEmpty(h.negativeSignCharacter)||_.test(h.negativeSignCharacter))&&f.throwError("The negative sign character option 'negativeSignCharacter' is invalid ; it should be a single character, and cannot be any numerical characters, [".concat(h.negativeSignCharacter,"] given.")),(!f.isString(h.positiveSignCharacter)||1!==h.positiveSignCharacter.length||f.isUndefinedOrNullOrEmpty(h.positiveSignCharacter)||_.test(h.positiveSignCharacter))&&f.throwError("The positive sign character option 'positiveSignCharacter' is invalid ; it should be a single character, and cannot be any numerical characters, [".concat(h.positiveSignCharacter,"] given.\nIf you want to show the positive sign character, you need to set the `showPositiveSign` option to `true`.")),h.negativeSignCharacter===h.positiveSignCharacter&&f.throwError("The positive 'positiveSignCharacter' and negative 'negativeSignCharacter' sign characters cannot be identical ; [".concat(h.negativeSignCharacter,"] given.")),f.isTrueOrFalseString(h.negativePositiveSignBehavior)||f.isBoolean(h.negativePositiveSignBehavior)||f.throwError("The option 'negativePositiveSignBehavior' is invalid ; it should be either 'true' or 'false', [".concat(h.negativePositiveSignBehavior,"] given."));var R=F(f.isNull(h.negativeBracketsTypeOnBlur)?["",""]:h.negativeBracketsTypeOnBlur.split(","),2),U=R[0],j=R[1];(f.contains(h.digitGroupSeparator,h.negativeSignCharacter)||f.contains(h.decimalCharacter,h.negativeSignCharacter)||f.contains(h.decimalCharacterAlternative,h.negativeSignCharacter)||f.contains(U,h.negativeSignCharacter)||f.contains(j,h.negativeSignCharacter)||f.contains(h.suffixText,h.negativeSignCharacter))&&f.throwError("The negative sign character option 'negativeSignCharacter' is invalid ; it should not be equal or a part of the digit separator, the decimal character, the decimal character alternative, the negative brackets or the suffix text, [".concat(h.negativeSignCharacter,"] given.")),(f.contains(h.digitGroupSeparator,h.positiveSignCharacter)||f.contains(h.decimalCharacter,h.positiveSignCharacter)||f.contains(h.decimalCharacterAlternative,h.positiveSignCharacter)||f.contains(U,h.positiveSignCharacter)||f.contains(j,h.positiveSignCharacter)||f.contains(h.suffixText,h.positiveSignCharacter))&&f.throwError("The positive sign character option 'positiveSignCharacter' is invalid ; it should not be equal or a part of the digit separator, the decimal character, the decimal character alternative, the negative brackets or the suffix text, [".concat(h.positiveSignCharacter,"] given.")),f.isNull(h.overrideMinMaxLimits)||f.isInArray(h.overrideMinMaxLimits,[e.options.overrideMinMaxLimits.ceiling,e.options.overrideMinMaxLimits.floor,e.options.overrideMinMaxLimits.ignore,e.options.overrideMinMaxLimits.invalid])||f.throwError("The override min & max limits option 'overrideMinMaxLimits' is invalid ; it should either be 'ceiling', 'floor', 'ignore' or 'invalid', [".concat(h.overrideMinMaxLimits,"] given.")),h.overrideMinMaxLimits!==e.options.overrideMinMaxLimits.invalid&&h.overrideMinMaxLimits!==e.options.overrideMinMaxLimits.ignore&&(h.minimumValue>0||h.maximumValue<0)&&f.warning("You've set a `minimumValue` or a `maximumValue` excluding the value `0`. AutoNumeric will force the users to always have a valid value in the input, hence preventing them to clear the field. If you want to allow for temporary invalid values (i.e. out-of-range), you should use the 'invalid' option for the 'overrideMinMaxLimits' setting."),f.isString(h.maximumValue)&&I.test(h.maximumValue)||f.throwError("The maximum possible value option 'maximumValue' is invalid ; it should be a string that represents a positive or negative number, [".concat(h.maximumValue,"] given.")),f.isString(h.minimumValue)&&I.test(h.minimumValue)||f.throwError("The minimum possible value option 'minimumValue' is invalid ; it should be a string that represents a positive or negative number, [".concat(h.minimumValue,"] given.")),parseFloat(h.minimumValue)>parseFloat(h.maximumValue)&&f.throwError("The minimum possible value option is greater than the maximum possible value option ; 'minimumValue' [".concat(h.minimumValue,"] should be smaller than 'maximumValue' [").concat(h.maximumValue,"].")),f.isInt(h.decimalPlaces)&&h.decimalPlaces>=0||f.isString(h.decimalPlaces)&&N.test(h.decimalPlaces)||f.throwError("The number of decimal places option 'decimalPlaces' is invalid ; it should be a positive integer, [".concat(h.decimalPlaces,"] given.")),f.isNull(h.decimalPlacesRawValue)||f.isInt(h.decimalPlacesRawValue)&&h.decimalPlacesRawValue>=0||f.isString(h.decimalPlacesRawValue)&&N.test(h.decimalPlacesRawValue)||f.throwError("The number of decimal places for the raw value option 'decimalPlacesRawValue' is invalid ; it should be a positive integer or `null`, [".concat(h.decimalPlacesRawValue,"] given.")),this._validateDecimalPlacesRawValue(h),f.isNull(h.decimalPlacesShownOnFocus)||N.test(String(h.decimalPlacesShownOnFocus))||f.throwError("The number of expanded decimal places option 'decimalPlacesShownOnFocus' is invalid ; it should be a positive integer or `null`, [".concat(h.decimalPlacesShownOnFocus,"] given.")),!f.isNull(h.decimalPlacesShownOnFocus)&&Number(h.decimalPlaces)>Number(h.decimalPlacesShownOnFocus)&&f.warning("The extended decimal places 'decimalPlacesShownOnFocus' [".concat(h.decimalPlacesShownOnFocus,"] should be greater than the 'decimalPlaces' [").concat(h.decimalPlaces,"] value. Currently, this will limit the ability of your user to manually change some of the decimal places. Do you really want to do that?"),h.showWarnings),(f.isNull(h.divisorWhenUnfocused)||M.test(h.divisorWhenUnfocused))&&0!==h.divisorWhenUnfocused&&"0"!==h.divisorWhenUnfocused&&1!==h.divisorWhenUnfocused&&"1"!==h.divisorWhenUnfocused||f.throwError("The divisor option 'divisorWhenUnfocused' is invalid ; it should be a positive number higher than one, preferably an integer, [".concat(h.divisorWhenUnfocused,"] given.")),f.isNull(h.decimalPlacesShownOnBlur)||N.test(h.decimalPlacesShownOnBlur)||f.throwError("The number of decimals shown when unfocused option 'decimalPlacesShownOnBlur' is invalid ; it should be a positive integer or `null`, [".concat(h.decimalPlacesShownOnBlur,"] given.")),f.isNull(h.symbolWhenUnfocused)||f.isString(h.symbolWhenUnfocused)||f.throwError("The symbol to show when unfocused option 'symbolWhenUnfocused' is invalid ; it should be a string, [".concat(h.symbolWhenUnfocused,"] given.")),f.isTrueOrFalseString(h.saveValueToSessionStorage)||f.isBoolean(h.saveValueToSessionStorage)||f.throwError("The save to session storage option 'saveValueToSessionStorage' is invalid ; it should be either 'true' or 'false', [".concat(h.saveValueToSessionStorage,"] given.")),f.isInArray(h.onInvalidPaste,[e.options.onInvalidPaste.error,e.options.onInvalidPaste.ignore,e.options.onInvalidPaste.clamp,e.options.onInvalidPaste.truncate,e.options.onInvalidPaste.replace])||f.throwError("The paste behavior option 'onInvalidPaste' is invalid ; it should either be 'error', 'ignore', 'clamp', 'truncate' or 'replace' (cf. documentation), [".concat(h.onInvalidPaste,"] given.")),f.isInArray(h.roundingMethod,[e.options.roundingMethod.halfUpSymmetric,e.options.roundingMethod.halfUpAsymmetric,e.options.roundingMethod.halfDownSymmetric,e.options.roundingMethod.halfDownAsymmetric,e.options.roundingMethod.halfEvenBankersRounding,e.options.roundingMethod.upRoundAwayFromZero,e.options.roundingMethod.downRoundTowardZero,e.options.roundingMethod.toCeilingTowardPositiveInfinity,e.options.roundingMethod.toFloorTowardNegativeInfinity,e.options.roundingMethod.toNearest05,e.options.roundingMethod.toNearest05Alt,e.options.roundingMethod.upToNext05,e.options.roundingMethod.downToNext05])||f.throwError("The rounding method option 'roundingMethod' is invalid ; it should either be 'S', 'A', 's', 'a', 'B', 'U', 'D', 'C', 'F', 'N05', 'CHF', 'U05' or 'D05' (cf. documentation), [".concat(h.roundingMethod,"] given.")),f.isNull(h.negativeBracketsTypeOnBlur)||f.isInArray(h.negativeBracketsTypeOnBlur,[e.options.negativeBracketsTypeOnBlur.parentheses,e.options.negativeBracketsTypeOnBlur.brackets,e.options.negativeBracketsTypeOnBlur.chevrons,e.options.negativeBracketsTypeOnBlur.curlyBraces,e.options.negativeBracketsTypeOnBlur.angleBrackets,e.options.negativeBracketsTypeOnBlur.japaneseQuotationMarks,e.options.negativeBracketsTypeOnBlur.halfBrackets,e.options.negativeBracketsTypeOnBlur.whiteSquareBrackets,e.options.negativeBracketsTypeOnBlur.quotationMarks,e.options.negativeBracketsTypeOnBlur.guillemets])||f.throwError("The brackets for negative values option 'negativeBracketsTypeOnBlur' is invalid ; it should either be '(,)', '[,]', '<,>', '{,}', '〈,〉', '｢,｣', '⸤,⸥', '⟦,⟧', '‹,›' or '«,»', [".concat(h.negativeBracketsTypeOnBlur,"] given.")),(f.isString(h.emptyInputBehavior)||f.isNumber(h.emptyInputBehavior))&&(f.isInArray(h.emptyInputBehavior,[e.options.emptyInputBehavior.focus,e.options.emptyInputBehavior.press,e.options.emptyInputBehavior.always,e.options.emptyInputBehavior.min,e.options.emptyInputBehavior.max,e.options.emptyInputBehavior.zero,e.options.emptyInputBehavior.null])||I.test(h.emptyInputBehavior))||f.throwError("The display on empty string option 'emptyInputBehavior' is invalid ; it should either be 'focus', 'press', 'always', 'min', 'max', 'zero', 'null', a number, or a string that represents a number, [".concat(h.emptyInputBehavior,"] given.")),h.emptyInputBehavior===e.options.emptyInputBehavior.zero&&(h.minimumValue>0||h.maximumValue<0)&&f.throwError("The 'emptyInputBehavior' option is set to 'zero', but this value is outside of the range defined by 'minimumValue' and 'maximumValue' [".concat(h.minimumValue,", ").concat(h.maximumValue,"].")),I.test(String(h.emptyInputBehavior))&&(this._isWithinRangeWithOverrideOption(h.emptyInputBehavior,h)||f.throwError("The 'emptyInputBehavior' option is set to a number or a string that represents a number, but its value [".concat(h.emptyInputBehavior,"] is outside of the range defined by the 'minimumValue' and 'maximumValue' options [").concat(h.minimumValue,", ").concat(h.maximumValue,"]."))),f.isTrueOrFalseString(h.eventBubbles)||f.isBoolean(h.eventBubbles)||f.throwError("The event bubbles option 'eventBubbles' is invalid ; it should be either 'true' or 'false', [".concat(h.eventBubbles,"] given.")),f.isTrueOrFalseString(h.eventIsCancelable)||f.isBoolean(h.eventIsCancelable)||f.throwError("The event is cancelable option 'eventIsCancelable' is invalid ; it should be either 'true' or 'false', [".concat(h.eventIsCancelable,"] given.")),!f.isBoolean(h.invalidClass)&&/^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$/.test(h.invalidClass)||f.throwError("The name of the 'invalidClass' option is not a valid CSS class name ; it should not be empty, and should follow the '^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$' regex, [".concat(h.invalidClass,"] given.")),f.isInArray(h.leadingZero,[e.options.leadingZero.allow,e.options.leadingZero.deny,e.options.leadingZero.keep])||f.throwError("The leading zero behavior option 'leadingZero' is invalid ; it should either be 'allow', 'deny' or 'keep', [".concat(h.leadingZero,"] given.")),f.isTrueOrFalseString(h.formatOnPageLoad)||f.isBoolean(h.formatOnPageLoad)||f.throwError("The format on initialization option 'formatOnPageLoad' is invalid ; it should be either 'true' or 'false', [".concat(h.formatOnPageLoad,"] given.")),f.isTrueOrFalseString(h.formulaMode)||f.isBoolean(h.formulaMode)||f.throwError("The formula mode option 'formulaMode' is invalid ; it should be either 'true' or 'false', [".concat(h.formulaMode,"] given.")),N.test(h.historySize)&&0!==h.historySize||f.throwError("The history size option 'historySize' is invalid ; it should be a positive integer, [".concat(h.historySize,"] given.")),f.isTrueOrFalseString(h.selectNumberOnly)||f.isBoolean(h.selectNumberOnly)||f.throwError("The select number only option 'selectNumberOnly' is invalid ; it should be either 'true' or 'false', [".concat(h.selectNumberOnly,"] given.")),f.isTrueOrFalseString(h.selectOnFocus)||f.isBoolean(h.selectOnFocus)||f.throwError("The select on focus option 'selectOnFocus' is invalid ; it should be either 'true' or 'false', [".concat(h.selectOnFocus,"] given.")),f.isNull(h.defaultValueOverride)||""===h.defaultValueOverride||I.test(h.defaultValueOverride)||f.throwError("The unformatted default value option 'defaultValueOverride' is invalid ; it should be a string that represents a positive or negative number, [".concat(h.defaultValueOverride,"] given.")),f.isTrueOrFalseString(h.unformatOnSubmit)||f.isBoolean(h.unformatOnSubmit)||f.throwError("The remove formatting on submit option 'unformatOnSubmit' is invalid ; it should be either 'true' or 'false', [".concat(h.unformatOnSubmit,"] given.")),f.isNull(h.valuesToStrings)||f.isObject(h.valuesToStrings)||f.throwError("The option 'valuesToStrings' is invalid ; it should be an object, ideally with 'key -> value' entries, [".concat(h.valuesToStrings,"] given.")),f.isNull(h.outputFormat)||f.isInArray(h.outputFormat,[e.options.outputFormat.string,e.options.outputFormat.number,e.options.outputFormat.dot,e.options.outputFormat.negativeDot,e.options.outputFormat.comma,e.options.outputFormat.negativeComma,e.options.outputFormat.dotNegative,e.options.outputFormat.commaNegative])||f.throwError("The custom locale format option 'outputFormat' is invalid ; it should either be null, 'string', 'number', '.', '-.', ',', '-,', '.-' or ',-', [".concat(h.outputFormat,"] given.")),f.isTrueOrFalseString(h.isCancellable)||f.isBoolean(h.isCancellable)||f.throwError("The cancellable behavior option 'isCancellable' is invalid ; it should be either 'true' or 'false', [".concat(h.isCancellable,"] given.")),f.isTrueOrFalseString(h.modifyValueOnUpDownArrow)||f.isBoolean(h.modifyValueOnUpDownArrow)||f.throwError("The increment/decrement on up and down arrow keys 'modifyValueOnUpDownArrow' is invalid ; it should be either 'true' or 'false', [".concat(h.modifyValueOnUpDownArrow,"] given.")),f.isTrueOrFalseString(h.modifyValueOnWheel)||f.isBoolean(h.modifyValueOnWheel)||f.throwError("The increment/decrement on mouse wheel option 'modifyValueOnWheel' is invalid ; it should be either 'true' or 'false', [".concat(h.modifyValueOnWheel,"] given.")),f.isTrueOrFalseString(h.watchExternalChanges)||f.isBoolean(h.watchExternalChanges)||f.throwError("The option 'watchExternalChanges' is invalid ; it should be either 'true' or 'false', [".concat(h.watchExternalChanges,"] given.")),f.isInArray(h.wheelOn,[e.options.wheelOn.focus,e.options.wheelOn.hover])||f.throwError("The wheel behavior option 'wheelOn' is invalid ; it should either be 'focus' or 'hover', [".concat(h.wheelOn,"] given.")),(!f.isString(h.upDownStep)&&!f.isNumber(h.upDownStep)||"progressive"!==h.upDownStep&&!M.test(h.upDownStep)||0===Number(h.upDownStep))&&f.throwError("The up/down arrow step value option 'upDownStep' is invalid ; it should either be the string 'progressive', or a number or a string that represents a positive number (excluding zero), [".concat(h.upDownStep,"] given.")),(!f.isString(h.wheelStep)&&!f.isNumber(h.wheelStep)||"progressive"!==h.wheelStep&&!M.test(h.wheelStep)||0===Number(h.wheelStep))&&f.throwError("The wheel step value option 'wheelStep' is invalid ; it should either be the string 'progressive', or a number or a string that represents a positive number (excluding zero), [".concat(h.wheelStep,"] given.")),f.isInArray(h.serializeSpaces,[e.options.serializeSpaces.plus,e.options.serializeSpaces.percent])||f.throwError("The space replacement character option 'serializeSpaces' is invalid ; it should either be '+' or '%20', [".concat(h.serializeSpaces,"] given.")),f.isTrueOrFalseString(h.noEventListeners)||f.isBoolean(h.noEventListeners)||f.throwError("The option 'noEventListeners' that prevent the creation of event listeners is invalid ; it should be either 'true' or 'false', [".concat(h.noEventListeners,"] given.")),f.isNull(h.styleRules)||f.isObject(h.styleRules)&&(Object.prototype.hasOwnProperty.call(h.styleRules,"positive")||Object.prototype.hasOwnProperty.call(h.styleRules,"negative")||Object.prototype.hasOwnProperty.call(h.styleRules,"ranges")||Object.prototype.hasOwnProperty.call(h.styleRules,"userDefined"))||f.throwError("The option 'styleRules' is invalid ; it should be a correctly structured object, with one or more 'positive', 'negative', 'ranges' or 'userDefined' attributes, [".concat(h.styleRules,"] given.")),f.isNull(h.styleRules)||!Object.prototype.hasOwnProperty.call(h.styleRules,"userDefined")||f.isNull(h.styleRules.userDefined)||h.styleRules.userDefined.forEach((function(t){Object.prototype.hasOwnProperty.call(t,"callback")&&!f.isFunction(t.callback)&&f.throwError("The callback defined in the `userDefined` attribute is not a function, ".concat(A(t.callback)," given."))})),(f.isNull(h.rawValueDivisor)||M.test(h.rawValueDivisor))&&0!==h.rawValueDivisor&&"0"!==h.rawValueDivisor&&1!==h.rawValueDivisor&&"1"!==h.rawValueDivisor||f.throwError("The raw value divisor option 'rawValueDivisor' is invalid ; it should be a positive number higher than one, preferably an integer, [".concat(h.rawValueDivisor,"] given.")),f.isTrueOrFalseString(h.readOnly)||f.isBoolean(h.readOnly)||f.throwError("The option 'readOnly' is invalid ; it should be either 'true' or 'false', [".concat(h.readOnly,"] given.")),f.isTrueOrFalseString(h.unformatOnHover)||f.isBoolean(h.unformatOnHover)||f.throwError("The option 'unformatOnHover' is invalid ; it should be either 'true' or 'false', [".concat(h.unformatOnHover,"] given.")),f.isTrueOrFalseString(h.failOnUnknownOption)||f.isBoolean(h.failOnUnknownOption)||f.throwError("The debug option 'failOnUnknownOption' is invalid ; it should be either 'true' or 'false', [".concat(h.failOnUnknownOption,"] given.")),f.isTrueOrFalseString(h.createLocalList)||f.isBoolean(h.createLocalList)||f.throwError("The debug option 'createLocalList' is invalid ; it should be either 'true' or 'false', [".concat(h.createLocalList,"] given."))}},{key:"_validateDecimalPlacesRawValue",value:function(t){f.isNull(t.decimalPlacesRawValue)||(t.decimalPlacesRawValue<t.decimalPlaces&&f.warning("The number of decimal places to store in the raw value [".concat(t.decimalPlacesRawValue,"] is lower than the ones to display [").concat(t.decimalPlaces,"]. This will likely confuse your users.\nTo solve that, you'd need to either set `decimalPlacesRawValue` to `null`, or set a number of decimal places for the raw value equal of bigger than `decimalPlaces`."),t.showWarnings),t.decimalPlacesRawValue<t.decimalPlacesShownOnFocus&&f.warning("The number of decimal places to store in the raw value [".concat(t.decimalPlacesRawValue,"] is lower than the ones shown on focus [").concat(t.decimalPlacesShownOnFocus,"]. This will likely confuse your users.\nTo solve that, you'd need to either set `decimalPlacesRawValue` to `null`, or set a number of decimal places for the raw value equal of bigger than `decimalPlacesShownOnFocus`."),t.showWarnings),t.decimalPlacesRawValue<t.decimalPlacesShownOnBlur&&f.warning("The number of decimal places to store in the raw value [".concat(t.decimalPlacesRawValue,"] is lower than the ones shown when unfocused [").concat(t.decimalPlacesShownOnBlur,"]. This will likely confuse your users.\nTo solve that, you'd need to either set `decimalPlacesRawValue` to `null`, or set a number of decimal places for the raw value equal of bigger than `decimalPlacesShownOnBlur`."),t.showWarnings))}},{key:"areSettingsValid",value:function(t){var i=!0;try{this.validate(t,!0)}catch(t){i=!1}return i}},{key:"getDefaultConfig",value:function(){return e.defaultSettings}},{key:"getPredefinedOptions",value:function(){return e.predefinedOptions}},{key:"_generateOptionsObjectFromOptionsArray",value:function(i){var n,h=this||t;return f.isUndefinedOrNullOrEmpty(i)||0===i.length?n=null:(n={},1===i.length&&Array.isArray(i[0])?i[0].forEach((function(t){T(n,h._getOptionObject(t))})):i.length>=1&&i.forEach((function(t){T(n,h._getOptionObject(t))}))),n}},{key:"format",value:function(t){if(f.isUndefined(t)||null===t)return null;var i;i=f.isElement(t)?f.getElementValue(t):t,f.isString(i)||f.isNumber(i)||f.throwError('The value "'.concat(i,'" being "set" is not numeric and therefore cannot be used appropriately.'));for(var n=arguments.length,h=new Array(n>1?n-1:0),d=1;d<n;d++)h[d-1]=arguments[d];var w=this._generateOptionsObjectFromOptionsArray(h),N=T({},this.getDefaultConfig(),w);N.isNegativeSignAllowed=i<0,N.isPositiveSignAllowed=i>=0,this._setBrackets(N),this._cachesUsualRegularExpressions(N,{});var _=this._toNumericValue(i,N);return isNaN(Number(_))&&f.throwError("The value [".concat(_,"] that you are trying to format is not a recognized number.")),this._isWithinRangeWithOverrideOption(_,N)||(f.triggerEvent(e.events.formatted,document,{oldValue:null,newValue:null,oldRawValue:null,newRawValue:null,isPristine:null,error:"Range test failed",aNElement:null},!0,!0),f.throwError("The value [".concat(_,"] being set falls outside of the minimumValue [").concat(N.minimumValue,"] and maximumValue [").concat(N.maximumValue,"] range set for this element"))),N.valuesToStrings&&this._checkValuesToStringsSettings(i,N)?N.valuesToStrings[i]:(this._correctNegativePositiveSignPlacementOption(N),this._calculateDecimalPlacesOnInit(N),f.isUndefinedOrNullOrEmpty(N.rawValueDivisor)||0===N.rawValueDivisor||""===_||null===_||(_*=N.rawValueDivisor),_=this._roundFormattedValueShownOnFocus(_,N),_=this._modifyNegativeSignAndDecimalCharacterForFormattedValue(_,N),_=this._addGroupSeparators(_,N,!1,_))}},{key:"formatAndSet",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.format(t,i);return f.setElementValue(t,n),n}},{key:"unformat",value:function(t){if(f.isNumberStrict(t))return t;var i;if(""===(i=f.isElement(t)?f.getElementValue(t):t))return"";if(f.isUndefined(i)||null===i)return null;(f.isArray(i)||f.isObject(i))&&f.throwError("A number or a string representing a number is needed to be able to unformat it, [".concat(i,"] given."));for(var n=arguments.length,h=new Array(n>1?n-1:0),d=1;d<n;d++)h[d-1]=arguments[d];var w=this._generateOptionsObjectFromOptionsArray(h),N=T({},this.getDefaultConfig(),w);if(N.isNegativeSignAllowed=!1,N.isPositiveSignAllowed=!0,i=i.toString(),N.valuesToStrings&&this._checkStringsToValuesSettings(i,N))return f.objectKeyLookup(N.valuesToStrings,i);if(f.isNegative(i,N.negativeSignCharacter))N.isNegativeSignAllowed=!0,N.isPositiveSignAllowed=!1;else if(!f.isNull(N.negativeBracketsTypeOnBlur)){var _=F(N.negativeBracketsTypeOnBlur.split(","),2);N.firstBracket=_[0],N.lastBracket=_[1],i.charAt(0)===N.firstBracket&&i.charAt(i.length-1)===N.lastBracket&&(N.isNegativeSignAllowed=!0,N.isPositiveSignAllowed=!1,i=this._removeBrackets(i,N,!1))}return i=this._convertToNumericString(i,N),f.isNumber(Number(i))&&(i=f.scientificToDecimal(i)),new RegExp("[^+-0123456789.]","gi").test(i)?NaN:(this._correctNegativePositiveSignPlacementOption(N),N.decimalPlacesRawValue?N.originalDecimalPlacesRawValue=N.decimalPlacesRawValue:N.originalDecimalPlacesRawValue=N.decimalPlaces,this._calculateDecimalPlacesOnInit(N),f.isUndefinedOrNullOrEmpty(N.rawValueDivisor)||0===N.rawValueDivisor||""===i||null===i||(i/=N.rawValueDivisor),i=(i=this._roundRawValue(i,N)).replace(N.decimalCharacter,"."),i=this._toLocale(i,N.outputFormat,N))}},{key:"unformatAndSet",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.unformat(t,i);return f.setElementValue(t,n),n}},{key:"localize",value:function(t){var i,n,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return""===(i=f.isElement(t)?f.getElementValue(t):t)?"":(f.isNull(h)&&(h=e.defaultSettings),i=this.unformat(i,h),0===Number(i)&&h.leadingZero!==e.options.leadingZero.keep&&(i="0"),n=f.isNull(h)?h.outputFormat:e.defaultSettings.outputFormat,this._toLocale(i,n,h))}},{key:"localizeAndSet",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.localize(t,i);return f.setElementValue(t,n),n}},{key:"isManagedByAutoNumeric",value:function(t){return this._isInGlobalList(f.domElement(t))}},{key:"getAutoNumericElement",value:function(t){var i=f.domElement(t);return this.isManagedByAutoNumeric(i)?this._getFromGlobalList(i):null}},{key:"set",value:function(t,i){var n,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],w=f.domElement(t);return this.isManagedByAutoNumeric(w)?this.getAutoNumericElement(w).set(i,h,d):(n=!(!f.isNull(h)&&Object.prototype.hasOwnProperty.call(h,"showWarnings"))||h.showWarnings,f.warning("Impossible to find an AutoNumeric object for the given DOM element or selector.",n),null)}},{key:"getNumericString",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._get(t,"getNumericString",i)}},{key:"getFormatted",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._get(t,"getFormatted",i)}},{key:"getNumber",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._get(t,"getNumber",i)}},{key:"_get",value:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=f.domElement(t);return this.isManagedByAutoNumeric(h)||f.throwError("Impossible to find an AutoNumeric object for the given DOM element or selector."),this.getAutoNumericElement(h)[i](n)}},{key:"getLocalized",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=f.domElement(t);return this.isManagedByAutoNumeric(h)||f.throwError("Impossible to find an AutoNumeric object for the given DOM element or selector."),this.getAutoNumericElement(h).getLocalized(i,n)}},{key:"_stripAllNonNumberCharacters",value:function(t,i,n,h){return this._stripAllNonNumberCharactersExceptCustomDecimalChar(t,i,n,h).replace(i.decimalCharacter,".")}},{key:"_stripAllNonNumberCharactersExceptCustomDecimalChar",value:function(t,i,n,h){var d=(t=(t=this._normalizeCurrencySuffixAndNegativeSignCharacters(t,i)).replace(i.allowedAutoStrip,"")).match(i.numRegAutoStrip);if(t=d?[d[1],d[2],d[3]].join(""):"",i.leadingZero===e.options.leadingZero.allow||i.leadingZero===e.options.leadingZero.keep){var w="",N=F(t.split(i.decimalCharacter),2),_=N[0],I=N[1],M=_;f.contains(M,i.negativeSignCharacter)&&(w=i.negativeSignCharacter,M=M.replace(i.negativeSignCharacter,"")),""===w&&M.length>i.mIntPos&&"0"===M.charAt(0)&&(M=M.slice(1)),""!==w&&M.length>i.mIntNeg&&"0"===M.charAt(0)&&(M=M.slice(1)),t="".concat(w).concat(M).concat(f.isUndefined(I)?"":i.decimalCharacter+I)}return(n&&i.leadingZero===e.options.leadingZero.deny||!h&&i.leadingZero===e.options.leadingZero.allow)&&(t=t.replace(i.stripReg,"$1$2")),t}},{key:"_toggleNegativeBracket",value:function(t,i,n){return n?this._removeBrackets(t,i):this._addBrackets(t,i)}},{key:"_addBrackets",value:function(t,i){return f.isNull(i.negativeBracketsTypeOnBlur)?t:"".concat(i.firstBracket).concat(t.replace(i.negativeSignCharacter,"")).concat(i.lastBracket)}},{key:"_removeBrackets",value:function(t,i){var n,h=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return f.isNull(i.negativeBracketsTypeOnBlur)||t.charAt(0)!==i.firstBracket?n=t:(n=(n=t.replace(i.firstBracket,"")).replace(i.lastBracket,""),h?(n=n.replace(i.currencySymbol,""),n=this._mergeCurrencySignNegativePositiveSignAndValue(n,i,!0,!1)):n="".concat(i.negativeSignCharacter).concat(n)),n}},{key:"_setBrackets",value:function(t){if(f.isNull(t.negativeBracketsTypeOnBlur))t.firstBracket="",t.lastBracket="";else{var i=F(t.negativeBracketsTypeOnBlur.split(","),2),n=i[0],h=i[1];t.firstBracket=n,t.lastBracket=h}}},{key:"_convertToNumericString",value:function(t,i){t=this._removeBrackets(t,i,!1),t=(t=this._normalizeCurrencySuffixAndNegativeSignCharacters(t,i)).replace(new RegExp("[".concat(i.digitGroupSeparator,"]"),"g"),""),"."!==i.decimalCharacter&&(t=t.replace(i.decimalCharacter,".")),f.isNegative(t)&&t.lastIndexOf("-")===t.length-1&&(t=t.replace("-",""),t="-".concat(t)),i.showPositiveSign&&(t=t.replace(i.positiveSignCharacter,""));var n=i.leadingZero!==e.options.leadingZero.keep,h=f.arabicToLatinNumbers(t,n,!1,!1);return isNaN(h)||(t=h.toString()),t}},{key:"_normalizeCurrencySuffixAndNegativeSignCharacters",value:function(t,i){return t=String(t),i.currencySymbol!==e.options.currencySymbol.none&&(t=t.replace(i.currencySymbol,"")),i.suffixText!==e.options.suffixText.none&&(t=t.replace(i.suffixText,"")),i.negativeSignCharacter!==e.options.negativeSignCharacter.hyphen&&(t=t.replace(i.negativeSignCharacter,"-")),t}},{key:"_toLocale",value:function(t,i,n){if(f.isNull(i)||i===e.options.outputFormat.string)return t;var h;switch(i){case e.options.outputFormat.number:h=Number(t);break;case e.options.outputFormat.dotNegative:h=f.isNegative(t)?t.replace("-","")+"-":t;break;case e.options.outputFormat.comma:case e.options.outputFormat.negativeComma:h=t.replace(".",",");break;case e.options.outputFormat.commaNegative:h=t.replace(".",","),h=f.isNegative(h)?h.replace("-","")+"-":h;break;case e.options.outputFormat.dot:case e.options.outputFormat.negativeDot:h=t;break;default:f.throwError("The given outputFormat [".concat(i,"] option is not recognized."))}return i!==e.options.outputFormat.number&&"-"!==n.negativeSignCharacter&&(h=h.replace("-",n.negativeSignCharacter)),h}},{key:"_modifyNegativeSignAndDecimalCharacterForFormattedValue",value:function(t,i){return"-"!==i.negativeSignCharacter&&(t=t.replace("-",i.negativeSignCharacter)),"."!==i.decimalCharacter&&(t=t.replace(".",i.decimalCharacter)),t}},{key:"_isElementValueEmptyOrOnlyTheNegativeSign",value:function(t,i){return""===t||t===i.negativeSignCharacter}},{key:"_orderValueCurrencySymbolAndSuffixText",value:function(t,i,n){var h;if(i.emptyInputBehavior===e.options.emptyInputBehavior.always||n)switch(i.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.left:case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.none:h=t+i.currencySymbol+i.suffixText;break;default:h=i.currencySymbol+t+i.suffixText}else h=t;return h}},{key:"_addGroupSeparators",value:function(t,i,n,h){var d,w=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(d=f.isNull(w)?f.isNegative(t,i.negativeSignCharacter)||f.isNegativeWithBrackets(t,i.firstBracket,i.lastBracket):w<0,t=this._stripAllNonNumberCharactersExceptCustomDecimalChar(t,i,!1,n),this._isElementValueEmptyOrOnlyTheNegativeSign(t,i))return this._orderValueCurrencySymbolAndSuffixText(t,i,!0);var N=f.isZeroOrHasNoValue(t);d&&(t=t.replace("-",""));var _,I=F(t.split(i.decimalCharacter),2),M=I[0],R=I[1];if(i.decimalCharacterAlternative&&f.isUndefined(R)){var U=F(t.split(i.decimalCharacterAlternative),2);M=U[0],R=U[1]}if(""!==i.digitGroupSeparator){var j;switch(i.digitalGroupSpacing=i.digitalGroupSpacing.toString(),i.digitalGroupSpacing){case e.options.digitalGroupSpacing.twoThree:j=/(\d)((\d)(\d{2}?)+)$/;break;case e.options.digitalGroupSpacing.twoScaled:j=/(\d)((?:\d{2}){0,2}\d{3}(?:(?:\d{2}){2}\d{3})*?)$/;break;case e.options.digitalGroupSpacing.two:case e.options.digitalGroupSpacing.three:case e.options.digitalGroupSpacing.four:default:j=new RegExp("(\\d)((\\d{".concat(i.digitalGroupSpacing,"}?)+)$"))}for(;j.test(M);)M=M.replace(j,"$1".concat(i.digitGroupSeparator,"$2"))}return 0===(_=n?i.decimalPlacesShownOnFocus:i.decimalPlacesShownOnBlur)||f.isUndefined(R)?t=M:(R.length>_&&(R=R.substring(0,_)),t="".concat(M).concat(i.decimalCharacter).concat(R)),t=e._mergeCurrencySignNegativePositiveSignAndValue(t,i,d,N),f.isNull(w)&&(w=h),null!==i.negativeBracketsTypeOnBlur&&(w<0||f.isNegativeStrict(t,i.negativeSignCharacter))&&(t=this._toggleNegativeBracket(t,i,n)),i.suffixText?"".concat(t).concat(i.suffixText):t}},{key:"_mergeCurrencySignNegativePositiveSignAndValue",value:function(t,i,n,h){var d,f="";if(n?f=i.negativeSignCharacter:i.showPositiveSign&&!h&&(f=i.positiveSignCharacter),i.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix)if(i.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&i.showPositiveSign&&!h))switch(i.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.left:d="".concat(f).concat(i.currencySymbol).concat(t);break;case e.options.negativePositiveSignPlacement.right:d="".concat(i.currencySymbol).concat(f).concat(t);break;case e.options.negativePositiveSignPlacement.suffix:d="".concat(i.currencySymbol).concat(t).concat(f)}else d=i.currencySymbol+t;else if(i.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix)if(i.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&i.showPositiveSign&&!h))switch(i.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.suffix:case e.options.negativePositiveSignPlacement.right:d="".concat(t).concat(i.currencySymbol).concat(f);break;case e.options.negativePositiveSignPlacement.left:d="".concat(t).concat(f).concat(i.currencySymbol);break;case e.options.negativePositiveSignPlacement.prefix:d="".concat(f).concat(t).concat(i.currencySymbol)}else d=t+i.currencySymbol;return d}},{key:"_truncateZeros",value:function(t,i){var n;switch(i){case 0:n=/(\.(?:\d*[1-9])?)0*$/;break;case 1:n=/(\.\d(?:\d*[1-9])?)0*$/;break;default:n=new RegExp("(\\.\\d{".concat(i,"}(?:\\d*[1-9])?)0*"))}return t=t.replace(n,"$1"),0===i&&(t=t.replace(/\.$/,"")),t}},{key:"_roundRawValue",value:function(t,i){return this._roundValue(t,i,i.decimalPlacesRawValue)}},{key:"_roundFormattedValueShownOnFocus",value:function(t,i){return this._roundValue(t,i,Number(i.decimalPlacesShownOnFocus))}},{key:"_roundFormattedValueShownOnBlur",value:function(t,i){return this._roundValue(t,i,Number(i.decimalPlacesShownOnBlur))}},{key:"_roundFormattedValueShownOnFocusOrBlur",value:function(t,i,n){return n?this._roundFormattedValueShownOnFocus(t,i):this._roundFormattedValueShownOnBlur(t,i)}},{key:"_roundValue",value:function(t,i,n){if(f.isNull(t))return t;if(t=""===t?"0":t.toString(),i.roundingMethod===e.options.roundingMethod.toNearest05||i.roundingMethod===e.options.roundingMethod.toNearest05Alt||i.roundingMethod===e.options.roundingMethod.upToNext05||i.roundingMethod===e.options.roundingMethod.downToNext05)return this._roundCloseTo05(t,i);var h,d=F(e._prepareValueForRounding(t,i),2),w=d[0],N=(t=d[1]).lastIndexOf("."),_=-1===N,I=F(t.split("."),2),M=I[0];if(!(I[1]>0||i.allowDecimalPadding!==e.options.allowDecimalPadding.never&&i.allowDecimalPadding!==e.options.allowDecimalPadding.floats))return 0===Number(t)?M:"".concat(w).concat(M);h=i.allowDecimalPadding===e.options.allowDecimalPadding.always||i.allowDecimalPadding===e.options.allowDecimalPadding.floats?n:i.allowDecimalPadding>0?i.allowDecimalPadding:0;var R,U=_?t.length-1:N,j=t.length-1-U,K="";if(j<=n){if(K=t,j<h){_&&(K="".concat(K).concat(i.decimalCharacter));for(var z="000000";j<h;)K+=z=z.substring(0,h-j),j+=z.length}else j>h?K=this._truncateZeros(K,h):0===j&&0===h&&(K=K.replace(/\.$/,""));return 0===Number(K)?K:"".concat(w).concat(K)}R=_?n-1:Number(n)+Number(N);var W,G=Number(t.charAt(R+1)),H=t.substring(0,R+1).split("");if(W="."===t.charAt(R)?t.charAt(R-1)%2:t.charAt(R)%2,this._shouldRoundUp(G,i,w,W))for(var Z=H.length-1;Z>=0;Z-=1)if("."!==H[Z]){if(H[Z]=+H[Z]+1,H[Z]<10)break;Z>0&&(H[Z]="0")}return H=H.slice(0,R+1),K=this._truncateZeros(H.join(""),h),0===Number(K)?K:"".concat(w).concat(K)}},{key:"_roundCloseTo05",value:function(t,i){switch(i.roundingMethod){case e.options.roundingMethod.toNearest05:case e.options.roundingMethod.toNearest05Alt:t=(Math.round(20*t)/20).toString();break;case e.options.roundingMethod.upToNext05:t=(Math.ceil(20*t)/20).toString();break;default:t=(Math.floor(20*t)/20).toString()}return f.contains(t,".")?t.length-t.indexOf(".")<3?t+"0":t:t+".00"}},{key:"_prepareValueForRounding",value:function(t,i){var n="";return f.isNegativeStrict(t,"-")&&(n="-",t=t.replace("-","")),t.match(/^\d/)||(t="0".concat(t)),0===Number(t)&&(n=""),(Number(t)>0&&i.leadingZero!==e.options.leadingZero.keep||t.length>0&&i.leadingZero===e.options.leadingZero.allow)&&(t=t.replace(/^0*(\d)/,"$1")),[n,t]}},{key:"_shouldRoundUp",value:function(t,i,n,h){return t>4&&i.roundingMethod===e.options.roundingMethod.halfUpSymmetric||t>4&&i.roundingMethod===e.options.roundingMethod.halfUpAsymmetric&&""===n||t>5&&i.roundingMethod===e.options.roundingMethod.halfUpAsymmetric&&"-"===n||t>5&&i.roundingMethod===e.options.roundingMethod.halfDownSymmetric||t>5&&i.roundingMethod===e.options.roundingMethod.halfDownAsymmetric&&""===n||t>4&&i.roundingMethod===e.options.roundingMethod.halfDownAsymmetric&&"-"===n||t>5&&i.roundingMethod===e.options.roundingMethod.halfEvenBankersRounding||5===t&&i.roundingMethod===e.options.roundingMethod.halfEvenBankersRounding&&1===h||t>0&&i.roundingMethod===e.options.roundingMethod.toCeilingTowardPositiveInfinity&&""===n||t>0&&i.roundingMethod===e.options.roundingMethod.toFloorTowardNegativeInfinity&&"-"===n||t>0&&i.roundingMethod===e.options.roundingMethod.upRoundAwayFromZero}},{key:"_truncateDecimalPlaces",value:function(t,i,n,h){n&&(t=this._roundFormattedValueShownOnFocus(t,i));var d=F(t.split(i.decimalCharacter),2),f=d[0],w=d[1];if(w&&w.length>h)if(h>0){var N=w.substring(0,h);t="".concat(f).concat(i.decimalCharacter).concat(N)}else t=f;return t}},{key:"_checkIfInRangeWithOverrideOption",value:function(t,i){if(f.isNull(t)&&i.emptyInputBehavior===e.options.emptyInputBehavior.null||i.overrideMinMaxLimits===e.options.overrideMinMaxLimits.ignore||i.overrideMinMaxLimits===e.options.overrideMinMaxLimits.invalid)return[!0,!0];t=(t=t.toString()).replace(",",".");var n,h=f.parseStr(i.minimumValue),d=f.parseStr(i.maximumValue),w=f.parseStr(t);switch(i.overrideMinMaxLimits){case e.options.overrideMinMaxLimits.floor:n=[f.testMinMax(h,w)>-1,!0];break;case e.options.overrideMinMaxLimits.ceiling:n=[!0,f.testMinMax(d,w)<1];break;default:n=[f.testMinMax(h,w)>-1,f.testMinMax(d,w)<1]}return n}},{key:"_isWithinRangeWithOverrideOption",value:function(t,i){var n=F(this._checkIfInRangeWithOverrideOption(t,i),2),h=n[0],d=n[1];return h&&d}},{key:"_cleanValueForRangeParse",value:function(t){return t=t.toString().replace(",","."),f.parseStr(t)}},{key:"_isMinimumRangeRespected",value:function(t,i){return f.testMinMax(f.parseStr(i.minimumValue),this._cleanValueForRangeParse(t))>-1}},{key:"_isMaximumRangeRespected",value:function(t,i){return f.testMinMax(f.parseStr(i.maximumValue),this._cleanValueForRangeParse(t))<1}},{key:"_correctNegativePositiveSignPlacementOption",value:function(t){if(f.isNull(t.negativePositiveSignPlacement))if(f.isUndefined(t)||!f.isUndefinedOrNullOrEmpty(t.negativePositiveSignPlacement)||f.isUndefinedOrNullOrEmpty(t.currencySymbol))t.negativePositiveSignPlacement=e.options.negativePositiveSignPlacement.left;else switch(t.currencySymbolPlacement){case e.options.currencySymbolPlacement.suffix:t.negativePositiveSignPlacement=e.options.negativePositiveSignPlacement.prefix;break;case e.options.currencySymbolPlacement.prefix:t.negativePositiveSignPlacement=e.options.negativePositiveSignPlacement.left}}},{key:"_correctCaretPositionOnFocusAndSelectOnFocusOptions",value:function(t){return f.isNull(t)?null:(!f.isUndefinedOrNullOrEmpty(t.caretPositionOnFocus)&&f.isUndefinedOrNullOrEmpty(t.selectOnFocus)&&(t.selectOnFocus=e.options.selectOnFocus.doNotSelect),f.isUndefinedOrNullOrEmpty(t.caretPositionOnFocus)&&!f.isUndefinedOrNullOrEmpty(t.selectOnFocus)&&t.selectOnFocus===e.options.selectOnFocus.select&&(t.caretPositionOnFocus=e.options.caretPositionOnFocus.doNoForceCaretPosition),t)}},{key:"_calculateDecimalPlacesOnInit",value:function(t){this._validateDecimalPlacesRawValue(t),t.decimalPlacesShownOnFocus===e.options.decimalPlacesShownOnFocus.useDefault&&(t.decimalPlacesShownOnFocus=t.decimalPlaces),t.decimalPlacesShownOnBlur===e.options.decimalPlacesShownOnBlur.useDefault&&(t.decimalPlacesShownOnBlur=t.decimalPlaces),t.decimalPlacesRawValue===e.options.decimalPlacesRawValue.useDefault&&(t.decimalPlacesRawValue=t.decimalPlaces);var i=0;t.rawValueDivisor&&t.rawValueDivisor!==e.options.rawValueDivisor.none&&(i=String(t.rawValueDivisor).length-1)<0&&(i=0),t.decimalPlacesRawValue=Math.max(Math.max(t.decimalPlacesShownOnBlur,t.decimalPlacesShownOnFocus)+i,Number(t.originalDecimalPlacesRawValue)+i)}},{key:"_calculateDecimalPlacesOnUpdate",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._validateDecimalPlacesRawValue(t),f.isNull(i)&&f.throwError("When updating the settings, the previous ones should be passed as an argument.");var n="decimalPlaces"in t;if(n||"decimalPlacesRawValue"in t||"decimalPlacesShownOnFocus"in t||"decimalPlacesShownOnBlur"in t||"rawValueDivisor"in t){n?("decimalPlacesShownOnFocus"in t&&t.decimalPlacesShownOnFocus!==e.options.decimalPlacesShownOnFocus.useDefault||(t.decimalPlacesShownOnFocus=t.decimalPlaces),"decimalPlacesShownOnBlur"in t&&t.decimalPlacesShownOnBlur!==e.options.decimalPlacesShownOnBlur.useDefault||(t.decimalPlacesShownOnBlur=t.decimalPlaces),"decimalPlacesRawValue"in t&&t.decimalPlacesRawValue!==e.options.decimalPlacesRawValue.useDefault||(t.decimalPlacesRawValue=t.decimalPlaces)):(f.isUndefined(t.decimalPlacesShownOnFocus)&&(t.decimalPlacesShownOnFocus=i.decimalPlacesShownOnFocus),f.isUndefined(t.decimalPlacesShownOnBlur)&&(t.decimalPlacesShownOnBlur=i.decimalPlacesShownOnBlur));var h=0;t.rawValueDivisor&&t.rawValueDivisor!==e.options.rawValueDivisor.none&&(h=String(t.rawValueDivisor).length-1)<0&&(h=0),t.decimalPlaces||t.decimalPlacesRawValue?t.decimalPlacesRawValue=Math.max(Math.max(t.decimalPlacesShownOnBlur,t.decimalPlacesShownOnFocus)+h,Number(t.decimalPlacesRawValue)+h):t.decimalPlacesRawValue=Math.max(Math.max(t.decimalPlacesShownOnBlur,t.decimalPlacesShownOnFocus)+h,Number(i.originalDecimalPlacesRawValue)+h)}}},{key:"_cachesUsualRegularExpressions",value:function(t,i){var n;n=t.negativeSignCharacter!==e.options.negativeSignCharacter.hyphen?"([-\\".concat(t.negativeSignCharacter,"]?)"):"(-?)",i.aNegRegAutoStrip=n,t.allowedAutoStrip=new RegExp("[^-0123456789\\".concat(t.decimalCharacter,"]"),"g"),t.numRegAutoStrip=new RegExp("".concat(n,"(?:\\").concat(t.decimalCharacter,"?([0-9]+\\").concat(t.decimalCharacter,"[0-9]+)|([0-9]*(?:\\").concat(t.decimalCharacter,"[0-9]*)?))")),t.stripReg=new RegExp("^".concat(i.aNegRegAutoStrip,"0*([0-9])")),t.formulaChars=new RegExp("[0-9".concat(t.decimalCharacter,"+\\-*/() ]"))}},{key:"_convertOldOptionsToNewOnes",value:function(t){var i={aSep:"digitGroupSeparator",nSep:"showOnlyNumbersOnFocus",dGroup:"digitalGroupSpacing",aDec:"decimalCharacter",altDec:"decimalCharacterAlternative",aSign:"currencySymbol",pSign:"currencySymbolPlacement",pNeg:"negativePositiveSignPlacement",aSuffix:"suffixText",oLimits:"overrideMinMaxLimits",vMax:"maximumValue",vMin:"minimumValue",mDec:"decimalPlacesOverride",eDec:"decimalPlacesShownOnFocus",scaleDecimal:"decimalPlacesShownOnBlur",aStor:"saveValueToSessionStorage",mRound:"roundingMethod",aPad:"allowDecimalPadding",nBracket:"negativeBracketsTypeOnBlur",wEmpty:"emptyInputBehavior",lZero:"leadingZero",aForm:"formatOnPageLoad",sNumber:"selectNumberOnly",anDefault:"defaultValueOverride",unSetOnSubmit:"unformatOnSubmit",outputType:"outputFormat",debug:"showWarnings",allowDecimalPadding:!0,alwaysAllowDecimalCharacter:!0,caretPositionOnFocus:!0,createLocalList:!0,currencySymbol:!0,currencySymbolPlacement:!0,decimalCharacter:!0,decimalCharacterAlternative:!0,decimalPlaces:!0,decimalPlacesRawValue:!0,decimalPlacesShownOnBlur:!0,decimalPlacesShownOnFocus:!0,defaultValueOverride:!0,digitalGroupSpacing:!0,digitGroupSeparator:!0,divisorWhenUnfocused:!0,emptyInputBehavior:!0,eventBubbles:!0,eventIsCancelable:!0,failOnUnknownOption:!0,formatOnPageLoad:!0,formulaMode:!0,historySize:!0,isCancellable:!0,leadingZero:!0,maximumValue:!0,minimumValue:!0,modifyValueOnUpDownArrow:!0,modifyValueOnWheel:!0,negativeBracketsTypeOnBlur:!0,negativePositiveSignPlacement:!0,negativeSignCharacter:!0,negativePositiveSignBehavior:!0,noEventListeners:!0,onInvalidPaste:!0,outputFormat:!0,overrideMinMaxLimits:!0,positiveSignCharacter:!0,rawValueDivisor:!0,readOnly:!0,roundingMethod:!0,saveValueToSessionStorage:!0,selectNumberOnly:!0,selectOnFocus:!0,serializeSpaces:!0,showOnlyNumbersOnFocus:!0,showPositiveSign:!0,showWarnings:!0,styleRules:!0,suffixText:!0,symbolWhenUnfocused:!0,upDownStep:!0,unformatOnHover:!0,unformatOnSubmit:!0,valuesToStrings:!0,watchExternalChanges:!0,wheelOn:!0,wheelStep:!0,allowedAutoStrip:!0,formulaChars:!0,isNegativeSignAllowed:!0,isPositiveSignAllowed:!0,mIntNeg:!0,mIntPos:!0,numRegAutoStrip:!0,originalDecimalPlaces:!0,originalDecimalPlacesRawValue:!0,stripReg:!0};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(!0===i[n])continue;Object.prototype.hasOwnProperty.call(i,n)?(f.warning("You are using the deprecated option name '".concat(n,"'. Please use '").concat(i[n],"' instead from now on. The old option name will be dropped very soon™."),!0),t[i[n]]=t[n],delete t[n]):t.failOnUnknownOption&&f.throwError("Option name '".concat(n,"' is unknown. Please fix the options passed to autoNumeric"))}"mDec"in t&&f.warning("The old `mDec` option has been deprecated in favor of more accurate options ; `decimalPlaces`, `decimalPlacesRawValue`, `decimalPlacesShownOnFocus` and `decimalPlacesShownOnBlur`.",!0)}},{key:"_setNegativePositiveSignPermissions",value:function(t){t.isNegativeSignAllowed=t.minimumValue<0,t.isPositiveSignAllowed=t.maximumValue>=0}},{key:"_toNumericValue",value:function(t,i){var n;return f.isNumber(Number(t))?(f.isNumberStrict(t)||(t=String(t).trim()),n=f.scientificToDecimal(t)):(n=this._convertToNumericString(t.toString(),i),f.isNumber(Number(n))||(f.warning('The given value "'.concat(t,'" cannot be converted to a numeric one and therefore cannot be used appropriately.'),i.showWarnings),n=NaN)),n}},{key:"_checkIfInRange",value:function(t,i,n){var h=f.parseStr(t);return f.testMinMax(i,h)>-1&&f.testMinMax(n,h)<1}},{key:"_shouldSkipEventKey",value:function(t){var i=f.isInArray(t,d.keyName._allFnKeys),n=t===d.keyName.OSLeft||t===d.keyName.OSRight,h=t===d.keyName.ContextMenu,w=f.isInArray(t,d.keyName._someNonPrintableKeys),N=t===d.keyName.NumLock||t===d.keyName.ScrollLock||t===d.keyName.Insert||t===d.keyName.Command,_=t===d.keyName.Unidentified;return i||n||h||w||_||N}},{key:"_serialize",value:function(i){var n,h=this||t,d=arguments.length>1&&void 0!==arguments[1]&&arguments[1],w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unformatted",N=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"+",_=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,I=[];return"object"===A(i)&&"form"===i.nodeName.toLowerCase()&&Array.prototype.slice.call(i.elements).forEach((function(t){if(t.name&&!t.disabled&&-1===["file","reset","submit","button"].indexOf(t.type))if("select-multiple"===t.type)Array.prototype.slice.call(t.options).forEach((function(i){i.selected&&(d?I.push({name:t.name,value:i.value}):I.push("".concat(encodeURIComponent(t.name),"=").concat(encodeURIComponent(i.value))))}));else if(-1===["checkbox","radio"].indexOf(t.type)||t.checked){var i,n;if(h.isManagedByAutoNumeric(t))switch(w){case"unformatted":n=h.getAutoNumericElement(t),f.isNull(n)||(i=h.unformat(t,n.getSettings()));break;case"localized":if(n=h.getAutoNumericElement(t),!f.isNull(n)){var N=f.cloneObject(n.getSettings());f.isNull(_)||(N.outputFormat=_),i=h.localize(t,N)}break;default:i=t.value}else i=t.value;f.isUndefined(i)&&f.throwError("This error should never be hit. If it has, something really wrong happened!"),d?I.push({name:t.name,value:i}):I.push("".concat(encodeURIComponent(t.name),"=").concat(encodeURIComponent(i)))}})),d?n=I:(n=I.join("&"),"+"===N&&(n=n.replace(/%20/g,"+"))),n}},{key:"_serializeNumericString",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+";return this._serialize(t,!1,"unformatted",i)}},{key:"_serializeFormatted",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+";return this._serialize(t,!1,"formatted",i)}},{key:"_serializeLocalized",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this._serialize(t,!1,"localized",i,n)}},{key:"_serializeNumericStringArray",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+";return this._serialize(t,!0,"unformatted",i)}},{key:"_serializeFormattedArray",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+";return this._serialize(t,!0,"formatted",i)}},{key:"_serializeLocalizedArray",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this._serialize(t,!0,"localized",i,n)}}],n&&L(i.prototype,n),h&&L(i,h),Object.defineProperty(i,"prototype",{writable:!1}),e}();D(U,"options",void 0),D(U,"events",void 0),D(U,"defaultSettings",void 0),D(U,"predefinedOptions",void 0),U.multiple=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=[];if(f.isObject(i)&&(n=i,i=null),f.isString(t))t=C(document.querySelectorAll(t));else if(f.isObject(t)){Object.prototype.hasOwnProperty.call(t,"rootElement")||f.throwError("The object passed to the 'multiple' function is invalid ; no 'rootElement' attribute found.");var d=C(t.rootElement.querySelectorAll("input"));Object.prototype.hasOwnProperty.call(t,"exclude")?(Array.isArray(t.exclude)||f.throwError("The 'exclude' array passed to the 'multiple' function is invalid."),t=f.filterOut(d,t.exclude)):t=d}else f.isArray(t)||f.throwError("The given parameters to the 'multiple' function are invalid.");if(0===t.length){var w=!0;return!f.isNull(n)&&f.isBoolean(n.showWarnings)&&(w=n.showWarnings),f.warning("No valid DOM elements were given hence no AutoNumeric objects were instantiated.",w),[]}var N=f.isArray(i)&&i.length>=1,_=!1,I=!1;if(N){var M=A(Number(i[0]));(_="number"===M&&!isNaN(Number(i[0])))||("string"===M||isNaN(M)||"object"===M)&&(I=!0)}var R,j=!1;if(f.isArray(n)&&n.length>=1){var K=A(n[0]);"string"!==K&&"object"!==K||(j=!0)}R=I?U.mergeOptions(i):j?U.mergeOptions(n):n;var z,W=f.isNumber(i);return _&&(z=i.length),t.forEach((function(t,n){W?h.push(new U(t,i,R)):_&&n<=z?h.push(new U(t,i[n],R)):h.push(new U(t,null,R))})),h},U.events={correctedValue:"autoNumeric:correctedValue",initialized:"autoNumeric:initialized",invalidFormula:"autoNumeric:invalidFormula",invalidValue:"autoNumeric:invalidValue",formatted:"autoNumeric:formatted",rawValueModified:"autoNumeric:rawValueModified",minRangeExceeded:"autoNumeric:minExceeded",maxRangeExceeded:"autoNumeric:maxExceeded",native:{input:"input",change:"change"},validFormula:"autoNumeric:validFormula"},Object.freeze(U.events.native),Object.freeze(U.events),Object.defineProperty(U,"events",{configurable:!1,writable:!1}),U.options={allowDecimalPadding:{always:!0,never:!1,floats:"floats"},alwaysAllowDecimalCharacter:{alwaysAllow:!0,doNotAllow:!1},caretPositionOnFocus:{start:"start",end:"end",decimalLeft:"decimalLeft",decimalRight:"decimalRight",doNoForceCaretPosition:null},createLocalList:{createList:!0,doNotCreateList:!1},currencySymbol:{none:"",currencySign:"¤",austral:"₳",australCentavo:"¢",baht:"฿",cedi:"₵",cent:"¢",colon:"₡",cruzeiro:"₢",dollar:"$",dong:"₫",drachma:"₯",dram:"​֏",european:"₠",euro:"€",florin:"ƒ",franc:"₣",guarani:"₲",hryvnia:"₴",kip:"₭",att:"ອັດ",lepton:"Λ.",lira:"₺",liraOld:"₤",lari:"₾",mark:"ℳ",mill:"₥",naira:"₦",peseta:"₧",peso:"₱",pfennig:"₰",pound:"£",real:"R$ ",riel:"៛",ruble:"₽",rupee:"₹",rupeeOld:"₨",shekel:"₪",shekelAlt:"ש״ח‎‎",taka:"৳",tenge:"₸",togrog:"₮",won:"₩",yen:"¥"},currencySymbolPlacement:{prefix:"p",suffix:"s"},decimalCharacter:{comma:",",dot:".",middleDot:"·",arabicDecimalSeparator:"٫",decimalSeparatorKeySymbol:"⎖"},decimalCharacterAlternative:{none:null,comma:",",dot:"."},decimalPlaces:{none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesRawValue:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesShownOnBlur:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesShownOnFocus:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},defaultValueOverride:{doNotOverride:null},digitalGroupSpacing:{two:"2",twoThree:"2t",twoScaled:"2s",three:"3",four:"4"},digitGroupSeparator:{comma:",",dot:".",normalSpace:" ",thinSpace:" ",narrowNoBreakSpace:" ",noBreakSpace:" ",noSeparator:"",apostrophe:"'",arabicThousandsSeparator:"٬",dotAbove:"˙",privateUseTwo:"’"},divisorWhenUnfocused:{none:null,percentage:100,permille:1e3,basisPoint:1e4},emptyInputBehavior:{focus:"focus",press:"press",always:"always",zero:"zero",min:"min",max:"max",null:"null"},eventBubbles:{bubbles:!0,doesNotBubble:!1},eventIsCancelable:{isCancelable:!0,isNotCancelable:!1},failOnUnknownOption:{fail:!0,ignore:!1},formatOnPageLoad:{format:!0,doNotFormat:!1},formulaMode:{enabled:!0,disabled:!1},historySize:{verySmall:5,small:10,medium:20,large:50,veryLarge:100,insane:Number.MAX_SAFE_INTEGER},invalidClass:"an-invalid",isCancellable:{cancellable:!0,notCancellable:!1},leadingZero:{allow:"allow",deny:"deny",keep:"keep"},maximumValue:{tenTrillions:"10000000000000",oneBillion:"1000000000",zero:"0"},minimumValue:{tenTrillions:"-10000000000000",oneBillion:"-1000000000",zero:"0"},modifyValueOnUpDownArrow:{modifyValue:!0,doNothing:!1},modifyValueOnWheel:{modifyValue:!0,doNothing:!1},negativeBracketsTypeOnBlur:{parentheses:"(,)",brackets:"[,]",chevrons:"<,>",curlyBraces:"{,}",angleBrackets:"〈,〉",japaneseQuotationMarks:"｢,｣",halfBrackets:"⸤,⸥",whiteSquareBrackets:"⟦,⟧",quotationMarks:"‹,›",guillemets:"«,»",none:null},negativePositiveSignPlacement:{prefix:"p",suffix:"s",left:"l",right:"r",none:null},negativeSignCharacter:{hyphen:"-",minus:"−",heavyMinus:"➖",fullWidthHyphen:"－",circledMinus:"⊖",squaredMinus:"⊟",triangleMinus:"⨺",plusMinus:"±",minusPlus:"∓",dotMinus:"∸",minusTilde:"≂",not:"¬"},negativePositiveSignBehavior:{toggle:!0,doNotToggle:!1},noEventListeners:{noEvents:!0,addEvents:!1},onInvalidPaste:{error:"error",ignore:"ignore",clamp:"clamp",truncate:"truncate",replace:"replace"},outputFormat:{string:"string",number:"number",dot:".",negativeDot:"-.",comma:",",negativeComma:"-,",dotNegative:".-",commaNegative:",-",none:null},overrideMinMaxLimits:{ceiling:"ceiling",floor:"floor",ignore:"ignore",invalid:"invalid",doNotOverride:null},positiveSignCharacter:{plus:"+",fullWidthPlus:"＋",heavyPlus:"➕",doublePlus:"⧺",triplePlus:"⧻",circledPlus:"⊕",squaredPlus:"⊞",trianglePlus:"⨹",plusMinus:"±",minusPlus:"∓",dotPlus:"∔",altHebrewPlus:"﬩",normalSpace:" ",thinSpace:" ",narrowNoBreakSpace:" ",noBreakSpace:" "},rawValueDivisor:{none:null,percentage:100,permille:1e3,basisPoint:1e4},readOnly:{readOnly:!0,readWrite:!1},roundingMethod:{halfUpSymmetric:"S",halfUpAsymmetric:"A",halfDownSymmetric:"s",halfDownAsymmetric:"a",halfEvenBankersRounding:"B",upRoundAwayFromZero:"U",downRoundTowardZero:"D",toCeilingTowardPositiveInfinity:"C",toFloorTowardNegativeInfinity:"F",toNearest05:"N05",toNearest05Alt:"CHF",upToNext05:"U05",downToNext05:"D05"},saveValueToSessionStorage:{save:!0,doNotSave:!1},selectNumberOnly:{selectNumbersOnly:!0,selectAll:!1},selectOnFocus:{select:!0,doNotSelect:!1},serializeSpaces:{plus:"+",percent:"%20"},showOnlyNumbersOnFocus:{onlyNumbers:!0,showAll:!1},showPositiveSign:{show:!0,hide:!1},showWarnings:{show:!0,hide:!1},styleRules:{none:null,positiveNegative:{positive:"autoNumeric-positive",negative:"autoNumeric-negative"},range0To100With4Steps:{ranges:[{min:0,max:25,class:"autoNumeric-red"},{min:25,max:50,class:"autoNumeric-orange"},{min:50,max:75,class:"autoNumeric-yellow"},{min:75,max:100,class:"autoNumeric-green"}]},evenOdd:{userDefined:[{callback:function(t){return t%2==0},classes:["autoNumeric-even","autoNumeric-odd"]}]},rangeSmallAndZero:{userDefined:[{callback:function(t){return t>=-1&&t<0?0:0===Number(t)?1:t>0&&t<=1?2:null},classes:["autoNumeric-small-negative","autoNumeric-zero","autoNumeric-small-positive"]}]}},suffixText:{none:"",percentage:"%",permille:"‰",basisPoint:"‱"},symbolWhenUnfocused:{none:null,percentage:"%",permille:"‰",basisPoint:"‱"},unformatOnHover:{unformat:!0,doNotUnformat:!1},unformatOnSubmit:{unformat:!0,keepCurrentValue:!1},upDownStep:{progressive:"progressive"},valuesToStrings:{none:null,zeroDash:{0:"-"},oneAroundZero:{"-1":"Min",1:"Max"}},watchExternalChanges:{watch:!0,doNotWatch:!1},wheelOn:{focus:"focus",hover:"hover"},wheelStep:{progressive:"progressive"}},R=U.options,Object.getOwnPropertyNames(R).forEach((function(t){"valuesToStrings"===t?Object.getOwnPropertyNames(R.valuesToStrings).forEach((function(t){null!==R.valuesToStrings[t]&&Object.freeze(R.valuesToStrings[t])})):"styleRules"!==t&&null!==R[t]&&Object.freeze(R[t])})),Object.freeze(R),Object.defineProperty(U,"options",{configurable:!1,writable:!1}),U.defaultSettings={allowDecimalPadding:U.options.allowDecimalPadding.always,alwaysAllowDecimalCharacter:U.options.alwaysAllowDecimalCharacter.doNotAllow,caretPositionOnFocus:U.options.caretPositionOnFocus.doNoForceCaretPosition,createLocalList:U.options.createLocalList.createList,currencySymbol:U.options.currencySymbol.none,currencySymbolPlacement:U.options.currencySymbolPlacement.prefix,decimalCharacter:U.options.decimalCharacter.dot,decimalCharacterAlternative:U.options.decimalCharacterAlternative.none,decimalPlaces:U.options.decimalPlaces.two,decimalPlacesRawValue:U.options.decimalPlacesRawValue.useDefault,decimalPlacesShownOnBlur:U.options.decimalPlacesShownOnBlur.useDefault,decimalPlacesShownOnFocus:U.options.decimalPlacesShownOnFocus.useDefault,defaultValueOverride:U.options.defaultValueOverride.doNotOverride,digitalGroupSpacing:U.options.digitalGroupSpacing.three,digitGroupSeparator:U.options.digitGroupSeparator.comma,divisorWhenUnfocused:U.options.divisorWhenUnfocused.none,emptyInputBehavior:U.options.emptyInputBehavior.focus,eventBubbles:U.options.eventBubbles.bubbles,eventIsCancelable:U.options.eventIsCancelable.isCancelable,failOnUnknownOption:U.options.failOnUnknownOption.ignore,formatOnPageLoad:U.options.formatOnPageLoad.format,formulaMode:U.options.formulaMode.disabled,historySize:U.options.historySize.medium,invalidClass:U.options.invalidClass,isCancellable:U.options.isCancellable.cancellable,leadingZero:U.options.leadingZero.deny,maximumValue:U.options.maximumValue.tenTrillions,minimumValue:U.options.minimumValue.tenTrillions,modifyValueOnUpDownArrow:U.options.modifyValueOnUpDownArrow.modifyValue,modifyValueOnWheel:U.options.modifyValueOnWheel.modifyValue,negativeBracketsTypeOnBlur:U.options.negativeBracketsTypeOnBlur.none,negativePositiveSignPlacement:U.options.negativePositiveSignPlacement.none,negativeSignCharacter:U.options.negativeSignCharacter.hyphen,negativePositiveSignBehavior:U.options.negativePositiveSignBehavior.doNotToggle,noEventListeners:U.options.noEventListeners.addEvents,onInvalidPaste:U.options.onInvalidPaste.error,outputFormat:U.options.outputFormat.none,overrideMinMaxLimits:U.options.overrideMinMaxLimits.doNotOverride,positiveSignCharacter:U.options.positiveSignCharacter.plus,rawValueDivisor:U.options.rawValueDivisor.none,readOnly:U.options.readOnly.readWrite,roundingMethod:U.options.roundingMethod.halfUpSymmetric,saveValueToSessionStorage:U.options.saveValueToSessionStorage.doNotSave,selectNumberOnly:U.options.selectNumberOnly.selectNumbersOnly,selectOnFocus:U.options.selectOnFocus.select,serializeSpaces:U.options.serializeSpaces.plus,showOnlyNumbersOnFocus:U.options.showOnlyNumbersOnFocus.showAll,showPositiveSign:U.options.showPositiveSign.hide,showWarnings:U.options.showWarnings.show,styleRules:U.options.styleRules.none,suffixText:U.options.suffixText.none,symbolWhenUnfocused:U.options.symbolWhenUnfocused.none,unformatOnHover:U.options.unformatOnHover.unformat,unformatOnSubmit:U.options.unformatOnSubmit.keepCurrentValue,upDownStep:"1",valuesToStrings:U.options.valuesToStrings.none,watchExternalChanges:U.options.watchExternalChanges.doNotWatch,wheelOn:U.options.wheelOn.focus,wheelStep:U.options.wheelStep.progressive},Object.freeze(U.defaultSettings),Object.defineProperty(U,"defaultSettings",{configurable:!1,writable:!1});var j={digitGroupSeparator:U.options.digitGroupSeparator.dot,decimalCharacter:U.options.decimalCharacter.comma,decimalCharacterAlternative:U.options.decimalCharacterAlternative.dot,currencySymbol:" €",currencySymbolPlacement:U.options.currencySymbolPlacement.suffix,negativePositiveSignPlacement:U.options.negativePositiveSignPlacement.prefix},K={digitGroupSeparator:U.options.digitGroupSeparator.comma,decimalCharacter:U.options.decimalCharacter.dot,currencySymbol:U.options.currencySymbol.dollar,currencySymbolPlacement:U.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:U.options.negativePositiveSignPlacement.right},z={digitGroupSeparator:U.options.digitGroupSeparator.comma,decimalCharacter:U.options.decimalCharacter.dot,currencySymbol:U.options.currencySymbol.yen,currencySymbolPlacement:U.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:U.options.negativePositiveSignPlacement.right};f.cloneObject(j).formulaMode=U.options.formulaMode.enabled;var W=f.cloneObject(j);W.minimumValue=0;var G=f.cloneObject(j);G.maximumValue=0,G.negativePositiveSignPlacement=U.options.negativePositiveSignPlacement.prefix;var H=f.cloneObject(j);H.digitGroupSeparator=U.options.digitGroupSeparator.normalSpace;var Z=f.cloneObject(H);Z.minimumValue=0;var q=f.cloneObject(H);q.maximumValue=0,q.negativePositiveSignPlacement=U.options.negativePositiveSignPlacement.prefix;var $=f.cloneObject(j);$.currencySymbol=U.options.currencySymbol.none,$.suffixText=" ".concat(U.options.suffixText.percentage),$.wheelStep=1e-4,$.rawValueDivisor=U.options.rawValueDivisor.percentage;var Y=f.cloneObject($);Y.minimumValue=0;var J=f.cloneObject($);J.maximumValue=0,J.negativePositiveSignPlacement=U.options.negativePositiveSignPlacement.prefix;var X=f.cloneObject($);X.decimalPlaces=3;var Q=f.cloneObject(Y);Q.decimalPlaces=3;var ee=f.cloneObject(J);ee.decimalPlaces=3,f.cloneObject(K).formulaMode=U.options.formulaMode.enabled;var te=f.cloneObject(K);te.minimumValue=0;var ie=f.cloneObject(K);ie.maximumValue=0,ie.negativePositiveSignPlacement=U.options.negativePositiveSignPlacement.prefix;var ne=f.cloneObject(ie);ne.negativeBracketsTypeOnBlur=U.options.negativeBracketsTypeOnBlur.parentheses;var ae=f.cloneObject(K);ae.currencySymbol=U.options.currencySymbol.none,ae.suffixText=U.options.suffixText.percentage,ae.wheelStep=1e-4,ae.rawValueDivisor=U.options.rawValueDivisor.percentage;var re=f.cloneObject(ae);re.minimumValue=0;var oe=f.cloneObject(ae);oe.maximumValue=0,oe.negativePositiveSignPlacement=U.options.negativePositiveSignPlacement.prefix;var se=f.cloneObject(ae);se.decimalPlaces=3;var le=f.cloneObject(re);le.decimalPlaces=3;var ue=f.cloneObject(oe);ue.decimalPlaces=3;var ce=f.cloneObject(j);ce.currencySymbol=U.options.currencySymbol.lira,U.predefinedOptions={euro:j,euroPos:W,euroNeg:G,euroSpace:H,euroSpacePos:Z,euroSpaceNeg:q,percentageEU2dec:$,percentageEU2decPos:Y,percentageEU2decNeg:J,percentageEU3dec:X,percentageEU3decPos:Q,percentageEU3decNeg:ee,dollar:K,dollarPos:te,dollarNeg:ie,dollarNegBrackets:ne,percentageUS2dec:ae,percentageUS2decPos:re,percentageUS2decNeg:oe,percentageUS3dec:se,percentageUS3decPos:le,percentageUS3decNeg:ue,French:j,Spanish:j,NorthAmerican:K,British:{digitGroupSeparator:U.options.digitGroupSeparator.comma,decimalCharacter:U.options.decimalCharacter.dot,currencySymbol:U.options.currencySymbol.pound,currencySymbolPlacement:U.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:U.options.negativePositiveSignPlacement.right},Swiss:{digitGroupSeparator:U.options.digitGroupSeparator.apostrophe,decimalCharacter:U.options.decimalCharacter.dot,currencySymbol:" CHF",currencySymbolPlacement:U.options.currencySymbolPlacement.suffix,negativePositiveSignPlacement:U.options.negativePositiveSignPlacement.prefix},Japanese:z,Chinese:z,Brazilian:{digitGroupSeparator:U.options.digitGroupSeparator.dot,decimalCharacter:U.options.decimalCharacter.comma,currencySymbol:U.options.currencySymbol.real,currencySymbolPlacement:U.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:U.options.negativePositiveSignPlacement.right},Turkish:ce,dotDecimalCharCommaSeparator:{digitGroupSeparator:U.options.digitGroupSeparator.comma,decimalCharacter:U.options.decimalCharacter.dot},commaDecimalCharDotSeparator:{digitGroupSeparator:U.options.digitGroupSeparator.dot,decimalCharacter:U.options.decimalCharacter.comma,decimalCharacterAlternative:U.options.decimalCharacterAlternative.dot},integer:{decimalPlaces:0},integerPos:{minimumValue:U.options.minimumValue.zero,decimalPlaces:0},integerNeg:{maximumValue:U.options.maximumValue.zero,decimalPlaces:0},float:{allowDecimalPadding:U.options.allowDecimalPadding.never},floatPos:{allowDecimalPadding:U.options.allowDecimalPadding.never,minimumValue:U.options.minimumValue.zero,maximumValue:U.options.maximumValue.tenTrillions},floatNeg:{allowDecimalPadding:U.options.allowDecimalPadding.never,minimumValue:U.options.minimumValue.tenTrillions,maximumValue:U.options.maximumValue.zero},numeric:{digitGroupSeparator:U.options.digitGroupSeparator.noSeparator,decimalCharacter:U.options.decimalCharacter.dot,currencySymbol:U.options.currencySymbol.none},numericPos:{digitGroupSeparator:U.options.digitGroupSeparator.noSeparator,decimalCharacter:U.options.decimalCharacter.dot,currencySymbol:U.options.currencySymbol.none,minimumValue:U.options.minimumValue.zero,maximumValue:U.options.maximumValue.tenTrillions},numericNeg:{digitGroupSeparator:U.options.digitGroupSeparator.noSeparator,decimalCharacter:U.options.decimalCharacter.dot,currencySymbol:U.options.currencySymbol.none,minimumValue:U.options.minimumValue.tenTrillions,maximumValue:U.options.maximumValue.zero}},Object.getOwnPropertyNames(U.predefinedOptions).forEach((function(t){Object.freeze(U.predefinedOptions[t])})),Object.freeze(U.predefinedOptions),Object.defineProperty(U,"predefinedOptions",{configurable:!1,writable:!1});const he=U;return n.default})(),i=n();var h=i;const d=i.AutoNumeric;export{d as AutoNumeric,h as default};

