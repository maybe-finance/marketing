// masonry-layout@4.2.2 downloaded from https://ga.jspm.io/npm:masonry-layout@4.2.2/masonry.js

import t from"outlayer";import i from"get-size";var o="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var r={};(function(o,e){r?r=e(t,i):o.Masonry=e(o.Outlayer,o.getSize)})(window,(function factory(t,i){var r=t.create("masonry");r.compatOptions.fitWidth="isFitWidth";var e=r.prototype;e._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();(this||o).colYs=[];for(var t=0;t<(this||o).cols;t++)(this||o).colYs.push(0);(this||o).maxY=0;(this||o).horizontalColIndex=0};e.measureColumns=function(){this.getContainerWidth();if(!(this||o).columnWidth){var t=(this||o).items[0];var r=t&&t.element;(this||o).columnWidth=r&&i(r).outerWidth||(this||o).containerWidth}var e=(this||o).columnWidth+=(this||o).gutter;var h=(this||o).containerWidth+(this||o).gutter;var n=h/e;var s=e-h%e;var a=s&&s<1?"round":"floor";n=Math[a](n);(this||o).cols=Math.max(n,1)};e.getContainerWidth=function(){var t=this._getOption("fitWidth");var r=t?(this||o).element.parentNode:(this||o).element;var e=i(r);(this||o).containerWidth=e&&e.innerWidth};e._getItemLayoutPosition=function(t){t.getSize();var i=t.size.outerWidth%(this||o).columnWidth;var r=i&&i<1?"round":"ceil";var e=Math[r](t.size.outerWidth/(this||o).columnWidth);e=Math.min(e,(this||o).cols);var h=(this||o).options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition";var n=this[h](e,t);var s={x:(this||o).columnWidth*n.col,y:n.y};var a=n.y+t.size.outerHeight;var l=e+n.col;for(var u=n.col;u<l;u++)(this||o).colYs[u]=a;return s};e._getTopColPosition=function(t){var i=this._getTopColGroup(t);var o=Math.min.apply(Math,i);return{col:i.indexOf(o),y:o}};e._getTopColGroup=function(t){if(t<2)return(this||o).colYs;var i=[];var r=(this||o).cols+1-t;for(var e=0;e<r;e++)i[e]=this._getColGroupY(e,t);return i};e._getColGroupY=function(t,i){if(i<2)return(this||o).colYs[t];var r=(this||o).colYs.slice(t,t+i);return Math.max.apply(Math,r)};e._getHorizontalColPosition=function(t,i){var r=(this||o).horizontalColIndex%(this||o).cols;var e=t>1&&r+t>(this||o).cols;r=e?0:r;var h=i.size.outerWidth&&i.size.outerHeight;(this||o).horizontalColIndex=h?r+t:(this||o).horizontalColIndex;return{col:r,y:this._getColGroupY(r,t)}};e._manageStamp=function(t){var r=i(t);var e=this._getElementOffset(t);var h=this._getOption("originLeft");var n=h?e.left:e.right;var s=n+r.outerWidth;var a=Math.floor(n/(this||o).columnWidth);a=Math.max(0,a);var l=Math.floor(s/(this||o).columnWidth);l-=s%(this||o).columnWidth?0:1;l=Math.min((this||o).cols-1,l);var u=this._getOption("originTop");var c=(u?e.top:e.bottom)+r.outerHeight;for(var d=a;d<=l;d++)(this||o).colYs[d]=Math.max(c,(this||o).colYs[d])};e._getContainerSize=function(){(this||o).maxY=Math.max.apply(Math,(this||o).colYs);var t={height:(this||o).maxY};this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth());return t};e._getContainerFitWidth=function(){var t=0;var i=(this||o).cols;while(--i){if(0!==(this||o).colYs[i])break;t++}return((this||o).cols-t)*(this||o).columnWidth-(this||o).gutter};e.needsResizeLayout=function(){var t=(this||o).containerWidth;this.getContainerWidth();return t!=(this||o).containerWidth};return r}));var e=r;export default e;

